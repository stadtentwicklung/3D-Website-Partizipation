var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,e=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),j=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],k=null;if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){k=aB.plugins[ab].description;if(k&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;d=false;k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(k)?parseInt(k.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof af.ActiveXObject!=aq){try{var i=new ActiveXObject(X);if(i){k=i.GetVariable("$version");if(k){d=true;k=k.split(" ")[1].split(",");f=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)]}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:j}}(),aK=function(){if(!ah.w3){return}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP()}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false)}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);aP()}});if(af==top){(function(){if(ak){return}try{aL.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aP()})()}}if(ah.wk){(function(){if(ak){return}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return}aP()})()}aC(aP)}}();function aP(){if(ak){return}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b)}catch(a){return}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]()}}function aj(a){if(ak){a()}else{Z[Z.length]=a}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false)}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false)}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a)}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a()}}else{af.onload=a}}}}}function aN(){if(aa){Y()}else{am()}}function Y(){var d=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(c<10){c++;setTimeout(arguments.callee,10);return}}d.removeChild(b);a=null;am()})()}else{am()}}function am(){var g=aG.length;if(g>0){for(var h=0;h<g;h++){var c=aG[h].id;var l=aG[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var i=aS(c);if(i){if(ao(aG[h].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);if(l){a.success=true;a.ref=av(c);l(a)}}else{if(aG[h].expressInstall&&au()){var e={};e.data=aG[h].expressInstall;e.width=i.getAttribute("width")||"0";e.height=i.getAttribute("height")||"0";if(i.getAttribute("class")){e.styleclass=i.getAttribute("class")}if(i.getAttribute("align")){e.align=i.getAttribute("align")}var f={};var d=i.getElementsByTagName("param");var k=d.length;for(var j=0;j<k;j++){if(d[j].getAttribute("name").toLowerCase()!="movie"){f[d[j].getAttribute("name")]=d[j].getAttribute("value")}}ae(e,f,c,l)}else{aF(i);if(l){l(a)}}}}}else{ay(c,true);if(l){var b=av(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b}l(a)}}}}}function av(b){var d=null;var c=aS(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c}else{var a=c.getElementsByTagName(aD)[0];if(a){d=a}}}return d}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312)}function ae(f,d,h,e){aU=true;ap=e||null;at={success:false,id:h};var a=aS(h);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null}else{aJ=a;ad=h}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310"}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137"}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c}else{d.flashvars=c}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}aA(f,d,h)}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.replaceChild(aO(a),a)}}function aO(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML}else{var e=b.getElementsByTagName(aD)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true))}}}}}return d}function aA(e,g,c){var d,a=aS(c);if(ah.wk&&ah.wk<312){return d}if(a){if(typeof e.id==aq){e.id=c}if(ah.ie&&ah.win){var f="";for(var i in e){if(e[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){g.movie=e[i]}else{if(i.toLowerCase()=="styleclass"){f+=' class="'+e[i]+'"'}else{if(i.toLowerCase()!="classid"){f+=" "+i+'="'+e[i]+'"'}}}}}var h="";for(var j in g){if(g[j]!=Object.prototype[j]){h+='<param name="'+j+'" value="'+g[j]+'" />'}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aS(e.id)}else{var b=ar(aD);b.setAttribute("type",aE);for(var k in e){if(e[k]!=Object.prototype[k]){if(k.toLowerCase()=="styleclass"){b.setAttribute("class",e[k])}else{if(k.toLowerCase()!="classid"){b.setAttribute(k,e[k])}}}}for(var l in g){if(g[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"){aQ(b,l,g[l])}}a.parentNode.replaceChild(b,a);d=b}}return d}function aQ(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a)}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.removeChild(b)}}}function aT(a){var b=aS(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null}}b.parentNode.removeChild(b)}}function aS(a){var c=null;try{c=aL.getElementById(a)}catch(b){}return c}function ar(a){return aL.createElement(a)}function aM(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b]}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false}function az(b,f,a,c){if(ah.ie&&ah.mac){return}var e=aL.getElementsByTagName("head")[0];if(!e){return}var g=(a&&typeof a=="string")?a:"screen";if(c){aH=null;an=null}if(!aH||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aH=e.appendChild(d);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1]}an=g}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,f)}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+f+"}"))}}}function ay(a,c){if(!aI){return}var b=c?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b}else{az("#"+a,"visibility:"+b)}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2])}var d=ag.length;for(var c=0;c<d;c++){aw(ag[c])}for(var e in ah){ah[e]=null}ah=null;for(var f in swfobject){swfobject[f]=null}swfobject=null})}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aG[aG.length]=d;ay(a,false)}else{if(b){b({success:false,id:a})}}},getObjectById:function(a){if(ah.w3){return av(a)}},embedSWF:function(k,e,h,f,c,a,b,i,g,j){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&k&&e&&h&&f&&c){ay(e,false);aj(function(){h+="";f+="";var q={};if(g&&typeof g===aD){for(var o in g){q[o]=g[o]}}q.data=k;q.width=h;q.height=f;var n={};if(i&&typeof i===aD){for(var p in i){n[p]=i[p]}}if(b&&typeof b===aD){for(var l in b){if(typeof n.flashvars!=aq){n.flashvars+="&"+l+"="+b[l]}else{n.flashvars=l+"="+b[l]}}}if(ao(c)){var m=aA(q,n,e);if(q.id==e){ay(e,true)}d.success=true;d.ref=m}else{if(a&&au()){q.data=a;ae(q,n,e,j);return}else{ay(e,true)}}if(j){j(d)}})}else{if(j){j(d)}}},switchOffAutoHideShow:function(){aI=false},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]}},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c)}else{return undefined}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c)}},removeSWF:function(a){if(ah.w3){aw(a)}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d)}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1]}if(b==null){return ai(a)}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block"}}if(ap){ap(at)}}aU=false}}}}();
var FlashDetect=new function(){var a=this;a.installed=false;a.raw="";a.major=-1;a.minor=-1;a.revision=-1;a.revisionStr="";var b=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(h){return d(h)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(k){var h="6,0,21";try{k.AllowScriptAccess="always";h=d(k)}catch(j){}return h}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(h){return d(h)}}];var d=function(k){var h=-1;try{h=k.GetVariable("$version")}catch(j){}return h};var g=function(h){var k=-1;try{k=new ActiveXObject(h)}catch(j){k={activeXError:true}}return k};var c=function(j){var h=j.split(",");return{raw:j,major:parseInt(h[0].split(" ")[1],10),minor:parseInt(h[1],10),revision:parseInt(h[2],10),revisionStr:h[2]}};var f=function(l){var j=l.split(/ +/);var k=j[2].split(/\./);var h=j[3];return{raw:l,major:parseInt(k[0],10),minor:parseInt(k[1],10),revisionStr:h,revision:e(h)}};var e=function(h){return parseInt(h.replace(/[a-zA-Z]/g,""),10)||a.revision};a.majorAtLeast=function(h){return a.major>=h};a.minorAtLeast=function(h){return a.minor>=h};a.revisionAtLeast=function(h){return a.revision>=h};a.versionAtLeast=function(j){var k=[a.major,a.minor,a.revision];var h=Math.min(k.length,arguments.length);for(i=0;i<h;i++){if(k[i]>=arguments[i]){if(i+1<h&&k[i]==arguments[i]){continue}else{return true}}else{return false}}};a.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var l="application/x-shockwave-flash";var k=navigator.mimeTypes;if(k&&k[l]&&k[l].enabledPlugin&&k[l].enabledPlugin.description){var h=k[l].enabledPlugin.description;var m=f(h);a.raw=m.raw;a.major=m.major;a.minor=m.minor;a.revisionStr=m.revisionStr;a.revision=m.revision;a.installed=true}}else{if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){var h=-1;for(var j=0;j<b.length&&h==-1;j++){var n=g(b[j].name);if(!n.activeXError){a.installed=true;h=b[j].version(n);if(h!=-1){var m=c(h);a.raw=m.raw;a.major=m.major;a.minor=m.minor;a.revision=m.revision;a.revisionStr=m.revisionStr}}}}}}()};FlashDetect.JS_RELEASE="1.0.4";
(function(){var C=function(){var e=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);return e?parseInt(e[1],10):0},B=function(e){return !!document.currentScript&&(-1!=document.currentScript.src.indexOf("?"+e)||-1!=document.currentScript.src.indexOf("&"+e))},A=B("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",z=B("loadCastFramework")||B("loadCastApplicationFramework"),s=function(){return"function"==typeof window.__onGCastApiAvailable?window.__onGCastApiAvailable:null},o=["boadgeojelhgndaghljhdicfkmllpafd","dliochdbjfkdbacpmhlcpmleaejidimm","enhhojjnijigcajfphajepfemndkmdlo","fmfcbgogabcbclcofgocippekhfcmgfj"],j=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","fjhoaacokmgbjemoflkofnenfaiekifl"],i=50<=C()?j.concat(o):o.concat(j),d=function(f,h){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&h(!0)};e.onerror=function(){h(!1)};try{e.open("GET",f,!0),e.send()}catch(g){h(!1)}},I=function(f){if(f>=i.length){c()}else{var g=i[f],e="chrome-extension://"+g+A;0<=o.indexOf(g)?d(e,function(h){h?(window.chrome.cast=window.chrome.cast||{},window.chrome.cast.extensionId=g,b(e,c)):I(f+1)}):b(e,function(){I(f+1)})}},b=function(f,h,e){var g=document.createElement("script");g.onerror=h;e&&(g.onload=e);g.src=f;(document.head||document.documentElement).appendChild(g)},H=function(e){return 0<=window.navigator.userAgent.indexOf(e)},c=function(){var e=s();e&&e(!1,"No cast extension found")},G=function(){if(z){var f=2,g=s(),e=function(){f--;0==f&&g&&g(!0)};window.__onGCastApiAvailable=e;b("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",c,e)}};a:{if(H("CriOS")){var F=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;if(F){G();F({command:"cast.sender.init"});break a}}if(!window.chrome||H("Edge")){c()}else{if(G(),H("Android")&&H("Chrome/")&&window.navigator.presentation){var E="",D=C();55<=D?E="55":50<=D&&(E="50");b("//www.gstatic.com/eureka/clank"+E+A,c)}else{I(0)}}}})();
if(typeof JSON!=="object"){JSON={}}(function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}var gap,indent,meta,rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
var js3q=(function(){var a=function(g){var d=0;var h="playout.3qsdn.com";var j=g.container;var i=function(k){return"&"+Object.keys(k).reduce(function(l,m){l.push(m+"="+encodeURIComponent(k[m]));return l},[]).join("&")};var b=function(l,m,n){var k=c(l);if(typeof(k)!="undefined"&&k!=null){k.setAttribute(m,n)}};var e=function(n,m,o){var k=c(n);if(typeof(k)!="undefined"&&k!=null){var l=k.appendChild(document.createElement(m));l.setAttribute("id",o)}};var c=function(l){var k=document.getElementById(l);if(typeof(k)!="undefined"&&k!=null){return k}};var f=function(){var l=1.777777777777778;if(g.aspect){l=g.aspect}if(c(g.container)){var k=Math.round(c(j).clientWidth/l)}};this.init=function(){if(g.env){h=g.env}if(!g.height){g.width="100%";g.height="100%";e(j,"div",g.container);b(g.container,"style","width:100%;height:100%;");d=1}else{b(j,"style","width:100%;height:100%;")}b(g.container,"style","width:100%;height:100%;");if(d==1){f()}var l="https://"+h+"/"+g["data-id"]+"?js=true"+i(g);var k=document.createElement("script");k.type="text/javascript";k.async=true;k.src=l;document.getElementById(j).appendChild(k);window.addEventListener("resize",function(m){if(d==1){f()}})};this.play=function(){document.getElementById(g.container).play2()};this.play2=function(){document.getElementById(g.container).play2()};this.pause=function(){document.getElementById(g.container).pause()};this.setVolume=function(k){document.getElementById(g.container).setVolume(k)};this.getVolume=function(){return document.getElementById(g.container).getVolume()};this.seek=function(k){document.getElementById(g.container).seek(k)};this.getCurrentTime=function(){return document.getElementById(g.container).getCurrentTime()};this.getDuration=function(){return document.getElementById(g.container).getDuration()};this.getSubtitles=function(){return document.getElementById(g.container).getSubtitles()};this.setSubtitles=function(k){document.getElementById(g.container).setSubtitles(k)};this.getAudioTracks=function(){return document.getElementById(g.container).getAudioTracks()};this.setAudioTrack=function(k){document.getElementById(g.container).setAudioTrack(k)};this.hideControlbar=function(){document.getElementById(g.container).hideControlbar()};this.mute=function(){document.getElementById(g.container).mute()};this.unmute=function(){document.getElementById(g.container).unmute()};this.exitfullscreen=function(){document.getElementById(g.container).exitfullscreen()};this.fullscreen=function(){document.getElementById(g.container).fullscreen()};this.getPlaybackTime=function(){return document.getElementById(g.container).getPlaybackTime()};this.getFullPlaybackTime=function(){return document.getElementById(g.container).getFullPlaybackTime()};this.showSideBarInfoIcon=function(){return document.getElementById(g.container).showSideBarInfoIcon()};this.getLiveDelayInSeconds=function(){return document.getElementById(g.container).getLiveDelayInSeconds()};this.showSideBar=function(){return document.getElementById(g.container).showSideBar()};this.hideSideBar=function(){return document.getElementById(g.container).hideSideBar()};this.setSideBarHTML=function(k){return document.getElementById(g.container).setSideBarHTML(k)};this.getStreamType=function(){return document.getElementById(g.container).getStreamType()};this.getCurrentSegNumber=function(){return document.getElementById(g.container).getCurrentSegNumber()};this.getVideoInfo=function(){return document.getElementById(g.container).getVideoInfo()};this.resize=function(){if(d){f()}};this.destroy=function(){if(document.getElementById(g.container)){if(typeof document.getElementById(g.container).destroy==="function"){document.getElementById(g.container).destroy()}}}};return a})();
var sdnCast=(function(){var a=function(l,J){var F="urn:x-cast:com.google.cast.sdn.player";var i=function(){var N=navigator.languages?navigator.languages[0]:(navigator.language||navigator.userLanguage);if(N){return N}return null};var h=function(){switch(i()){case"de-DE":_chosenLocale="de-DE";break;case"en":_chosenLocale="en";break;case"en-US":_chosenLocale="en";break;case"en-GB":_chosenLocale="en";break;default:_chosenLocale="de-DE";break}};var A={"de-DE":{start:"Cast App gestartet",choose:"Ger&auml;t ausw&auml;hlen",changed:"Video auf Cast geladen"},en:{start:"Cast app starts",choose:"Choose Chrome device",changed:"New video loaded on cast device"}};var k=J;var K="de-DE";var L={container:"sdnPlayer",hlsURI:"",playerConfig:{}};var e={controlbar:0,adstalling:0,admanager:0,play:0,scrolltoplay:0,sticky:0,forms:0,seekpointerstalling:0,qualitymenu:0,disabledqualitymenu:0,chaptermenu:0,firstscroll:0,seekbardown:false,fullscreen:0,firststart:0,oldvolume:1,oldvolumewidth:100,error:0,bridgeCreated:0,streamBlockDirectInsert:0,blockControlsOnAd:0,sideBar:0,cssLoaded:0,restoreControls:0,menuVisibility:0,skipButton:0,adRemaningChanged:0,adBlockCountdown:0,readyEventTriggered:0,castAvailbility:0,lastAudioIndex:0,audioIndexChanged:0,subTitleIndex:0};this.setConfig=function(O,N){L=O;e=N};var w=function(O,P){var N=D(O);if(typeof(N)!="undefined"&&N!=null){N.innerHTML=P}};var I=function(O,P,Q){var N=D(O);if(typeof(N)!="undefined"&&N!=null){N.setAttribute(P,Q)}};var D=function(O){var N=document.getElementById(O);if(typeof(N)!="undefined"&&N!=null){return N}};var z=null;var B=null;var x=null;this.init=function(){var P=[chrome.cast.AutoJoinPolicy.PAGE_SCOPED,chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED];var O;if(L.env){if(L.env!="playout.3qsdn.com"){O=new chrome.cast.SessionRequest("8B247668")}else{O=new chrome.cast.SessionRequest("2517C66C")}}else{O=new chrome.cast.SessionRequest("2517C66C")}var N=new chrome.cast.ApiConfig(O,E,o,P[1]);chrome.cast.initialize(N,m,q);h()};this.launchApp=function(){b()};function m(){B=JSON.parse(localStorage.getItem("storedSession"));if(B){var O=B.timestamp;var N=new Date().getTime();k("media","loaded");if(z){d("init",{id:L.id,key:L.key,timestamp:L.timestamp,resumeAt:e.lastPauseTime,tintColor:L.tintColor})}}}function q(N){console.dir(N)}function y(N){}function j(){k("session","stopped")}function E(N){f(A[K].start);z=N;k("media","loaded");k("session","started");z.addUpdateListener(G.bind(this));z.addMessageListener(F,C);if(z){d("init",{id:L.id,key:L.key,timestamp:L.timestamp,resumeAt:e.lastPauseTime,tintColor:L.tintColor})}}function C(O,P){var N=JSON.parse(P);k("media",{event:N.event,data:N.data})}function G(N){if(!N){z=null;k("session","stopped")}}function o(N){if(N==="available"){console.log("receiver found")}else{}}function b(){chrome.cast.requestSession(p,g);if(x){clearInterval(x)}f(A[K].choose)}function p(N){k("media",{event:"loaded"});H(N.sessionId);z=N;z.addUpdateListener(G.bind(this));z.addMessageListener(F,C);if(z){d("init",{id:L.id,key:L.key,timestamp:L.timestamp,resumeAt:e.lastPauseTime,tintColor:L.tintColor})}}function g(N){console.dir(N)}function H(O){if(typeof(Storage)!="undefined"){var N={id:O,timestamp:new Date().getTime()};localStorage.setItem("storedSession",JSON.stringify(N))}}function n(){if(B){chrome.cast.requestSessionById(B.id)}}function t(){z.stop(j,q);if(x){clearInterval(x)}}function d(P,O){var N={command:P,data:O};if(z!=null){z.sendMessage(F,N,null,q)}else{chrome.cast.requestSession(function(Q){z=Q;z.sendMessage(F,N,null,q)},q)}}var v=function(){d("play",true);k("media",{event:"play"})};this.play=function(){v()};var c=function(){d("pause",true);k("media",{event:"pause"})};this.pause=function(){c()};var r=function(N){d("setVolume",N)};this.setVolume=function(N){r(N)};var s=function(N){d("seek",N)};this.seek=function(N){s(N)};var M=function(N){d("setSubtitles",N)};this.setSubtitles=function(N){M(N)};var u=function(N){d("setAudioTrack",N)};this.setAudioTrack=function(N){u(N)};function f(N){if(document.getElementById(L.container+"-infobar")){I(L.container+"-title","style","visibility:hidden;display:none;");I(L.container+"-infobar","class","sdn-infobar");I(L.container+"-share-menu","class","sdn-share-menu sdn-hide");w(L.container+"-infobar",'<p style="color:'+L.tintColor+';"><a style="color:'+L.tintColor+';" href="#" target="_blank">'+N+"</a></p>");setTimeout(function(){w(L.container+"-infobar","");I(L.container+"-infobar","class","sdn-infobar sdn-hide");I(L.container+"-share-menu","class","sdn-share-menu")},3000)}}};return a})();
var sdnVR=(function(){var a=function(F){var h={container:"sdnPlayer"};this.setConfig=function(G){h=G};var k=function(){var G=false,H=navigator.platform;if(H==="iPad"||H==="iPhone"||H==="iPod"){G=true}return G};var c=function(){var G=navigator.platform.match(/(Mac)/i)?true:false;var H=navigator.platform.match(/(iPhone|iPod|iPad)/i)?true:false;var J=navigator.platform.toUpperCase().indexOf("MAC")>=0;var I=navigator.userAgent.toUpperCase().indexOf("SAFARI")>=0;if(J==true&&I==true&&typeof window.chrome=="undefined"){return true}else{return false}};function p(){var H=document.getElementById(h.container);var I="https://playout.3qsdn.com/player/js/vr.js";var G=document.createElement("script");G.type="text/javascript";G.async=true;G.src=I;H.appendChild(G)}function r(G){if(!G.alpha){return}n=new THREE.DeviceOrientationControls(x,true);n.connect();n.update();window.removeEventListener("deviceorientation",r,true)}var s,q,v,g,A,u,y,x,n,o,C,E,m,d,y,e,j,b,t,l;function f(){setTimeout(function(){requestAnimationFrame(f)},1000/60);D()}function B(){s=g.clientWidth;q=g.clientHeight;e=y.videoWidth;j=y.videoHeight;if(x){x.aspect=s/q;x.updateProjectionMatrix()}u.setSize(s,q,1);if(o){o.setSize(s,q)}}function i(){B();x.updateProjectionMatrix();n.update()}function D(){if(y.readyState===y.HAVE_ENOUGH_DATA){if(m){m.needsUpdate=true}}if(o){o.render(A,x)}}function w(){o=new THREE.StereoEffect(u);A=new THREE.Scene();x=new THREE.PerspectiveCamera(90,1,0.001,700);x.position.set(0,10,0);A.add(x);n=new THREE.OrbitControls(x);n.target.set(x.position.x+0.1,x.position.y,x.position.z);n.noZoom=true;n.noPan=true;n.autoRotate=false;var G=new THREE.HemisphereLight(7829367,0,0.6);A.add(G);m=new THREE.Texture(y);m.minFilter=THREE.LinearFilter;var H={color:16777215,map:m};var I=new THREE.SphereGeometry(600,60,40);l=new THREE.MeshBasicMaterial(H);b=new THREE.Mesh(I,l);b.scale.x=-1;A.add(b);f();window.addEventListener("deviceorientation",r,true)}function z(){A=new THREE.Scene();x=new THREE.PerspectiveCamera(45,2,0.1,10000);x.position.set(0,10,0);A.add(x);n=new THREE.OrbitControls(x);n.target.set(x.position.x+0.1,x.position.y,x.position.z);n.enableDamping=true;n.dampingFactor=0.25;n.enableZoom=false;n.enablePan=false;n.enableKeys=false;n.maxDistance=500;n.minDistance=500;n.enableZoom=false;n.enablePan=false;n.autoRotate=false;var G=new THREE.HemisphereLight(7829367,0,0.6);A.add(G);m=new THREE.Texture(y);m.minFilter=THREE.LinearFilter;var I={color:16777215,map:m};var J=new THREE.SphereGeometry(500,60,40);l=new THREE.MeshBasicMaterial(I);b=new THREE.Mesh(J,l);b.scale.x=-1;A.add(b);function H(){if(y.readyState===y.HAVE_ENOUGH_DATA){m.needsUpdate=true}n.update();u.render(A,x);requestAnimationFrame(H)}H();window.addEventListener("deviceorientation",r,true)}this.prepare=function(){p()};this.init=function(H){var G=setInterval(function(){if(typeof THREE!="undefined"){clearInterval(G);E=new THREE.Clock();v=document.getElementById(h.container);g=document.getElementById(h.container+"-sdn-display");y=document.getElementById(h.container+"-source-container");if(k()==true||c()==true){y.crossOrigin="anonymous"}y.style.display="none";s=g.clientWidth;q=g.clientHeight;u=new THREE.WebGLRenderer({antialias:false});u.setPixelRatio(window.devicePixelRatio);u.setSize(s,q);u.domElement.setAttribute("class","sdn-display-ad");u.domElement.setAttribute("id",h.container+"-vr-canvas");d=u.domElement;addResizeListener(v,B);g.appendChild(u.domElement);switch(H){case"card":w();break;default:z()}}},10)};this.destroy=function(){d.setAttribute("style","display:none;");delete d;s,q,v,g,A,u,y,x,n,o,C,E,m=null}};return a})();
var sdnPlayers=(function(){var locales={"de-DE":{quality:"Video Qualit&auml;t",subtitles:"Untertitel",auto:"Automatisch",off:"Aus",chapters:"Kapitel",playbackerror:"<b>Fehler</b><br/><br/>M&ouml;glicherweise ist ein Abspielproblem aufgetreten. Versuchen Sie es erneut oder probieren Sie einen anderen Browser.",drmerror:"<b>Fehler</b><br/><br/>Dieses Video kann nur mit DRM abgespielt werden, bitte verwenden Sie einen anderen Browser.",close:"Fenster schließen",help:"Probleme? Geben Sie uns Bescheid",stats:"Debug Informationen anzeigen",ad:"Anzeige",adendsin:" endet in ",skipin:"Anzeige &uuml;berspringen in ",skip:"Anzeige &uuml;berspringen",backtolive:" Live",audiotracks:" Audio",streamoffline:"Livestream derzeit offline",streamnotavailable:"Livestream derzeit nicht verfügbar",resume:"Wiedergabe fortsetzen",bug:{description:"Alles zutreffende auswählen",message:"Weitere Details? (optional)",submit:"Absenden",video:"Video Probleme",audio:"Ton Probleme",network:"Verbindungsproblem oder Puffern",submitmessage:'Vielen Dank für Ihr Feedback. Wir werden uns Ihre Daten ansehen und ggf. Verbesserungen für Ihr Betriebssystem oder Browser durchf&uuml;hren.<br/><br/>Auf unserer <a href="https://3q.video/de/player-about" target="_blank">Hilfeseite</a>, finden Sie Tipps zur Behebung von Abspielproblemen.'},tips:{play:"Abspielen",pause:"Anhalten",volume:"Ton anschalten",mutevolume:"Ton ausschalten",fullscreen:"Vollbild anzeigen",exitfullscreen:"Vollbild verlassen",cast:"Auf TV abspielen",backtolive:"Zur&uuml;ck zur Live&uuml;bertragung",chapter:"Kapitel",settings:"Einstellungen"}},en:{quality:"Video Quality",subtitles:"Subtitles",auto:"Auto",off:"Off",chapters:"Chapters",playbackerror:"<b>Error</b><br/><br/>An playback error occurred, please try again or try another browser.",drmerror:"<b>Error</b><br/><br/>This video requires DRM, please use a different Browser.",close:"Dismiss",help:"Problems? Give Feedback",stats:"Show Debug info",ad:"Ad",adendsin:" ends in ",skipin:"Skip this ad in ",skip:" Skip Ad",backtolive:" Back to Live",audiotracks:" Audio Tracks",streamoffline:"Livestream currently offline",streamnotavailable:"Livestream currently not available",resume:"Resume Video",bug:{description:"Select all that applies",message:"More details? (optional)",submit:"Submit",video:"Video problems",audio:"Audio problems",network:"Network problems oder buffering",submitmessage:'Thank you for your feedback. We will look at your data and make improvements to your operating system or browser if necessary.<br/><br/> At our <a href="https://3q.video/de/player-about" target="_blank">Support page</a>, you`ll find tips on how to solve play issues.'},tips:{play:"Play",pause:"Pause",volume:"Mute",mutevolume:"Unmute",fullscreen:"Fullscreen",exitfullscreen:"Exit Fullscreen",cast:"Cast on",backtolive:"Live",chapter:"Chapters",settings:"Settings"}}};var isoLangs={"639-1":{ger:{name:"German"},deu:{name:"German"},eng:{name:"English"},spa:{name:"Spanish"},heb:{name:"Hebrew"},ita:{name:"Italian"},fre:{name:"French"},fra:{name:"French"},kau:{name:"Kanuri"},jpn:{name:"Japanise"},ara:{name:"Arabic"},por:{name:"Portuguese"},vie:{name:"Vietnamese"},rus:{name:"Russian"},hun:{name:"Hungarian"}},"639-2":{de:{name:"German"},he:{name:"Hebrew"},fr:{name:"French"},en:{name:"English"},es:{name:"Spanish"},it:{name:"Italian"},hu:{name:"Hungarian"}}};var Copyright="Copyright by 3Q GmbH 2009-2019. We are hiring: jobs at 3qsdn dot com.";var sdnConstructor=function(name){var _instance=self;var _config={env:"playout.3qsdn.com",locale:false,id:"",layout:"default",tracking:false,stream:0,project_secret:"",file:0,vlength:0,uploaddate:"",seo:false,usertoken:"u0",streamsession:"",use360:false,playerBar:false,javaScriptBridge:true,javaScriptBridgeFunction:"sdnPlayerBridge",container:"sdnPlayer",streamType:"video",streamContent:"demand",initialQuality:240,preferAutoSwitch:true,controls:true,controlBarAutoHide:true,controlBarAutoHideTimeout:"3000",controlBarFullScreenAutoHide:true,tintColor:"#009cd1",sharing:false,seekBar:true,volume:0.8,debug:false,drm:false,loop:false,autoplay:false,mutedautoplay:false,preload:true,ga:true,gacallback:"ga",streamlimit:false,sticky:false,scrolltoplay:false,skin:"player",paidstyle:false,streamlimittime:0,iframe:true,fallback:"",request:false,flash:false,showTitle:false,title:"",secondtitle:"",showSideBar:false,mtitle:"",mdescription:"",showPlaylist:false,showExternalPlayerLinks:false,poster:"",logo:"",bg:"",bgcolor:"#000000",useMSE:true,playlist:false,initialIndex:"medium",interval:60,errorBox:false,errorBoxHTML:"",extraBox:false,infoPoints:false,chapters:false,subtitles:false,extraBoxHTML:"",playoutid:"",useVR:false,amp:false,channelcredits:false,channellogo:"",channelcreditline1:"",channelcreditline2:"",channelboardtitleline1:"",channelboardtitleline2:"",currentplayout:"player",countdown:"",features:true,thumbnails:false,useVast:false,vastURI:"",adpoints:"240,480,960,1440,1920,2400,2880,3360,3840,4320,4800,5280,5760,6240,6720,7200,7680,8160,8640",vastPreRollURI:"",vastMidRollURI:"",vastPostRollURI:"",vastFallbackURI:"",adslots:1,displayObjects:0,masterTag:true,liveMaxLatency:Infinity,disableDVR:false,resumeAt:0,maxBufferSize:60000000,maxStarvationDelay:4,abrEwmaDefaultEstimate:500000,liveSyncDurationCount:3,mseLib:"hls",usewebm:false,callToAction:false,strive_token:false,disablecta:false,lowLatency:false};var playerMediaElement;var media_events=["loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","volumechange","webkitplaybacktargetavailabilitychanged","addtrack"];var _stats={delta:0,bandwidth:0,liveDelay:0,avgfragDuration:0,fps:0,infopoint:0,lastFrameCount:0,lastFrameCountTick:Date.now(),lastPlaybackIntervalTick:Date.now(),lastCurrentTime:0,trackingStart:null,trackingView1:null,trackingView25:null,trackingView50:null,tackingView75:null,trackingViewComplete:null,trackingPlaybackTime:0,lastPauseTime:0,lastPauseTimeOnError:0,duration:0,mediaErrorRecoverys:0,programDateTime:0,fragments:{},lastFragmentLength:0,currentFragTimestamp:0,currentFragStarted:0,currentFragNumber:0,liveDelayMesEnabled:null,audiotracks:{},casting:0,mseUsed:0,lastLevel:0,stallErrors:0};var _timeouts={controlbar:null,infobar:false,opa:null,context:null,countdown:null,vslider:null,sticky:null};var _intervals={streamStatus:null,stats:null,fps:null,tracking:null,playback:null};var _states={controlbar:0,adstalling:0,admanager:0,play:0,scrolltoplay:0,sticky:0,forms:0,seekpointerstalling:0,qualitymenu:0,disabledqualitymenu:0,chaptermenu:0,firstscroll:0,seekbardown:false,fullscreen:0,firststart:0,oldvolume:1,oldvolumewidth:100,error:0,bridgeCreated:0,streamBlockDirectInsert:0,blockControlsOnAd:0,sideBar:0,cssLoaded:0,restoreControls:0,menuVisibility:0,skipButton:0,adRemaningChanged:0,adBlockCountdown:0,readyEventTriggered:0,castAvailbility:0,lastAudioIndex:0,audioIndexChanged:0,subTitleIndex:0,cogButtonRotate:0,blockSideBarForError:0,blockForUnmute:0,livestreamIsOnline:true,dvrSwitched:0,isDVR:false,bufferingIcon:0,lowLatencyReset:0};var _data={savedplayerstyle:""};var _sdnCountdown;var _sdnCountdownIndex;var _webmvp8Availability=0;var _dashURI=null;var _dashvp8URI=null;var _hlsURI=null;var _castSRC="";var _msePlayer,_mseVideo,_mseState=0,_mseBuffering=0;var _adDisplayContainer=null,_adLoader,_adManager,_adPointsArray={};var _thumbnailIndex={};var _referrer="na";var _subTitleArray,_subTitleInterval;var _chosenLocale="de-DE",_currentPlayerstate="player";var _vr;var _sticky={x:0,y:0};var _Caster;this.initSDNPlayer=function(c){for(var attrname in c){_config[attrname]=c[attrname]}_currentPlayerstate=_config.currentplayout;if(_config.resumeAt>0){_stats.lastPauseTime=_config.resumeAt}if(_config.env!="playout.3qsdn.com"){_config.debug=true}setHTML(_config.container,"");setAttr(_config.container,"tabindex",10);if(cssCheck()!=true){cssAppend()}else{_states.cssLoaded=1}initLocale();if(_config.amp==true){initPostMessages()}if(_config.preload!=true){loadPreloader()}else{if(_currentPlayerstate=="player"){loadPlayer()}else{if(_config.features==true){loadWall()}else{loadPlayer()}}}if(_config.streamContent=="live"&&_config.streamType=="video"){updateLivestreamStatus()}if(document.getElementById(_config.container).getAttribute("style")){_data.savedplayerstyle=document.getElementById(_config.container).getAttribute("style")}if(window&&_config.sticky==true){window.addEventListener("scroll",function(event){scrollEvent()});document.addEventListener("touchmove",function(event){scrollEvent()});window.addEventListener("touchmove",function(event){scrollEvent()});draggableElement(_config.container,function(value){})}if(_config.scrolltoplay){if(_config.scrolltoplay==true){window.addEventListener("scroll",function(){scrollToPlayEvent()})}}};var decodeHTMLchars=function(text){var map={"&amp;":"&","&#038;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"’","&#8216;":"‘","&#8211;":"–","&#8212;":"—","&#8230;":"…","&#8221;":"”"};return text.replace(/\&[\w\d\#]{2,5}\;/g,function(m){return map[m]})};var cssAppend=function(){var skin="player";if(_config.skin){skin=_config.skin}var playerContainer=getElement(_config.container);var src="https://"+_config.env+"/player/css/"+skin+".css";var link=document.createElement("link");link.type="text/css";link.rel="stylesheet";link.media="all";link.href=src;playerContainer.appendChild(link);link.onload=function(){_states.cssLoaded=1}};var cssCheck=function(){var skin="player";if(_config.skin){skin=_config.skin}var cssfile=_config.env+"/player/css/"+skin+".css";var links=document.getElementsByTagName("link");for(var i=0;i<links.length;i++){if(links[i].href.substr(-cssfile.length)==cssfile){return true}}};var getFirstBrowserLanguage=function(){var lang=navigator.languages?navigator.languages[0]:(navigator.language||navigator.userLanguage);if(lang){return lang}return null};var initLocale=function(){if(_config.locale){switch(_config.locale){case"de-DE":_chosenLocale="de-DE";break;case"de":_chosenLocale="de-DE";break;case"en":_chosenLocale="en";break;default:_chosenLocale="de-DE";break}}else{switch(getFirstBrowserLanguage()){case"de-DE":_chosenLocale="de-DE";break;case"en":_chosenLocale="en";break;case"en-US":_chosenLocale="en";break;case"en-GB":_chosenLocale="en";break;default:_chosenLocale="de-DE";break}}};var getLanguageName=function(key){var lang=(isoLangs["639-1"][key]||isoLangs["639-2"][key]);if(lang){return lang.name}else{return key}};var elementInViewport2=function(el){var r,html;if(!el||1!==el.nodeType){return false}html=document.documentElement;r=el.getBoundingClientRect();return(!!r&&r.bottom>=0&&(r.top+10)<=(html.innerHeight||html.clientHeight))};var scrollToPlayEvent=function(){if(_states.firststart==0&&_states.scrolltoplay==0){if(document){if(getElement(_config.container).parentNode){if(elementInViewport2(getElement(_config.container).parentNode)){if(_states.firststart==0&&_config.autoplay!=true){var playPromise=getElement(_config.container+"-source-container").play();if(playPromise!==undefined){playPromise.then(function(){play2();_states.scrolltoplay++},function(){})}}}}}}};var scrollEvent=function(){if(document&&isFullScreen()!=true&&_config.sticky==true){var _documentWidth=document.documentElement.clientWidth;var scale=25;if(isMobilePlatform()==true){scale=60}var calculatedWidth=Math.round(_documentWidth/100*scale);var calulatedHeight=Math.round(calculatedWidth/1.78);if(calculatedWidth>150&&getElement(_config.container)){if(getElement(_config.container+"-sdn-display")){if(getElement(_config.container+"-sdn-display").parentNode){if(calculatedWidth>150&&getElement(_config.container+"-sdn-display").parentNode){if(!elementInViewport2(getElement(_config.container+"-sdn-display").parentNode)&&typeof calculatedWidth!="undefined"&&typeof calulatedHeight!="undefined"&&(_states.play==1||_states.adstalling==1||_states.firstscroll!=0)){clearTimeout(_timeouts.sticky);if(_states.adstalling==1){if(_adManager){_adManager.resize(calculatedWidth,calulatedHeight,google.ima.ViewMode.NORMAL)}}_states.firstscroll++;setAttr(_config.container+"-sdn-display","class","sdn-player-sticky");showCloseButton();_states.sticky=1;if(_sticky.x==0){setAttr(_config.container+"-sdn-display","style","width:"+calculatedWidth+"px !important;height:"+calulatedHeight+"px !important;")}else{setAttr(_config.container+"-sdn-display","style","width:"+calculatedWidth+"px !important;height:"+calulatedHeight+"px !important;left:"+_sticky.x+"px !important;top:"+_sticky.y+"px !important;")}}else{hideCloseButton();_states.sticky=0;setAttr(_config.container+"-sdn-display","class","sdn-display");setAttr(_config.container+"-sdn-display","style","");if(_states.adstalling==1){if(_adManager){_adManager.resize(getElement(_config.container).clientWidth,getElement(_config.container).clientHeight,google.ima.ViewMode.NORMAL)}}}}}}}}};var disableSticky=function(){pause();_config.sticky=false;_states.sticky=0;setAttr(_config.container+"-sdn-display","class","sdn-display");setAttr(_config.container+"-sdn-display","style","");hideCloseButton();if(_states.adstalling==1){if(_adManager){_adManager.resize(getElement(_config.container).clientWidth,getElement(_config.container).clientHeight,google.ima.ViewMode.NORMAL)}}};var initKeyboard=function(){getElement(_config.container).onkeydown=function(e){if(e.keyCode){if(_states.forms==0){e.preventDefault();switch(e.keyCode){case 32:togglePlaying();break;case 75:togglePlaying();break;case 37:minus10();break;case 39:plus10();break;case 38:setVolume(getVolume()+0.1);clearTimeout(_timeouts.vslider);updateControlbar("showVolumeSlider");_timeouts.vslider=setTimeout(function(){updateControlbar("hideVolumeSlider")},1500);break;case 40:setVolume(getVolume()-0.1);clearTimeout(_timeouts.vslider);updateControlbar("showVolumeSlider");_timeouts.vslider=setTimeout(function(){updateControlbar("hideVolumeSlider")},1500);break;case 70:toggleFullscreen();break}}}}};var initPostMessages=function(){window.addEventListener("message",function(e){if(e.data){switch(e.data){case"play2":play2();break;case"pause":pause();break;case"mute":mute();break;case"unmute":unmute();break;case"showControlbar":playerMouseOverEvent();break;case"hideControlbar":hideControls();break}}},false)};var sdnPlaybackTimer=function(event){switch(event){case"start":_intervals.playback=setInterval(function(){var currentTime=getCurrentTime();if(_stats.lastCurrentTime!=currentTime){var now=Date.now();var dt=(now-_stats.lastPlaybackIntervalTick)/1000;if(dt<3&&(_stats.lastCurrentTime!=currentTime)){_stats.trackingPlaybackTime=_stats.trackingPlaybackTime+dt}_stats.lastPlaybackIntervalTick=now;_stats.lastCurrentTime=currentTime}},2000);break;case"stop":clearInterval(_intervals.playback);break}};var sdnTrackingCommit=function(event,time,duration){if(_states.adstalling==0){var _qualityLevel="na";if(_mseState==1){if(typeof(_msePlayer.currentLevel)!="undefined"&&_msePlayer.currentLevel!=null){var currentLevel=_msePlayer.currentLevel;if(typeof(_msePlayer.levels)!="undefined"&&_msePlayer.levels!=null){if(typeof(_msePlayer.levels[currentLevel])!="undefined"&&_msePlayer.levels[currentLevel]!=null){if(typeof(_msePlayer.levels[currentLevel].height)!="undefined"&&_msePlayer.levels[currentLevel].height!=null){_qualityLevel=_msePlayer.levels[currentLevel].height}}}}}var _streamSession="";if(_config.streamsession!=false){_streamSession=_config.streamsession}if(_config.usertoken!=0){var trackuri="https://"+_config.env+"/watchtime?event="+event+"&stream="+_config.stream+"&file="+_config.file+"&time="+Math.round(time)+"&userToken="+_config.usertoken+"&platform=html5&res="+_qualityLevel+"&referrer="+_referrer+"&streamsession="+_streamSession}else{var trackuri="https://"+_config.env+"/watchtime?event="+event+"&stream="+_config.stream+"&file="+_config.file+"&time="+Math.round(time)+"&platform=html5&res="+_qualityLevel+"&referrer="+_referrer+"&streamsession="+_streamSession}var _cRequest;if(window.XMLHttpRequest){_cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET",trackuri,true);_cRequest.onreadystatechange=function(){if(_cRequest.readyState!=4){}if(_cRequest.readyState==4&&_cRequest.status==204){}};_cRequest.timeout=3000;_cRequest.withCredentials=true;_cRequest.send(null)}};var sdnTracking=function(event,time,duration){if(_config.tracking==true&&_states.adstalling==0){if(_intervals.tracking>=40){sdnTrackingCommit("view",_stats.trackingPlaybackTime,duration);callGA("sdnPlayer","viewtime","videoplayback",_stats.trackingPlaybackTime);_intervals.tracking=0}else{_intervals.tracking++}switch(event){case"start":if(Boolean(_stats.trackingStart)==false){_stats.trackingStart=true;_stats.trackingViewComplete=false;sdnTrackingCommit(event,time,duration);callGA("sdnPlayer","start","videoplayback",_stats.trackingPlaybackTime)}break;case"view":if(_config.streamContent=="demand"){var percent=Math.round(time*100/duration);if(percent>=1&&percent<=24){if(Boolean(_stats.trackingView1)==false&&Boolean(_stats.trackingStart==true)){_stats.trackingView1=true;sdnTrackingCommit("view1",_stats.trackingPlaybackTime,duration);callGA("sdnPlayer","view1","videoplayback",_stats.trackingPlaybackTime)}}else{if(percent>=25&&percent<=49){if(Boolean(_stats.trackingView25)==false&&Boolean(_stats.trackingStart==true)){_stats.trackingView25=true;sdnTrackingCommit("view25",_stats.trackingPlaybackTime,duration);callGA("sdnPlayer","view25","videoplayback",_stats.trackingPlaybackTime)}}else{if(percent>50&&percent<=74){if(Boolean(_stats.trackingView50)==false&&Boolean(_stats.trackingStart==true)){_stats.trackingView50=true;sdnTrackingCommit("view50",_stats.trackingPlaybackTime,duration);callGA("sdnPlayer","view50","videoplayback",_stats.trackingPlaybackTime)}}else{if(percent>75&&percent<=95){if(Boolean(_stats.trackingView75)==false&&Boolean(_stats.trackingStart==true)){_stats.trackingView75=true;sdnTrackingCommit("view75",_stats.trackingPlaybackTime,duration);callGA("sdnPlayer","view75","videoplayback",_stats.trackingPlaybackTime)}}}}}}break;case"complete":if(Boolean(_stats.trackingViewComplete)==false&&Boolean(_stats.trackingStart==true)){sdnTrackingCommit(event,_stats.trackingPlaybackTime,duration);_stats.trackingViewComplete=true;callGA("sdnPlayer","complete","videoplayback",_stats.trackingPlaybackTime)}break}}};var sdnAdTracking=function(type,errors,ads,code){if(ads==1){ads="true"}else{ads="false"}if(errors==1){errors="true"}else{errors="false"}if(_config.errorBox!=true){var trackuri="https://"+_config.env+"/adrequest/"+_config.stream+"/place?type="+type+"&stream="+_config.stream+"&file="+_config.file+"&platform=html5&errors="+errors+"&ads="+ads+"&code="+code;var _cRequest;if(window.XMLHttpRequest){_cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET",trackuri,true);_cRequest.send(null)}};var pointerEventToXY=function(canvas,e){if(typeof(canvas)!="undefined"&&canvas!=null){var out={x:0,y:0};var rect=canvas.getBoundingClientRect();if(e.type=="touchstart"||e.type=="touchmove"||e.type=="touchend"||e.type=="touchcancel"){var touch=e.touches?e.touches[0]:(e.changedTouches[0]||e.changedTouches);if(touch.clientX&&touch.clientY){out.x=touch.clientX-rect.left;out.y=touch.clientY-rect.top}}else{if(e.type=="mousedown"||e.type=="mouseup"||e.type=="mousemove"||e.type=="mouseover"||e.type=="mouseout"||e.type=="mouseenter"||e.type=="mouseleave"){out.x=e.clientX-rect.left;out.y=e.clientY-rect.top}}return out}else{return{x:0,y:0}}};var getMousePos=function(canvas,evt){if(typeof(canvas)!="undefined"&&canvas!=null){var rect=canvas.getBoundingClientRect();return{x:evt.clientX-rect.left,y:evt.clientY-rect.top}}else{return{x:0,y:0}}};var addEvent=function(obj,type,fn){if(obj){if(obj.addEventListener){obj.addEventListener(type,fn,false)}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=function(){obj["e"+type+fn](window.event)};obj.attachEvent("on"+type,obj[type+fn])}}}};var removeEvent=function(obj,type,fn){if(obj){if(obj.removeEventListener){obj.removeEventListener(type,fn,false)}else{obj.detachEvent("on"+type,obj[type+fn]);obj[type+fn]=null}}};var setHTML=function(element,value){var tempElement=getElement(element);if(typeof(tempElement)!="undefined"&&tempElement!=null){tempElement.innerHTML=value}};var setAttr=function(element,type,value){var tempElement=getElement(element);if(typeof(tempElement)!="undefined"&&tempElement!=null){tempElement.setAttribute(type,value)}};var setCreateElement=function(parent,type,id){var tempElement=getElement(parent);if(typeof(tempElement)!="undefined"&&tempElement!=null){var childElement=tempElement.appendChild(document.createElement(type));childElement.setAttribute("id",id)}};var getElement=function(id){var tempElement=document.getElementById(id);if(typeof(tempElement)!="undefined"&&tempElement!=null){return tempElement}};var recreateNode=function(el,withChildren){if(withChildren){el.parentNode.replaceChild(el.cloneNode(true),el)}else{var newEl=el.cloneNode(false);while(el.hasChildNodes()){newEl.appendChild(el.firstChild)}el.parentNode.replaceChild(newEl,el)}};var hideElement=function(e){if(typeof(document.getElementById(e))!="undefined"&&document.getElementById(e)!=null){document.getElementById(e).setAttribute("style","display:none;")}};var showElement=function(e){if(typeof(document.getElementById(e))!="undefined"&&document.getElementById(e)!=null){document.getElementById(e).removeAttribute("style","display:none;")}};this.setConfig=function(c){_config=c};var closeStats=function(){clearInterval(_intervals.stats);clearInterval(_intervals.fps);hideElement(_config.container+"-sdn-stats")};var closeModal=function(){setAttr(_config.container+"-sdn-modal","style","display:none;visibility:hidden;")};this.getLiveDelayInSeconds=function(){return getLiveDelayInSeconds()};var getLiveDelayInSeconds=function(){if(_config.streamContent=="live"&&_stats.liveDelayMesEnabled){return Math.round((new Date().getTime()/1000-_stats.currentFragTimestamp/1000)-Math.round(getCurrentTime()-_stats.currentFragStarted))}else{return 0}};this.getCurrentSegNumber=function(){return _stats.currentFragNumber};var updateFPS=function(){var now=Date.now();var dt=(now-_stats.lastFrameCountTick)/1000;var video=getElement(_config.container+"-source-container");var frames=0;if(video.webkitDecodedFrameCount){frames=video.webkitDecodedFrameCount}if(video.mozPresentedFrames){frames=video.mozPresentedFrames}if(video.webkitPresentedFrames){frames=video.webkitPresentedFrames}if(frames>0&&_stats.lastFrameCount>0){_stats.fps=(frames-_stats.lastFrameCount)/dt}_stats.lastFrameCount=frames;_stats.lastFrameCountTick=now};var updateStats=function(){var currenttime=getCurrentTime();var video=getElement(_config.container+"-source-container");var r=video.buffered;var videoPlaybackQuality=video.getVideoPlaybackQuality;var droppedFrames=0;var bufferlen=0;if(videoPlaybackQuality&&typeof(videoPlaybackQuality)==="function"){if(videoPlaybackQuality.droppedVideoFrames){droppedFrames=videoPlaybackQuality.droppedVideoFrames}}else{if(video.webkitDroppedFrameCount){droppedFrames=video.webkitDroppedFrameCount}}if(r){for(var i=0,bufferLen=0;i<r.length;i++){if(currenttime>=r.start(i)&&currenttime<r.end(i)){bufferlen=r.end(i)-currenttime}}}var statsHTML="";statsHTML+="<p><b>Debug Info</b><br/><br/>";statsHTML+="Video-Id: "+_config.id+"<br/>";statsHTML+="Environment: "+_config.env+"<br/>";statsHTML+="Format: "+(_mseState?"Media Source":"Progressive Download");statsHTML+="<br/><br/>Player size: "+getElement(_config.container).clientWidth+"x"+getElement(_config.container).clientHeight+"<br/>";if(_config.streamType=="video"){statsHTML+="Dropped frames: "+droppedFrames+"/"+_stats.lastFrameCount+"<br/>Resolution: "+video.videoWidth+"x"+video.videoHeight+" @"+Math.round(_stats.fps).toFixed(1)+" FPS<br/>"}statsHTML+="Volume: "+Math.round(getVolume()*100)+"%";statsHTML+="; DRM: "+(_config.drm?"Yes":"No")+" <br/><br/>";statsHTML+="Buffer Length: "+Math.round(bufferlen).toFixed(2)+" s<br/>";if(_mseState==1){statsHTML+="Bandwidth: "+Math.round(_stats.bandwidth)+" kbps<br/>";statsHTML+="Avg Frag duration: "+_stats.avgfragDuration.toFixed(5)+"s ";if(_stats.delta){statsHTML+="; PTS delta: "+_stats.delta.toFixed(5)+" <br/>"}}statsHTML+="</p>";setHTML(_config.container+"-sdn-stats-content-text",statsHTML)};var showStats=function(){hideContext();updateStats();_intervals.stats=setInterval(function(){updateStats()},1000);_intervals.fps=setInterval(function(){updateFPS()},1000);setAttr(_config.container+"-sdn-stats","style","display:block;visibility:visible;")};var createError=function(type,message){switch(type){case"warning":setSideBarHTML("<p>"+message+"</p>");break;case"streamingerror":setSideBarHTML("<p>"+locales[_chosenLocale].playbackerror+"</p>");break;case"drmerror":setSideBarHTML("<p>"+locales[_chosenLocale].drmerror+"</p>");break;default:setSideBarHTML(_config.errorBoxHTML);break}_states.blockSideBarForError=1;showSideBar();showSideBarInfoIcon()};var loadPlayer=function(){var di=0;var _dinterval=setInterval(function(){if(_states.cssLoaded!=0||di>150){clearInterval(_dinterval);setHTML(_config.container+"-sdn-display","");if(_config.strive_token){striveP2P()}loadsdnSRC(JSON.stringify(_config.playlist));sdnPlayerEvents_init();sdnPlayerControlEvents_init();initKeyboard();if(typeof(chrome)!="undefined"&&chrome!=null&&_config.streamType=="video"){var castLoaded=0;if(!chrome.cast||!chrome.cast.isAvailable){setTimeout(function(){initializeCastApi()},1000);castLoaded=1}else{if(chrome.cast.isAvailable&&castLoaded==0){initializeCastApi();castLoaded=1}}}if(_config.useVR==true&&isIOS()!=true){initVR()}if(_config.useVast==true){initAdHandler()}if(typeof(window.location)!="undefined"&&window.location!=null){_referrer=encodeURIComponent(window.location)}}di++},10)};getTimeRemaining=function(endtime){var t=Date.parse(endtime)-Date.parse(new Date());var seconds=Math.floor((t/1000)%60);var minutes=Math.floor((t/1000/60)%60);var hours=Math.floor((t/(1000*60*60))%24);var days=Math.floor(t/(1000*60*60*24));return{total:t,days:days,hours:hours,minutes:minutes,seconds:seconds}};initializeClock=function(id,endtime){var clock=document.getElementById(id);var daysSpan=clock.querySelector(".days");var hoursSpan=clock.querySelector(".hours");var minutesSpan=clock.querySelector(".minutes");var secondsSpan=clock.querySelector(".seconds");function updateClock(){var t=getTimeRemaining(endtime);daysSpan.innerHTML=t.days;hoursSpan.innerHTML=("0"+t.hours).slice(-2);minutesSpan.innerHTML=("0"+t.minutes).slice(-2);secondsSpan.innerHTML=("0"+t.seconds).slice(-2);if(t.total<=0){clearInterval(_timeouts.countdown)}}updateClock();clearInterval(_timeouts.countdown);_timeouts.countdown=setInterval(updateClock,1000)};var loadWall=function(){if(_config.layout){if(_config.layout=="responsive"){correctAspectRatio()}}destroy();setHTML(_config.container+"-sdn-display","");var cid=_config.container;setAttr(cid,"class","js3q-player");var cid=_config.container+"-sdn-display";setCreateElement(_config.container,"div",cid);setAttr(cid,"class","sdn-display");setAttr(cid,"style","background:"+_config.bgcolor+";");if(_config.channelboardposter!=""){setAttr(cid,"style","background-image: url('"+_config.channelboardposter+"');background-size:contain;background-repeat: no-repeat;background-position:center;")}else{if(_config.poster!=false){setAttr(cid,"style","background-image: url('"+_config.poster+"');background-size:contain;background-repeat: no-repeat;background-position:center;")}}var pid=_config.container+"-sdn-display";var cid=_config.container+"-header";setCreateElement(pid,"div",cid);if(_config.currentplayout=="board"){setAttr(cid,"class","sdn-wall-headline");if(_config.channelboardtitleline1!=null&&_config.channelboardtitleline2!=null){setHTML(cid,_config.channelboardtitleline1+"<br> <div>"+_config.channelboardtitleline2+"</div>")}else{setHTML(cid,"<br> <div></div>")}}else{setAttr(cid,"class","sdn-countdown");setHTML(cid,'<div><span class="days"></span><div class="smalltext">Days</div></div><div><span class="hours"></span><div class="smalltext">Hours</div></div><div><span class="minutes"></span><div class="smalltext">Minutes</div></div><div><span class="seconds"></span><div class="smalltext">Seconds</div></div>');var deadline=new Date(_config.countdown*1000);initializeClock(cid,deadline)}var pid=_config.container+"-sdn-display";var cid=_config.container+"-channel-label";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-channel-label");setAttr(cid,"style","display:none;");if(_config.channelcredits==true){setAttr(cid,"style","display:block;");if(_config.channellogo!=""){setHTML(cid,'<div class="sdn-channel-logo"><img src="'+_config.channellogo+'"/></div><div>'+_config.channelcreditline1+"<br><span>"+_config.channelcreditline2+"</span></div>")}else{setHTML(cid,"<div>"+_config.channelcreditline1+"<br><span>"+_config.channelcreditline2+"</span></div>")}}if(_config.sharing==true){var pid=_config.container+"-sdn-display";var cid=_config.container+"-share-menu";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-share-menu");var pid=_config.container+"-share-menu";var cid=_config.container+"-twitter-button";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-twitter");var twButton=getElement(_config.container+"-twitter-button");addEvent(twButton,"click",function(){var _r=window.open("https://twitter.com/intent/tweet?url="+window.location,"_blank");_r.location});var pid=_config.container+"-share-menu";var cid=_config.container+"-facebook-button";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-facebook");var fbButton=getElement(_config.container+"-facebook-button");addEvent(fbButton,"click",function(){var _r=window.open("http://www.facebook.com/sharer/sharer.php?u=https://"+_config.env+"/"+_config.id+"?location="+window.location,"_blank");_r.location})}};var loadPreloader=function(){var cid=_config.container;setAttr(cid,"class","js3q-player");var cid=_config.container+"-sdn-display";setCreateElement(_config.container,"div",cid);setAttr(cid,"class","sdn-display");setAttr(cid,"style","background:"+_config.bgcolor+";");if(_config.poster!=false){var pid=_config.container+"-sdn-display";var cid=_config.container+"-img";setCreateElement(pid,"img",cid);setAttr(cid,"src",_config.poster);setAttr(cid,"style","height:100%;")}var pid=_config.container+"-sdn-display";var cid=_config.container+"-play-overlay-preload";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-play-overlay-preload");setAttr(cid,"style","display:block;visibility:visible;font-size:90px;background:"+_config.tintColor+";");var pid=_config.container+"-play-overlay-preload";var cid=_config.container+"-play-overlay-preload-span";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdnicbsun-play");setAttr(cid,"style","display:block;visibility:visible;font-size:90px;");getElement(_config.container+"-play-overlay-preload").onclick=function(){_config.autoplay=true;loadPlayer()}};var loadsdnSRC=function(s){if(_states.bridgeCreated==0){_states.bridgeCreated=1;callBridge(_config.container,"onJavaScriptBridgeCreated",true)}var initialQuality=_config.initialIndex;var srcArray=s;var srcObject=JSON.parse(srcArray);var playerContainer=getElement(_config.container);var cid=_config.container;setAttr(cid,"class","js3q-player");var cid=_config.container+"-sdn-display";setCreateElement(_config.container,"div",cid);setAttr(cid,"class","sdn-display");setAttr(cid,"style","background:"+_config.bgcolor+";");if(_config.seo){if(_config.seo==true){addSeo()}}if(_config.streamType=="audio"){var pid=_config.container+"-sdn-display";var cid=_config.container+"-sdn-audio-canvas";setCreateElement(pid,"canvas",cid);setAttr(cid,"class","sdn-audio-canvas")}var pid=_config.container+"-sdn-display";var cid=_config.container+"-sdn-modal";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-modal");setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-sdn-modal";var cid=_config.container+"-sdn-modal-content";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-modal-content");var pid=_config.container+"-sdn-modal-content";var cid=_config.container+"-sdn-modal-content-button";setCreateElement(pid,"a",cid);setAttr(cid,"class","sdn-modal-content-button");setHTML(cid,locales[_chosenLocale].close);addEvent(getElement(cid),"click",function(){closeModal()});var pid=_config.container+"-sdn-modal-content";var cid=_config.container+"-sdn-modal-content-text";setCreateElement(pid,"div",cid);var pid=_config.container+"-sdn-display";var cid=_config.container+"-sdn-stats";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-stats");setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-sdn-stats";var cid=_config.container+"-sdn-stats-content";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-stats-content");var pid=_config.container+"-sdn-stats-content";var cid=_config.container+"-sdn-stats-content-button";setCreateElement(pid,"a",cid);setAttr(cid,"class","sdn-stats-content-button");setHTML(cid,"[X]");addEvent(getElement(cid),"click",function(){closeStats()});var pid=_config.container+"-sdn-stats-content";var cid=_config.container+"-sdn-stats-content-text";setCreateElement(pid,"div",cid);var pid=_config.container+"-sdn-display";var cid=_config.container+"-display-ad";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-display-ad");setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-sdn-display";var cid=_config.container+"-sdn-adskip-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-display-adskipbutton");setAttr(cid,"style","visibility:hidden;display:none;");setHTML(cid,"Skip Ad");var pid=_config.container+"-sdn-display";var cid=_config.container+"-sdn-unmute-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-display-unmute-button");setAttr(cid,"style","visibility:hidden;display:none;");addEvent(getElement(cid),"click",function(){if(_states.qualitymenu==1){updateControlbar("hideqos")}});var pid=_config.container+"-sdn-display";var cid=_config.container+"-context";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-context-menu");setAttr(cid,"style","display:none;visibility:hidden;");var pid=_config.container+"-context";var cid=_config.container+"-context-ul";setCreateElement(pid,"ul",cid);if(isMobilePlatform()!=true){var pid=_config.container+"-context-ul";var cid=_config.container+"-context-li";setCreateElement(pid,"li",cid);setHTML(cid,"3Q v4.2.0 stable");var chb=getElement(_config.container+"-context-li");addEvent(chb,"click",function(){var _r=window.open("https://3q.video","_blank");_r.location});var pid=_config.container+"-context-ul";var cid=_config.container+"-context-li-sec";setCreateElement(pid,"li",cid);setHTML(cid,locales[_chosenLocale].help);var clb=getElement(_config.container+"-context-li-sec");addEvent(clb,"click",function(){openHelpWindow()})}var pid=_config.container+"-context-ul";var cid=_config.container+"-context-li-third";setCreateElement(pid,"li",cid);setHTML(cid,locales[_chosenLocale].stats);var clb=getElement(_config.container+"-context-li-third");addEvent(clb,"click",function(){showStats()});getElement(_config.container).oncontextmenu=function(e){if(_states.adstalling==0){try{setAttr(_config.container+"-context","style","left:"+Math.round(e.clientX-20)+"px;top:"+Math.round(e.clientY-20)+"px;display:block;visibility:visible;");setTimeout(function(){clearInterval(_timeouts.context);_timeouts.context=setTimeout(function(){hideContext()},4000)},10)}catch(e){}}return false};if(_config.playerBar==true){var pid=_config.container+"-sdn-display";var cid=_config.container+"-bar-display";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-display-ad");setAttr(cid,"style","width:70%;float:left;");var pid=_config.container+"-bar-display";var cid=_config.container+"-bar-header";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdnPlayerBarHeader");var pid=_config.container+"-bar-header";var cid=_config.container+"-bar-header-ul";setCreateElement(pid,"ul",cid);var pid=_config.container+"-bar-header-ul";var cid=_config.container+"-bar-header-prev-button";setCreateElement(pid,"li",cid);setAttr(cid,"class","sdn-player-play");var pid=_config.container+"-sdn-display";var cid=_config.container+"-clear";setCreateElement(pid,"div",cid);setAttr(cid,"style","clear:both;")}var pid=_config.container+"-sdn-display";var cid=_config.container+"-channel-label";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-channel-label");setAttr(cid,"style","display:none;");if(_config.channelcredits==true){setAttr(cid,"style","display:block;");if(_config.channellogo!=""){setHTML(cid,'<div class="sdn-channel-logo"><img src="'+_config.channellogo+'"/></div><div>'+_config.channelcreditline1+"<br><span>"+_config.channelcreditline2+"</span></div>")}else{setHTML(cid,"<div>"+_config.channelcreditline1+"<br><span>"+_config.channelcreditline2+"</span></div>")}}var pid=_config.container+"-sdn-display";var cid=_config.container+"-title";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-title");if(_config.showTitle==true&&_stats.infopoint==0){setAttr(_config.container+"-title","style","visibility:visibile;display:block;");setHTML(_config.container+"-title",_config.title);if(_config.secondtitle!=""){setHTML(_config.container+"-title",_config.title+"<br><span>"+_config.secondtitle+"</span>")}}if(_config.showPlaylist==true){var pid=_config.container+"-sdn-display";var cid=_config.container+"-label";setCreateElement(pid,"div",cid);setAttr(cid,"style","visibility:hidden;display:none;");setAttr(cid,"class","sdn-label");setHTML(cid,'<p style="text-align: center;color:#FFF;font-weight:bold;"></p>')}else{if(_config.extraBox==true){var pid=_config.container+"-sdn-display";var cid=_config.container+"-label";setCreateElement(pid,"div",cid);setAttr(cid,"style","visibility:visible;display:block;");setAttr(cid,"class","sdn-label");setHTML(cid,_config.extraBoxHTML)}}if(_config.logo!=""){var pid=_config.container+"-sdn-display";var cid=_config.container+"-logo";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-logo");setAttr(cid,"style","visibility:visible;display:block;");setHTML(cid,'<img style="margin-top:20px;" src="'+_config.logo+'"/>')}if(_config.showExternalPlayerLinks==true){var pid=_config.container+"-sdn-display";var cid=_config.container+"-external-player";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-external");setHTML(cid,'Externen Player verwenden: <br><a href="http://playout.3qsdn.com/playlist/'+_config.playoutid+'/stream.m3u">Winamp / iTunes</a><br><a href="http://playout.3qsdn.com/playlist/'+_config.playoutid+'/stream.asx">Windows Media Player</a><br><a href="http://playout.3qsdn.com/playlist/'+_config.playoutid+'/stream.rm">Real Player</a>')}if(_config.bg!=""){setAttr(_config.container+"-sdn-display","style",'background:#000000 url("'+_config.bg+'") repeat scroll center center;height:100%;left:0;margin:0;padding:0;position: relative !important;top:0;width:100%;')}var pid=_config.container+"-sdn-display";var cid=_config.container+"-source-container";setCreateElement(pid,_config.streamType,cid);setAttr(_config.container+"-source-container","x-webkit-airplay","allow");setAttr(_config.container+"-source-container","webkit-playsinline","true");setAttr(_config.container+"-source-container","playsinline","true");setAttr(cid,"class","sdn-source-element");addEvent(getElement(cid),"click",function(){if(_states.qualitymenu==1){updateControlbar("hideqos")}});if(_config.poster!=false){try{var _posterFrame=new Image();_posterFrame.src=_config.poster;_posterFrame.onload=function(){getElement(_config.container+"-source-container").setAttribute("poster",_config.poster)}}catch(e){getElement(_config.container+"-source-container").setAttribute("poster",_config.poster)}}var pid=_config.container+"-sdn-display";var cid=_config.container+"-play-button-overlay";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-play-overlay");if(_config.streamType!="video"){setAttr(cid,"style","visibility:hidden;display:none;")}if(_config.controls!=true){setAttr(cid,"style","visibility:hidden;display:none;")}var pid=_config.container+"-play-button-overlay";var cid=_config.container+"-play-button-overlay-span";if(_config.skin=="player"){setCreateElement(pid,"button",cid)}else{setCreateElement(pid,"span",cid)}setAttr(cid,"class","sdnicbsun-play none-shadow");if(_config.controls!=true){setAttr(cid,"style","visibility:hidden;display:none;")}var pid=_config.container+"-sdn-display";var cid=_config.container+"-paid-button";setCreateElement(pid,"span",cid);setAttr(cid,"class","sdn-paid-button");if(_config.skin=="s04"){setAttr(_config.container+"-play-button-overlay-span","class","none-shadow");if(_config.paidstyle==true){setHTML(_config.container+"-play-button-overlay-span",'<img src="https://playout.3qsdn.com/bundles/qmsdnplayout/player/theme/s04/BTN_play_komplett.png" style="height:80px;">');setHTML(_config.container+"-paid-button",'<img src="https://playout.3qsdn.com/bundles/qmsdnplayout/player/theme/s04/Badge_Komplett.png" style="height:30px;">')}else{setHTML(_config.container+"-play-button-overlay-span",'<img src="https://playout.3qsdn.com/bundles/qmsdnplayout/player/theme/s04/BTN_play.png"  style="height:80px;">')}}var pid=_config.container+"-sdn-display";var cid=_config.container+"-play-minus10-overlay";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-minus10-overlay");if(_config.streamType!="video"){setAttr(cid,"style","visibility:hidden;display:none;")}if(_config.controls!=true){setAttr(cid,"style","visibility:hidden;display:none;")}setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-play-minus10-overlay";var cid=_config.container+"-play-minus10-overlay-button";setCreateElement(pid,"span",cid);setAttr(cid,"class","sdnicbsun-minus10 none-shadow");if(_config.controls!=true){setAttr(cid,"style","visibility:hidden;display:none;")}var pid=_config.container+"-sdn-display";var cid=_config.container+"-play-plus10-overlay";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-plus10-overlay");if(_config.streamType!="video"){setAttr(cid,"style","visibility:hidden;display:none;")}if(_config.controls!=true){setAttr(cid,"style","visibility:hidden;display:none;")}setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-play-plus10-overlay";var cid=_config.container+"-play-plus10-overlay-button";setCreateElement(pid,"span",cid);setAttr(cid,"class","sdnicbsun-plus10 none-shadow");if(_config.controls!=true){setAttr(cid,"style","visibility:hidden;display:none;")}var pid=_config.container+"-sdn-display";var cid=_config.container+"-play-buffer-overlay";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-buffering");setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-play-buffer-overlay";var cid=_config.container+"-play-buffer-overlay-spinner";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-spinner");var pid=_config.container+"-sdn-display";var cid=_config.container+"-player-controls";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-player-controls");setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-player-controls";var cid=_config.container+"-seek-bar";setCreateElement(pid,"div",cid);if(_config.streamContent!="live"){setAttr(cid,"class","sdn-time-seekbar")}else{setAttr(cid,"class","sdn-time-seekbar-live")}var pid=_config.container+"-seek-bar";var cid=_config.container+"-scrubberbar";setCreateElement(pid,"div",cid);if(_config.streamContent!="live"){setAttr(cid,"class","sdn-time-scrubber")}else{setAttr(cid,"class","sdn-time-srubber-live")}var pid=_config.container+"-seek-bar";var cid=_config.container+"-scrubber-loaded";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-time-loaded");var pid=_config.container+"-scrubber-loaded";var cid=_config.container+"-scrubber-loaded-pointer";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-time-loaded-pointer");setAttr(cid,"style","visibility:hidden;display:none;background:"+_config.tintColor+";");var pid=_config.container+"-seek-bar";var cid=_config.container+"-scrubberdragger";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-time-playahead");var pid=_config.container+"-seek-bar";var cid=_config.container+"-scrubber-playahead";setCreateElement(pid,"div",cid);setAttr(cid,"class","scrubbBarDragger");setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-player-controls";var cid=_config.container+"-chrome";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-player-chrome");var pid=_config.container+"-sdn-display";var cid=_config.container+"-gradiant";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-player-gradiant");setAttr(cid,"style","display:none;");var pid=_config.container+"-sdn-display";var cid=_config.container+"-gradiant-top";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-player-gradiant-top");setAttr(cid,"style","display:none;");var pid=_config.container+"-chrome";var cid=_config.container+"-pause-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button sdnicbsun-play");setAttr(cid,"tooltip",locales[_chosenLocale].tips.play);setAttr(cid,"tooltip-position","left");var pid=_config.container+"-chrome";var cid=_config.container+"-play-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button sdnicbsun-pause");setAttr(cid,"style","visibility:hidden;display:none;");setAttr(cid,"tooltip",locales[_chosenLocale].tips.pause);setAttr(cid,"tooltip-position","left");var pid=_config.container+"-chrome";var cid=_config.container+"-volume-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button sdnicbsun-volume3wave");setAttr(cid,"tooltip",locales[_chosenLocale].tips.mutevolume);setAttr(cid,"tooltip-position","left");var pid=_config.container+"-chrome";var cid=_config.container+"-volume-display-wrapper";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-volume-wrapper");var pid=_config.container+"-volume-display-wrapper";var cid=_config.container+"-volume-display";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-volume-slider");setAttr(cid,"style","visibility:hidden;display:none;");var pid=_config.container+"-volume-display";var cid=_config.container+"-volume-controls-marker";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-volume-marker");var pid=_config.container+"-volume-controls-marker";var cid=_config.container+"-volume-controls-thumb";setCreateElement(pid,"span",cid);setAttr(cid,"class","sdn-volume-thumb");setAttr(cid,"style","background:"+_config.tintColor+";");var pid=_config.container+"-chrome";var cid=_config.container+"-timeleft-display";setCreateElement(pid,"button",cid);if(_config.streamType=="audio"){setAttr(cid,"class","sdn-button-right sdn-time-left")}else{setAttr(cid,"class","sdn-button sdn-time-left")}var pid=_config.container+"-timeleft-display";var cid=_config.container+"-timeleft-span";setCreateElement(pid,"span",cid);if(_config.streamContent=="demand"){updateTime(0,_config.vlength)}if(_config.streamContent=="live"){addEvent(getElement(_config.container+"-timeleft-span"),"click",function(){backToLive()})}var sourceContainer=getElement(_config.container+"-source-container");var pid=_config.container+"-chrome";var cid=_config.container+"-enter-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-fullscreen");setAttr(cid,"tooltip",locales[_chosenLocale].tips.fullscreen);if(_config.streamType!="video"){setAttr(cid,"style","visibility:hidden;display:none;")}var pid=_config.container+"-chrome";var cid=_config.container+"-exit-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-exitfullscreen");setAttr(cid,"style","visibility:hidden;display:none;");setAttr(cid,"tooltip",locales[_chosenLocale].tips.exitfullscreen);var pid=_config.container+"-chrome";var cid=_config.container+"-qos-button";setCreateElement(pid,"button",cid);setAttr(cid,"style","visibility:hidden;display:none;");setAttr(cid,"class","sdn-button-right sdnicbsun-cog");setAttr(cid,"tooltip",locales[_chosenLocale].tips.settings);var pid=_config.container+"-sdn-display";var cid=_config.container+"-qos-menu";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-qos-menu");var pid=_config.container+"-qos-menu";var cid=_config.container+"-qs-quality-settings";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-quality-settings");setHTML(cid,"");setHTML(cid,"<span>"+locales[_chosenLocale].quality+"</span>");var pid=_config.container+"-qs-quality-settings";var cid=_config.container+"-qs-auto-menu";setCreateElement(pid,"ul",cid);setAttr(cid,"class","sdn-ul-menu");var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-auto";setCreateElement(pid,"li",cid);setHTML(cid,'<span style="background:'+_config.tintColor+';" class="current">'+locales[_chosenLocale].auto+"</span>");var pid=_config.container+"-qos-menu";var cid=_config.container+"-qs-audio-settings";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-audio-settings");setHTML(cid,"<span>"+locales[_chosenLocale].audiotracks+"</span>");if(isIOS()==true){setAttr(cid,"style","visibility:hidden;display:none;")}if(_config.subtitles!=false){var cid=_config.container+"-qs-cc-settings";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-cc-settings");setHTML(cid,"<span>"+locales[_chosenLocale].subtitles+'</span><button style="color:white;" class="sdn-button-right sdnicbsun-cog"></button>');attachSubTitles()}var pid=_config.container+"-chrome";var cid=_config.container+"-cast-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-cast");setAttr(cid,"style","visibility:hidden;display:none;");setAttr(cid,"tooltip",locales[_chosenLocale].tips.cast);drawThumbnailIndex();var pid=_config.container+"-player-controls";var cid=_config.container+"-thumbnails";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-thumbnails");if(_config.chapters!=false){attachChapters()}var pid=_config.container+"-sdn-display";var cid=_config.container+"-top-chrome";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-top-chrome");var pid=_config.container+"-top-chrome";var cid=_config.container+"-share-menu";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-share-menu");var pid=_config.container+"-share-menu";var cid=_config.container+"-sidebar-button";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-info");var sbButton=getElement(_config.container+"-sidebar-button");addEvent(sbButton,"click",function(){infoIconClickEvent()});if(!_config.showSideBar){setAttr(cid,"class","sdn-button-right sdnicbsun-info sdn-hide")}var pid=_config.container+"-sdn-display";var cid=_config.container+"-sidebar";setCreateElement(pid,"div",cid);setAttr(cid,"style","visibility:hidden;display:none;");setAttr(cid,"class","sdn-sidebar");setHTML(cid,'<div class="sdn-sidebar-content"><p><b>'+_config.mtitle+"</b><br/><br/>"+_config.mdescription+"</p></div>");if(_config.errorBox==true){createError("default",_config.extraBoxHTML)}var pid=_config.container+"-top-chrome";var cid=_config.container+"-infobar";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-infobar sdn-hide");if(_config.sharing==true){var pid=_config.container+"-share-menu";var cid=_config.container+"-twitter-button";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-twitter");var twButton=getElement(_config.container+"-twitter-button");addEvent(twButton,"click",function(){var _r=window.open("https://twitter.com/intent/tweet?url="+window.location,"_blank");_r.location});var pid=_config.container+"-share-menu";var cid=_config.container+"-facebook-button";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-facebook");var fbButton=getElement(_config.container+"-facebook-button");addEvent(fbButton,"click",function(){var _r=window.open("http://www.facebook.com/sharer/sharer.php?u=https://playout.3qsdn.com/"+_config.id+"?location="+window.location,"_blank");_r.location})}var oldPlayerContainerStyle=playerContainer.getAttribute("style");if(typeof(oldPlayerContainerStyle)!="undefined"&&oldPlayerContainerStyle!=null){playerContainer.setAttribute("style",oldPlayerContainerStyle+"background:#000000;")}if(_config.autoplay==true){sourceContainer.setAttribute("autoplay","true")}addEvent(document,"fullscreenchange",fullScreenChange);addEvent(document,"mozfullscreenchange",fullScreenChange);addEvent(document,"webkitfullscreenchange",fullScreenChange);addEvent(document,"MSFullscreenChange",fullScreenChange);addEvent(sourceContainer,"webkitendfullscreen",function(){var sdnAdDisplay=getElement(_config.container+"-display-ad");if(sourceContainer.paused){updateControlbar("pause")}else{updateControlbar("play")}callBridge(_config.container,"fullscreenChange",false);playerContainer.setAttribute("class","js3q-player");updateControlbar("exitfullscreen");_states.fullscreen=0;if(_states.admanager==0){if(sdnAdDisplay){sdnAdDisplay.setAttribute("style","visibility:hidden;display:none;height:"+playerContainer.clientHeight+"px;width:"+playerContainer.clientWidth+"px;")}}else{if(sdnAdDisplay){sdnAdDisplay.setAttribute("style","height:"+playerContainer.clientHeight+"px;width:"+playerContainer.clientWidth+"px;")}if(_adManager){_adManager.resize(playerContainer.clientWidth,playerContainer.clientHeight,google.ima.ViewMode.NORMAL)}}if(_mseState==0){updateAudioIndexAfterFullscreen()}});function fullScreenChange(){var sdnAdDisplay=getElement(_config.container+"-display-ad");var fullscreenElement=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;var fullscreenEnabled=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;if(!fullscreenElement){callBridge(_config.container,"fullscreenChange",false);playerContainer.setAttribute("class","js3q-player");if(!_config.layout){playerContainer.setAttribute("style",_data.savedplayerstyle)}else{if(_config.layout!="responsive"){playerContainer.setAttribute("style",_data.savedplayerstyle)}}updateControlbar("exitfullscreen");_states.fullscreen=0;if(_states.admanager==0){if(sdnAdDisplay){sdnAdDisplay.setAttribute("style","visibility:hidden;display:none;height:"+playerContainer.clientHeight+"px;width:"+playerContainer.clientWidth+"px;")}}else{sdnAdDisplay.setAttribute("style","height:"+playerContainer.clientHeight+"px;width:"+playerContainer.clientWidth+"px;");if(_adManager){_adManager.resize(playerContainer.clientWidth,playerContainer.clientHeight,google.ima.ViewMode.NORMAL)}}correctAspectRatio()}else{playerContainer.setAttribute("style","width:100%;height:100%;");callBridge(_config.container,"fullscreenChange",true);if(_states.admanager==0){if(sdnAdDisplay){sdnAdDisplay.setAttribute("style","visibility:hidden;display:none;height:"+fullscreenElement.clientHeight+"px;width:"+fullscreenElement.clientWidth+"px;")}}else{if(sdnAdDisplay){sdnAdDisplay.setAttribute("style","height:"+fullscreenElement.clientHeight+"px;width:"+fullscreenElement.clientWidth+"px;")}if(_adManager){_adManager.resize(fullscreenElement.clientWidth,fullscreenElement.clientHeight,google.ima.ViewMode.FULLSCREEN)}}}}addEvent(getElement(_config.container),"mousemove",playerMouseOverEvent);addEvent(getElement(_config.container),"touchstart",playerClickEvent);addEvent(getElement(_config.container),"click",playerClickEvent);addEvent(getElement(_config.container+"-display-ad"),"mousemove",playerMouseOverEvent);if(_config.streamContent=="live"){updateTime()}if(checkMSEAvalabilty()==true){initMSE()}else{if(_config.drm==true){}}if(_config.useVast==true){initAdApp()}updateControlbar();if(_config.controls!=true){updateControlbar("hidebar")}else{updateControlbar("showbar")}switchQuality("medium",_config.autoplay,true);if(_config.volume==0){getElement(_config.container+"-source-container").muted=1;setVolume(0);setAttr(_config.container+"-sdn-unmute-button","style","display:block;visibility:visible;");setHTML(_config.container+"-sdn-unmute-button",'<i style="color:'+_config.tintColor+';font-size:23px;line-height:20px;" class="sdn-volume-mute sdnicbsun-mute"></i> '+locales[_chosenLocale].tips.volume);addEvent(getElement(_config.container+"-sdn-unmute-button"),"click",function(){unmute();setAttr(_config.container+"-sdn-unmute-button","style","display:none;visibility:hidden;")})}rangeSeekSlider(function(value){});if(_config.layout){if(_config.layout=="responsive"){correctAspectRatio();window.addEventListener("resize",function(event){correctAspectRatio()})}}};var receiveCasterEvents=function(type,data){switch(type){case"session":switch(data){case"stopped":_stats.casting=0;_states.play=0;_mseState=0;pause();updateControlbar("pause");if(_config.streamContent=="live"){_states.firststart=0}if(_states.firststart==0){_config.autoplay=false;switchQuality("medium",false,true);updateControlbar("pause");pause()}else{switchQuality("medium",true,false)}setAttr(_config.container+"-cast-button","style","visibility:visible;display:block;");break}break;case"media":switch(data.event){case"subtitleChange":_states.subTitleIndex=data.data;break;case"audioChange":_stats.audiotracks=data.data;_states.audioIndexChanged=1;audioTrackMenu();break;case"advertisementStart":_states.admanager=1;break;case"advertisementStop":_states.admanager=0;break;case"loaded":setAttr(_config.container+"-cast-button","style","color:"+_config.tintColor+";visibility:visible;display:block;");_stats.casting=1;pause();destroyMedia();break;case"timeChange":if(data.data!=_stats.lastPauseTime&&data.data!=0){_stats.casting=1;setAttr(_config.container+"-cast-button","style","color:"+_config.tintColor+";visibility:visible;display:block;");if(_states.play!=1){updateControlbar("play");_states.play=1}if(_states.admanager==0){updateControlbar("timechange",data.data*100/_config.vlength+"%");updateTime(data.data,_config.vlength);setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;");_states.bufferingIcon=0;_stats.lastPauseTime=data.data}}break;case"playing":updateControlbar("play");_states.play=1;break;case"paused":updateControlbar("pause");_states.play=0;break;case"complete":updateControlbar("pause");updateControlbar("showrewind");_states.play=0;break}break}};var hideContext=function(){clearTimeout(_timeouts.context);setAttr(_config.container+"-context","style","display:none;visibility:hidden;")};var initializeCastApi=function(){_Caster=new sdnCast(1,receiveCasterEvents);_Caster.setConfig(_config,_states);var interval=setInterval(function(){if(typeof chrome.cast!="undefined"){clearInterval(interval);_Caster.init()}},10);setAttr(_config.container+"-cast-button","style","visibility:visible;display:block;");_states.castAvailbility=1;addEvent(getElement(_config.container+"-cast-button"),"click",function(){startCast()})};var startCast=function(){_Caster.setConfig(_config,_states);_Caster.launchApp()};var parseJSONContent=function(responseText){try{var _text=JSON.parse(responseText);return _text.message}catch(e){return""}};var submitCallToActionForm=function(formElement,id){if(_config.callToAction[id].formSuccess==1){play2();hideSideBar();_states.forms=0;_config.controls=true;hideCloseButton();updateControlbar("showbar");updateControlbar("showseekbar")}else{var _id=id;var _cRequest;if(window.XMLHttpRequest){_cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("POST",formElement.getAttribute("action"),true);_cRequest.onreadystatechange=function(){if(_cRequest.readyState==4){if(_config.callToAction[_id].checkStatusCode==true){if(_cRequest.status==200){if(_config.callToAction[_id].showMessageOnSuccess==true){setHTML("callToAction"+_id+"-content",parseJSONContent(_cRequest.responseText));setHTML("callToAction"+_id+"-header","");setAttr("callToAction"+_id+"-form","style","display:none;");setHTML("calltoaction-"+_id,locales[_chosenLocale].resume);_config.callToAction[_id].formSuccess=1}else{play2();hideSideBar();_states.forms=0;_config.controls=true;hideCloseButton();updateControlbar("showbar");updateControlbar("showseekbar")}}else{if(_config.callToAction[_id].showMessageOnError==true){setHTML("callToAction"+_id+"-content",parseJSONContent(_cRequest.responseText));setHTML("callToAction"+_id+"-header","")}else{play2();hideSideBar();hideCloseButton();_config.controls=true;_states.forms=0;updateControlbar("showbar");updateControlbar("showseekbar")}}}else{play2();hideSideBar();_states.forms=0;_config.controls=true;hideCloseButton()}}else{if(_config.callToAction[_id].showMessageOnError==true){setHTML("callToAction"+_id+"-content",parseJSONContent(_cRequest.responseText));setHTML("callToAction"+_id+"-header","")}else{play2();hideSideBar();hideCloseButton();_states.forms=0;_config.controls=true;updateControlbar("showbar");updateControlbar("showseekbar")}}};_cRequest.withCredentials=false;_cRequest.onerror=function(){if(_config.callToAction[_id].showMessageOnError==true){setHTML("callToAction"+_id+"-content",parseJSONContent(_cRequest.responseText));setHTML("callToAction"+_id+"-header","")}else{play2();hideSideBar();_states.forms=0;_config.controls=true;updateControlbar("showbar");updateControlbar("showseekbar")}};_cRequest.send(new FormData(formElement))}};var submitHelpWindow=function(){function serializeForm(form){var inputs=form.elements;var array=[];for(i=0;i<inputs.length;i++){if(inputs[i].type=="checkbox"){if(inputs[i].checked){var inputNameValue=inputs[i].name+"=true"}else{var inputNameValue=inputs[i].name+"=false"}}else{var inputNameValue=inputs[i].name+"="+encodeURIComponent(inputs[i].value)}array.push(inputNameValue)}return array.join("&")}function serialize(obj){return"&"+Object.keys(obj).reduce(function(a,k){a.push(k+"="+encodeURIComponent(obj[k]));return a},[]).join("&")}var browserCapabilities=collectBrowserCapablities();var uri=("https://"+_config.env+"/watchtime?event=reportbug"+serialize(browserCapabilities)+"&"+serializeForm(getElement(_config.container+"-helpBugForm"))).toLowerCase();var _cRequest;if(window.XMLHttpRequest){_cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET",uri,true);_cRequest.withCredentials=true;_cRequest.send(null);setSideBarHTML("<p>"+locales[_chosenLocale].bug.submitmessage+"</p>")};var openHelpWindow=function(){_states.forms=1;pause();showSideBarInfoIcon();showSideBar();setAttr(_config.container+"-context","style","display:none;visibility:hidden;");setSideBarHTML('<div class="sdn-help-form"><h1>'+locales[_chosenLocale].help+"</h1><p>"+locales[_chosenLocale].bug.description+'</p><form id="'+_config.container+'-helpBugForm"><input type="checkbox" name="VideoProblem" value="0">'+locales[_chosenLocale].bug.video+'<br/><input type="checkbox" name="AudioProblem" value="0">'+locales[_chosenLocale].bug.audio+'<br/><input type="checkbox" name="NetworkProblem" value="0">'+locales[_chosenLocale].bug.network+"<br/><br/><b>"+locales[_chosenLocale].bug.message+'</b><br/><textarea name="Message" id="'+_config.container+'-helpBugFormComment"></textarea><br/><button onclick="return false;" id="'+_config.container+'-help-button">'+locales[_chosenLocale].bug.submit+"</button></form></div>");setAttr(_config.container+"-help-button","style","background:"+_config.tintColor+";");addEvent(getElement(_config.container+"-help-button"),"click",function(){submitHelpWindow()})};var playerClickEvent=function(){playerMouseOverEvent()};var playerMouseOverEvent=function(){if(_config.streamType=="video"&&_config.errorBox==false){clearTimeout(_timeouts.controlbar);clearTimeout(_timeouts.opa);if(_stats.casting==1){updateControlbar("showbar");updateControlbar("showgradiant")}else{if(isMobilePlatform()==true&&_states.adstalling==0&&(_config.streamContent=="demand"||_states.isDVR==true)){}updateControlbar("showbar");if(_states.menuVisibility==0){if(_config.controlBarAutoHide==true||(_config.controlBarFullScreenAutoHide==true&&_states.fullscreen==1)){_timeouts.controlbar=setTimeout(function(){if(_states.blockControlsOnAd==0){updateControlbar("trimseekbar");setAttr(_config.container+"-player-controls","style","height:1px;padding-bottom:0px;");if(_states.sideBar==0){setAttr(_config.container+"-share-menu","style","display:none;visibility:hidden;")}setAttr(_config.container+"-gradiant","style","display:none;");setAttr(_config.container+"-gradiant-top","style","display:none;");if(typeof getElement(_config.container+"-sdn-display")!="undefined"&&isMobilePlatform()!=true){getElement(_config.container+"-sdn-display").style.cursor="none"}setAttr(_config.container+"-channel-label","style","visibility:hidden;display:none;");updateControlbar("hideqos");updateControlbar("hideplayoverlay");setAttr(_config.container+"-title","style","visibility:hidden;display:none;");_timeouts.opa=setTimeout(function(){setAttr(_config.container+"-player-controls","style","height:1px;padding-bottom:0px;opacity:0;");if(_states.sideBar==0){setAttr(_config.container+"-share-menu","style","height:1px;opacity:0;")}setAttr(_config.container+"-channel-label","style","visibility:hidden;display:none;");updateControlbar("hidebar");updateControlbar("hideVolumeSlider")},250)}},_config.controlBarAutoHideTimeout)}else{_timeouts.controlbar=setTimeout(function(){updateControlbar("hideplayoverlay")},1500)}}}if(typeof getElement(_config.container+"-sdn-display")!="undefined"&&isMobilePlatform()!=true){getElement(_config.container+"-sdn-display").style.cursor="default"}}};var initVR=function(){_vr=new sdnVR();_vr.setConfig({container:_config.container});_vr.prepare()};var controlVR=function(c){if(_vr){switch(c){case"destroy":_vr.destroy();break;case"start":_vr.init();break}}};var addSeo=function(){var _referrer,_poster;if(typeof(window.location)!="undefined"&&window.location!=null){_referrer=window.location}if(_config.poster!=false){_poster=_config.poster}var text='{\n  "@context": "http://schema.org",\n  "@type": "VideoObject",\n  "name": "'+_config.mtitle+'",\n  "description": "'+_config.mdescription+'",\n  "thumbnailUrl": "'+_poster+'",\n  "uploadDate": "'+_config.uploaddate+'",\n  "duration": "'+_config.vlength+'"\n}';var script=document.createElement("script");script.type="application/ld+json";script.text=text;if(document.head){try{document.head.appendChild(script)}catch(e){}}};var initDASH=function(){if(typeof shaka==="undefined"){var playerContainer=getElement(_config.container);var src="https://"+_config.env+"/bin/dash.js";var script=document.createElement("script");script.type="text/javascript";script.async=true;script.src=src;playerContainer.appendChild(script)}};var initMSE=function(){if(typeof sdnMSE==="undefined"){var playerContainer=getElement(_config.container);var src="https://"+_config.env+"/bin/hls.min.js";var script=document.createElement("script");script.type="text/javascript";script.async=true;script.src=src;playerContainer.appendChild(script)}};var initAdApp=function(){var playerContainer=getElement(_config.container);var src="//imasdk.googleapis.com/js/sdkloader/ima3.js";var script=document.createElement("script");script.type="text/javascript";script.async=true;script.src=src;playerContainer.appendChild(script)};var hideControlbar=function(){setHTML(_config.container+"-timeleft-span",locales[_chosenLocale].ad)};var initDisplayAdContainer=function(initial){var interval=setInterval(function(){if(typeof google!="undefined"){clearInterval(interval);var videoContent=document.getElementById(_config.container+"-source-container");var adContainer=document.getElementById(_config.container+"-display-ad");if(_adDisplayContainer===null){_adDisplayContainer=new google.ima.AdDisplayContainer(adContainer,videoContent);_adDisplayContainer.initialize()}}},10)};var randomString=function(){var len=10;var strr="";var charSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<len;i++){var randomPoz=Math.floor(Math.random()*charSet.length);strr+=charSet.substring(randomPoz,randomPoz+1)}return strr};var initAdHandler=function(){if(_config.adpoints){_adPointsArray=_config.adpoints.split(",")}};var adHandler=function(){for(var key in _adPointsArray){if((Math.round(getCurrentTime())==_adPointsArray[key])&&_states.admanager==0&&_states.adstalling==0){if(_stats.lastPauseTime&&_states.firststart!=0){requestAd("mid",_config.adslots);delete _adPointsArray[key]}}}};var requestAd=function(type,slots){_states.adstalling=1;var gi=0;var _ginterval=setInterval(function(){if(typeof google!="undefined"){clearInterval(_ginterval);var tries=0;var fallbackTries=0;var oldvolume=1;initDisplayAdContainer();setAttr(_config.container+"-play-buffer-overlay","style","visibility:visible;display:block;");_states.bufferingIcon=1;setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");var _adPlayed=0;var _prefetchStarted=0;var _adTried=0;var _adError=0;var _adErrorCode=0;_states.admanager=1;updateControlbar("hideseekbar");updateControlbar("trimseekbar");hideControlbar();var playerContainer=document.getElementById(_config.container);var adDisplayParent=document.getElementById(_config.container+"-display-ad");var intervalTimer;var videoContent=document.getElementById(_config.container+"-source-container");function requestAds(){var _adTagURL;tries++;if(fallbackTries==1&&_config.vastFallbackURI){var _tempPreRollURL=_config.vastFallbackURI;var _tempMidRollURL=_config.vastFallbackURI;var _tempPostRollURL=_config.vastFallbackURI}else{var _tempPreRollURL=_config.vastPreRollURI;var _tempMidRollURL=_config.vastMidRollURI;var _tempPostRollURL=_config.vastPostRollURI}if(_tempPreRollURL){_tempPreRollURL=_tempPreRollURL.replace(/{random}/g,randomString())}if(_tempMidRollURL){_tempMidRollURL=_tempMidRollURL.replace(/{random}/g,randomString())}if(_tempMidRollURL){_tempPostRollURL=_tempPostRollURL.replace(/{random}/g,randomString())}_adLoader=new google.ima.AdsLoader(_adDisplayContainer);_adLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE);_adLoader.getSettings().setNumRedirects(10);_adLoader.getSettings().setPlayerType("3qjs");_adLoader.getSettings().setLocale(_chosenLocale);if(isMobilePlatform()==true){_adLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(false)}addEvent(_adLoader,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,onAdsManagerLoaded);addEvent(_adLoader,google.ima.AdErrorEvent.Type.AD_ERROR,onAdError);var adsRequest=new google.ima.AdsRequest();adsRequest.forceNonLinearFullSlot=true;if(_config.autoplay==true){adsRequest.setAdWillAutoPlay(true)}if(_config.mutedautoplay){if(_config.mutedautoplay==true){if(isMobilePlatform()==true){adsRequest.setAdWillPlayMuted(true)}}}adsRequest.linearAdSlotWidth=videoContent.clientWidth;adsRequest.linearAdSlotHeight=videoContent.clientHeight;adsRequest.nonLinearAdSlotWidth=videoContent.clientWidth;adsRequest.nonLinearAdSlotHeight=videoContent.clientHeight;if(type=="pre"){_adTagURL=_tempPreRollURL}if(type=="mid"){_adTagURL=_tempMidRollURL}if(type=="post"){_adTagURL=_tempPostRollURL}if(!_adTagURL){closeAdManager()}else{adsRequest.adTagUrl=_adTagURL;_adLoader.requestAds(adsRequest)}}function onAdsManagerLoaded(adsManagerLoadedEvent){var adsRenderingSettings=new google.ima.AdsRenderingSettings();adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=false;adsRenderingSettings.useVideoAdUi=false;adsRenderingSettings.uiElements=[];_adManager=adsManagerLoadedEvent.getAdsManager(videoContent,adsRenderingSettings);addEvent(_adManager,google.ima.AdErrorEvent.Type.AD_ERROR,onAdError);addEvent(_adManager,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,onContentPauseRequested);addEvent(_adManager,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,onContentResumeRequested);addEvent(_adManager,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,onSkippableStateChanged);addEvent(_adManager,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,onAdEvent);addEvent(_adManager,google.ima.AdEvent.Type.LOADED,onAdEvent);addEvent(_adManager,google.ima.AdEvent.Type.STARTED,onAdEvent);addEvent(_adManager,google.ima.AdEvent.Type.PAUSED,onPausedEvent);addEvent(_adManager,google.ima.AdEvent.Type.RESUMED,onResumeEvent);addEvent(_adManager,google.ima.AdEvent.Type.COMPLETE,onAdEvent);try{if(_states.fullscreen==1){_adManager.init(videoContent.clientWidth,videoContent.clientHeight,google.ima.ViewMode.FULLSCREEN,videoContent)}else{_adManager.init(videoContent.clientWidth,videoContent.clientHeight,google.ima.ViewMode.NORMAL,videoContent)}_adManager.setVolume(_states.oldvolume);_adManager.start()}catch(adError){_adError=1;_adPlayed=0;closeAdManager()}}function adBreakReadyHandler(){_adManager.start()}function onStartedEvent(adEvent){updateControlbar("play")}function onPausedEvent(adEvent){updateControlbar("pause")}function onResumeEvent(adEvent){updateControlbar("play");setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;");_states.bufferingIcon=0}function releaseSkipButton(){addEvent(getElement(_config.container+"-sdn-adskip-button"),"click",function(){_adManager.skip();setAttr(_config.container+"-sdn-adskip-button","style","display:none;visibility:hidden;")})}function disableSkipButton(){removeEvent(getElement(_config.container+"-sdn-adskip-button"),"click",function(){_adManager.skip();setAttr(_config.container+"-sdn-adskip-button","style","display:none;visibility:hidden;")});setAttr(_config.container+"-sdn-adskip-button","style","display:none;visibility:hidden;")}function onAdEvent(adEvent){setAttr(_config.container+"-volume-button","style","display:block;visiblity:visible;");callBridge(_config.container,adEvent,false);var _remainingTimeBefore=0;var ad=adEvent.getAd();switch(adEvent.type){case google.ima.AdEvent.Type.LOADED:if(!ad.isLinear()){}else{}break;case google.ima.AdEvent.Type.STARTED:callBridge(_config.container,"adStarted",true);_adTried=1;_states.blockControlsOnAd=1;updateControlbar("hideqos");playerMouseOverEvent();eventCollector("adStart");updateControlbar("play");setVolume(_states.oldvolume);setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;");_states.bufferingIcon=0;hideControlbar();if(ad.isLinear()){updateControlbar("showseekbar");intervalTimer=setInterval(function(){var remainingTime=_adManager.getRemainingTime();var duration=ad.getDuration();var played=duration-remainingTime;var timeinp=Math.round((duration-remainingTime)*100/duration);if(remainingTime!=_remainingTimeBefore&&played>0){_states.adRemaningChanged=1}var SkippAbleOffset=ad.getSkipTimeOffset();if(SkippAbleOffset!=-1){setAttr(_config.container+"-sdn-adskip-button","style","display:block;visibility:visible;");setAttr(_config.container+"-sdn-unmute-button","style","display:none;visibility:hidden;")}else{setAttr(_config.container+"-sdn-adskip-button","style","display:none;visibility:hidden;")}if(timeinp>100){timeinp=100}if(remainingTime>0){if(played>=SkippAbleOffset){setHTML(_config.container+"-sdn-adskip-button",locales[_chosenLocale].skip);if(_states.skipButton==0){_states.adBlockCountdown=0;releaseSkipButton()}}else{if(played<SkippAbleOffset){_states.adBlockCountdown=1;setHTML(_config.container+"-sdn-adskip-button",locales[_chosenLocale].skipin+" "+Math.round(SkippAbleOffset-played)+"s")}}if(isMobilePlatform()!==true&&remainingTime!=_remainingTimeBefore&&_states.adBlockCountdown==0&&_states.adRemaningChanged==1){setHTML(_config.container+"-timeleft-span",locales[_chosenLocale].ad+" "+locales[_chosenLocale].adendsin+" "+Math.round(remainingTime)+"s")}else{if(remainingTime!=_remainingTimeBefore&&_states.adBlockCountdown==0&&_states.adRemaningChanged==1){setHTML(_config.container+"-timeleft-span",locales[_chosenLocale].ad+" "+Math.round(remainingTime)+"s")}else{if(remainingTime==_remainingTimeBefore&&(_states.adRemaningChanged==0||_states.adBlockCountdown==1)){setHTML(_config.container+"-timeleft-span",locales[_chosenLocale].ad)}}}_remainingTimeBefore=remainingTime}updateControlbar("timechange",timeinp+"%");if(_states.admanager==0){clearInterval(intervalTimer);disableSkipButton();setAttr(_config.container+"-sdn-adskip-button","style","display:none;visibility:hidden;")}},200);if((type=="mid"||type=="pre")&&_stats.mseUsed==1&&_config.mseLib=="hls"&&_config.streamContent!="live"){attachMSE(false,false,true);_prefetchStarted=1}}else{if(_config.streamContent=="live"){updateControlbar("showseekbar")}}_adPlayed=1;break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:callBridge(_config.container,"adsCompleted",true);if(isIOS()==true&&type=="post"){callBridge(_config.container,"complete",false);if(!isNaN(_config.vlength)){_stats.duration=_config.vlength}updateTime(_stats.lastPauseTime,_stats.duration)}closeAdManager();break;case google.ima.AdEvent.Type.COMPLETE:disableSkipButton();if(ad.isLinear()){clearInterval(intervalTimer)}if(isIOS()==true){if(type=="post"){callBridge(_config.container,"complete",false);if(!isNaN(_config.vlength)){_stats.duration=_config.vlength}updateTime(_stats.lastPauseTime,_stats.duration)}closeAdManager()}callBridge(_config.container,"adComplete",true);break}}function onAdError(adErrorEvent){callBridge(_config.container,"adError",true);_adPlayed=0;_adError=1;_adErrorCode=adErrorEvent.getError().getErrorCode();closeAdManager()}function onSkippableStateChanged(){var isSkippable=_adManager.getAdSkippableState();if(isSkippable){if(isIOS()==true){callBridge(_config.container,"adSkippableNotSupported",true);_adError=1;closeAdManager()}setAttr(_config.container+"-sdn-adskip-button","style","display:block;visibility:visible;");setAttr(_config.container+"-sdn-unmute-button","style","display:none;visibility:hidden;");setHTML(_config.container+"-sdn-adskip-button","Skip Ad");if(_config.controls==true){_states.restoreControls=1;_config.controls=false;updateControlbar("hidebar")}}}function onContentPauseRequested(){_adTried=1;oldvolume=getVolume();if(_mseState==1){detachMSE();_mseState=0}updateControlbar("hiderewind");adDisplayParent.setAttribute("style","visibility:visible;display:block;");hideControlbar();videoContent.pause();if(_mseState==1){detachMSE()}_mseState=0;setHTML(_config.container+"-timeleft-span",locales[_chosenLocale].ad);setAttr(_config.container+"-cast-button","style","visibility:hidden;display:none;")}function onContentResumeRequested(){closeAdManager()}function closeAdManager(){clearInterval(intervalTimer);if(_states.castAvailbility==1){setAttr(_config.container+"-cast-button","style","visibility:visible;display:block;")}setAttr(_config.container+"-sdn-adskip-button","style","display:none;visibility:hidden;");_states.blockControlsOnAd=0;_states.adRemaningChanged=0;playerMouseOverEvent();if(_adError==1&&fallbackTries==0&&_config.vastFallbackURI){slots++;fallbackTries=1}if(tries<slots){requestAds()}else{document.getElementById(_config.container+"-source-container").removeAttribute("width");document.getElementById(_config.container+"-source-container").removeAttribute("height");document.getElementById(_config.container+"-source-container").removeAttribute("style");setHTML(_config.container+"-timeleft-span","");callBridge(_config.container,"advertisementStop",true);callGA("sdnPlayer","advertisementStop","ads",0);sdnAdTracking(type,_adError,_adPlayed,_adErrorCode);if(_states.restoreControls==1){_config.controls=true;updateControlbar("showbar")}if(_adPlayed==1){eventCollector("adComplete")}if(type!="post"){setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;")}if(type=="pre"){if(_stats.mseUsed==1&&_config.mseLib=="hls"&&_config.streamContent!="live"&&_prefetchStarted==1){_mseState=1;attachMSEMedia()}else{_mseState=0;switchQuality("medium",true,false)}}else{if(type=="mid"){if(_adPlayed==1){if(_stats.mseUsed==1&&_config.mseLib=="hls"&&_config.streamContent!="live"&&_prefetchStarted==1){_mseState=1;attachMSEMedia()}else{_mseState=0;switchQuality("medium",true,false)}}else{if(_adError==1&&_adTried==1){_mseState=0;switchQuality("medium",true,false)}else{play2()}}}else{if(type=="post"){_states.firststart=0;_mseState=0;_stats.lastPauseTime=0;_config.autoplay=false;switchQuality("medium",false,true);callBridge(_config.container,"complete",false);updateControlbar("showrewind");updateControlbar("pause");setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;");_states.bufferingIcon=0;updateTime(_stats.lastPauseTime,_config.vlength)}}}adDisplayParent.setAttribute("style","visibility:hidden;display:none;");if(_config.streamContent!="live"){updateControlbar("showseekbar")}_states.admanager=0;_adDisplayContainer.destroy();delete _adDisplayContainer;_adDisplayContainer=null;if(type=="post"){initDisplayAdContainer()}_states.adstalling=0}}var di=0;var _dinterval=setInterval(function(){if(_adDisplayContainer!=null){clearInterval(_dinterval);requestAds();callBridge(_config.container,"advertisementStart",true);callGA("sdnPlayer","advertisementStart","ads",0)}if(di>=1500){clearInterval(_dinterval);_states.adstalling=0;closeAdManager()}di++},10)}else{if(gi>=700){clearInterval(_ginterval);switch(type){case"pre":_config.useVast=false;_mseState=0;_states.firststart++;switchQuality("medium",true,false);callBridge(_config.container,"advertisementStop",true);callGA("sdnPlayer","advertisementStop","ads",0);_states.adstalling=0;_states.admanager=0;break;case"post":_mseState=0;_states.firststart=0;switchQuality("medium",false,true);updateControlbar("showrewind");updateControlbar("pause");callBridge(_config.container,"complete",false);updateTime(0,_stats.duration);_states.adstalling=0;_states.admanager=0;break}}gi++}},10)};var checkforAirplay=function(){_states.castAvailbility=1;setAttr(_config.container+"-cast-button","style","visibility:visible;display:block;");addEvent(getElement(_config.container+"-cast-button"),"click",function(){var video=getElement(_config.container+"-source-container");video.webkitShowPlaybackTargetPicker()})};var getThumbnail=function(t,key){if(t==0){t=5}var interval=setInterval(function(){var duration=Math.round(getDuration());if((!isNaN(parseFloat(duration))&&isFinite(duration))&&duration!=0){clearInterval(interval);if(_config.thumbnails){var p=Math.round(t*100/duration);var index=Math.round(_config.thumbnails.total/100*p);if(_thumbnailIndex[index]){setAttr(_config.container+"-chapter-thumbnail-"+key,"style","width:"+_config.thumbnails.thumbWidth+"px;height:"+_config.thumbnails.thumbHeight+"px;background-image: url('"+_config.thumbnails.url+"');background-position:-"+_thumbnailIndex[index].x+"px -"+_thumbnailIndex[index].y+"px;");setAttr(_config.container+"-chapter-thumbnail-"+key,"class","sdn-thumbnails-scale")}}}},750)};var updateThumbnails=function(e,p,a,cw){if(_config.thumbnails){var pos=e-66;if(e<=74){pos=0}if(pos>=(cw-128)){pos=cw-128}var duration=Math.round(_stats.duration);var time=Math.round(duration/100*p);var totalImages=_config.thumbnails.total;var index=Math.round(totalImages/100*p);if(_thumbnailIndex[index]&&duration>=150){getElement(_config.container+"-thumbnails").style.display="block";getElement(_config.container+"-thumbnails").style.left=pos+"px";getElement(_config.container+"-thumbnails").style.width=_config.thumbnails.thumbWidth+"px";getElement(_config.container+"-thumbnails").style.height=_config.thumbnails.thumbHeight+"px";getElement(_config.container+"-thumbnails").style.backgroundPosition="-"+_thumbnailIndex[index].x+"px -"+_thumbnailIndex[index].y+"px";if(!isNaN(time)){setHTML(_config.container+"-thumbnails","<div><span>"+toHHMMSS(time)+"</span></div>")}}}else{var pos=e-37;if(e<=41){pos=0}if(pos>=(cw-120)){pos=cw}if(_config.streamContent=="live"&&_states.isDVR==true&&_states.livestreamIsOnline==true){var duration=Math.round(getDuration());var time=Math.round(duration/100*(100-p));if(!isNaN(time)){setAttr(_config.container+"-thumbnails","style","overflow:hidden;display:block;left:"+pos+"px;width:75px;height:20px;border:none;background:none;");setHTML(_config.container+"-thumbnails","<div><span>-"+toHHMMSS(time)+"</span></div>")}}}if(a=="hide"||_states.blockControlsOnAd==1||_states.firststart==0||_states.chaptermenu==1||_states.qualitymenu==1){getElement(_config.container+"-thumbnails").style.display="none"}};var drawThumbnailIndex=function(){if(_config.thumbnails){var totalImages=_config.thumbnails.total;var thumbnailsImageWidth=_config.thumbnails.thumbWidth;var thumbnailsImageHeight=_config.thumbnails.thumbHeight;var w=_config.thumbnails.width;var h=_config.thumbnails.height;var widthCount=Math.round(w/thumbnailsImageWidth);h=0;w=0;var y=0;var x=0;var w=0;for(var i=1;i<=totalImages;i++){if(w==(widthCount-1)){y=y+thumbnailsImageHeight;x=0;w=0}else{w++}x=w*thumbnailsImageWidth;_thumbnailIndex[i]={x:x,y:y}}var thumbnailImage=new Image();thumbnailImage.crossOrigin="anonymous";thumbnailImage.src=_config.thumbnails.url;thumbnailImage.onload=function(){getElement(_config.container+"-thumbnails").style.backgroundImage="url("+thumbnailImage.src+")"}}};var hideControls=function(){var ControlsFull=getElement(_config.container+"-player-controls");if(_stats.casting==1){updateControlbar("showbar");updateControlbar("showgradiant")}else{updateControlbar("showbar");_timeouts.controlbar=setTimeout(function(){setAttr(_config.container+"-player-controls","style","height:1px;padding-bottom:0px;");setAttr(_config.container+"-share-menu","style","display:none;visibility:hidden;");setAttr(_config.container+"-gradiant","style","display:none;");setAttr(_config.container+"-gradiant-top","style","display:none;");if(isMobilePlatform()!=true){getElement(_config.container+"-sdn-display").style.cursor="none"}updateControlbar("hideqos");setAttr(_config.container+"-title","style","visibility:hidden;display:none;");_timeouts.opa=setTimeout(function(){setAttr(_config.container+"-player-controls","style","height:1px;padding-bottom:0px;opacity:0;");setAttr(_config.container+"-share-menu","style","height:1px;opacity:0;");updateControlbar("hidebar");updateControlbar("hideVolumeSlider")},250)},2500)}};this.hideControlbar=function(){var ControlsFull=getElement(_config.container+"-player-controls");if(_stats.casting==1){updateControlbar("showbar");updateControlbar("showgradiant")}else{updateControlbar("showbar");_timeouts.controlbar=setTimeout(function(){setAttr(_config.container+"-player-controls","style","height:1px;padding-bottom:0px;");setAttr(_config.container+"-share-menu","style","display:none;visibility:hidden;");setAttr(_config.container+"-gradiant","style","display:none;");setAttr(_config.container+"-gradiant-top","style","display:none;");if(isMobilePlatform()!=true){getElement(_config.container+"-sdn-display").style.cursor="none"}updateControlbar("hideqos");setAttr(_config.container+"-title","style","visibility:hidden;display:none;");_timeouts.opa=setTimeout(function(){setAttr(_config.container+"-player-controls","style","height:1px;padding-bottom:0px;opacity:0;");setAttr(_config.container+"-share-menu","style","height:1px;opacity:0;");updateControlbar("hidebar");updateControlbar("hideVolumeSlider")},250)},2500)}};var setAudioTrack=function(i){if(_stats.casting==0){if(_states.admanager==0){if(_mseState==1){if(_config.mseLib=="dash"){_msePlayer.selectAudioLanguage(i);updateDashAudioMenu()}else{_msePlayer.audioTrack=i}_states.lastAudioIndex=i;_states.audioIndexChanged=1}else{getElement(_config.container+"-source-container").audioTracks[i].enabled=true;_states.lastAudioIndex=i;_states.audioIndexChanged=1;updateProgressiveAudioWithIndexMenuList()}}}else{if(_Caster){_Caster.setAudioTrack(i)}}};this.setAudioTrack=function(i){setAudioTrack(i)};this.getAudioTracks=function(){if(_states.admanager==0){return _stats.audiotracks}else{return null}};var setSubtitles=function(index){if(_subTitleArray[index]||index==-1){if(_stats.casting==0){_states.subTitleIndex=index;updateSubTitles();subTitlesHandler()}else{if(_Caster){_states.subTitleIndex=index;updateSubTitles();subTitlesHandler();_Caster.setSubtitles(index)}}callBridge(_config.container,"subtitleChange",index)}};this.setSubtitles=function(index){setSubtitles(index)};this.getSubtitles=function(){if(_config.subtitles!=false&&_subTitleArray!=0){return _subTitleArray}else{return false}};this.getPlaybackTime=function(){return _stats.trackingPlaybackTime};this.getFullPlaybackTime=function(){return _stats.trackingPlaybackTime};var subTitlesHandler=function(){function initSubtitles(){var srt;var _subtitleRequest;var _uri=_subTitleArray[_states.subTitleIndex].src;function toSeconds(t){var s=0;if(t){var p=t.split(":");for(i=0;i<p.length;i++){s=s*60+parseFloat(p[i].replace(",","."))}}return s}function strip(s){if(!s){return""}else{return s.replace(/^\s+|\s+$/g,"")}}if(window.XMLHttpRequest){_subtitleRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_subtitleRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_subtitleRequest.open("GET",_uri,true);_subtitleRequest.onreadystatechange=function(){if(_subtitleRequest.readyState==4&&_subtitleRequest.status==200){srt=_subtitleRequest.responseText;srt=srt.replace(/\r\n|\r|\n/g,"\n");var subtitles={};srt=strip(srt);var srt_=srt.split("\n\n");for(var s in srt_){st=srt_[s].split("\n");if(st.length>=2){n=st[0];i=strip(st[1].split(" --> ")[0]);o=strip(st[1].split(" --> ")[1]);t=st[2];if(st.length>2){for(j=3;j<st.length;j++){t+="<br/>"+st[j]}}is=Math.round(toSeconds(i));os=Math.round(toSeconds(o));subtitles[is]={begin:is,end:os,t:t}}}var currentSubtitle=-1;_subTitleInterval=setInterval(function(){var _currentTime=Math.round(getCurrentTime());var subtitle=-1;for(var key in subtitles){if(_currentTime>=subtitles[key].begin&&_currentTime<=subtitles[key].end){subtitle=key}}if(subtitle!=-1){if(subtitle!=currentSubtitle){currentSubtitle=subtitle;setHTML(_config.container+"-cc-element","<span>"+subtitles[subtitle].t+"</span>")}}else{setHTML(_config.container+"-cc-element","")}getElement(_config.container+"-cc-element").style.bottom=(getElement(_config.container+"-player-controls").clientHeight+35)+"px"},250)}};_subtitleRequest.send(null)}if(_states.subTitleIndex==-1){clearInterval(_subTitleInterval);getElement(_config.container+"-cc-element").style.display="none";getElement(_config.container+"-cc-element").style.visibility="hidden"}else{clearInterval(_subTitleInterval);getElement(_config.container+"-cc-element").style.display="block";getElement(_config.container+"-cc-element").style.visibility="visible";initSubtitles()}};var updateSubTitles=function(){var cid=_config.container+"-qs-cc-off";if(_states.subTitleIndex==-1){setHTML(cid,'<span style="background:'+_config.tintColor+';" id="'+_config.container+'-cc-auto" class="current">'+locales[_chosenLocale].off+"</span>")}else{setHTML(cid,"<span>"+locales[_chosenLocale].off+"</span>");if(getLocalStore("cc-font-size")){getElement(_config.container+"-cc-element").style.fontSize=getLocalStore("cc-font-size")+"px"}}for(var key in _subTitleArray){if(_states.subTitleIndex==key){setHTML(_config.container+"-qs-lang-"+key,'<span style="background:'+_config.tintColor+';" class="current">'+getLanguageName(_subTitleArray[key].label)+"</span>")}else{setHTML(_config.container+"-qs-lang-"+key,"<span>"+getLanguageName(_subTitleArray[key].label)+"</span>")}}};var attachChapters=function(){function bind_chapterSwitchEvent(i,s){var td=document.getElementById(_config.container+"-chapter-"+i);if(typeof window.addEventListener==="function"){td.addEventListener("click",function(){seek(s);updateControlbar("hidechapters")})}}var pid=_config.container+"-chrome";var cid=_config.container+"-chapter-button";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button-right sdnicbsun-chapter");setAttr(cid,"tooltip",locales[_chosenLocale].tips.chapter);addEvent(getElement(_config.container+"-chapter-button"),"click",function(){toggleChapterMenu()});var pid=_config.container+"-sdn-display";var cid=_config.container+"-chapter-menu";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-chapter-menu");setHTML(cid,"<span>"+locales[_chosenLocale].chapters+"</span>");var pid=_config.container+"-chapter-menu";var cid=_config.container+"-chapter-settings";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-chapter-settings");var pid=_config.container+"-chapter-settings";var cid=_config.container+"-chapter-ul-menu";setCreateElement(pid,"ul",cid);setAttr(cid,"class","sdn-chapter-ul");var chaptersArray=JSON.stringify(_config.chapters);var _chaptersArray=JSON.parse(chaptersArray);for(var key in _chaptersArray){var jsonSUB=_chaptersArray[key];var pid=_config.container+"-chapter-ul-menu";var cid=_config.container+"-chapter-"+key;setCreateElement(pid,"li",cid);if(jsonSUB.thumb!=""){setHTML(cid,'<div style="float:left;width:128px;margin-right:10px;"><img src="'+jsonSUB.thumb+'" class="sdn-thumbnails-scale" style="width:100%;padding:0px;"/></div><div style="float:left;text-align: left;margin-right:10px;max-width:200px;">'+jsonSUB.label+'</div><div style="clear:both;"></div>')}else{setHTML(cid,'<div style="float:left;width:128px;margin-right:10px;"><div id="'+_config.container+"-chapter-thumbnail-"+key+'" style="width:100%;"></div></div><div style="float:left;text-align: left;margin-right:10px;max-width:200px;">'+jsonSUB.label+'</div><div style="clear:both;"></div>');getThumbnail(jsonSUB.start,key)}bind_chapterSwitchEvent(key,jsonSUB.start)}};var subtitleSettings=function(){var pid=_config.container+"-sidebar";setHTML(pid,"");var cid=_config.container+"-sidebar-content";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-sidebar-content");pid=_config.container+"-sidebar-content";var cid=_config.container+"-qs-cc-settings-settings-header";setCreateElement(pid,"div",cid);setHTML(cid,"<span><b>"+locales[_chosenLocale].subtitles+" "+locales[_chosenLocale].tips.settings+"</span>");var cid=_config.container+"-qs-cc-settings-settings-size";setCreateElement(pid,"div",cid);setHTML(cid,'<button style="float:left;background:transparent;">Größe</button>');pid=_config.container+"-qs-cc-settings-settings-size";var cid=_config.container+"-qs-cc-settings-settings-minus";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button-right");setHTML(cid,"-");addEvent(getElement(_config.container+"-qs-cc-settings-settings-minus"),"click",function(){getElement(_config.container+"-cc-element").style.fontSize=(parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("font-size").replace("px",""))-4)+"px";getElement(_config.container+"-cc-element").style.lineHeight=(parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("line-height").replace("px",""))-4)+"px";setLocalStore("cc-font-size",parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("font-size").replace("px","")));setLocalStore("cc-line-height",parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("line-height").replace("px","")))});var cid=_config.container+"-qs-cc-settings-settings-plus";setCreateElement(pid,"button",cid);setAttr(cid,"class","sdn-button-right");setHTML(cid,"+");addEvent(getElement(_config.container+"-qs-cc-settings-settings-plus"),"click",function(){getElement(_config.container+"-cc-element").style.fontSize=(parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("font-size").replace("px",""))+4)+"px";getElement(_config.container+"-cc-element").style.lineHeight=(parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("line-height").replace("px",""))+4)+"px";setLocalStore("cc-font-size",parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("font-size").replace("px","")));setLocalStore("cc-line-height",parseInt(window.getComputedStyle(getElement(_config.container+"-cc-element"),null).getPropertyValue("line-height").replace("px","")))});toggleQualityMenu();showSideBar();showCloseButton()};var attachSubTitles=function(){_states.subTitleIndex=-1;function bind_subTitleSwitchEvent(i){var td=document.getElementById(_config.container+"-qs-lang-"+i);if(typeof window.addEventListener==="function"){td.addEventListener("click",function(){setSubtitles(i);callBridge(_config.container,"subtitleChange",i)})}}var pid=_config.container+"-sdn-display";var cid=_config.container+"-cc-element";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-cc-element");if(_config.subtitles!=false&&isIOS()!=true){var cid=_config.container+"-qs-cc-settings";setCreateElement(pid,"div",cid);setAttr(cid,"class","sdn-cc-settings");setHTML(cid,"");var pid=_config.container+"-qs-cc-settings";var cid=_config.container+"-qs-cc-settings-header";setCreateElement(pid,"div",cid);setHTML(cid,"<span>"+locales[_chosenLocale].subtitles+' <button style="color:white;font-size:22px;line-height:14px;" class="sdn-button-right sdnicbsun-cog"></button></span>');addEvent(getElement(_config.container+"-qs-cc-settings-header"),"click",subtitleSettings)}var pid=_config.container+"-qs-cc-settings";var cid=_config.container+"-qs-cc-menu";setCreateElement(pid,"ul",cid);setAttr(cid,"class","sdn-ul-menu");var pid=_config.container+"-qs-cc-menu";var cid=_config.container+"-qs-cc-off";setCreateElement(pid,"li",cid);setHTML(cid,"<span>"+locales[_chosenLocale].off+"</span>");addEvent(getElement(_config.container+"-qs-cc-off"),"click",function(){_states.subTitleIndex=-1;updateSubTitles();subTitlesHandler();callBridge(_config.container,"subtitleChange",-1)});var pid=_config.container+"-source-container";var subArray=JSON.stringify(_config.subtitles);_subTitleArray=JSON.parse(subArray);for(var key in _subTitleArray){var jsonSUB=_subTitleArray[key];var pid=_config.container+"-qs-cc-menu";var cid=_config.container+"-qs-lang-"+key;setCreateElement(pid,"li",cid);setHTML(cid,"<span>"+getLanguageName(jsonSUB.label)+"</span>");bind_subTitleSwitchEvent(key)}updateSubTitles()};var displayInfobar=function(message,timeout){clearTimeout(_timeouts.infobar);if(getElement(_config.container+"-infobar")){setAttr(_config.container+"-title","style","visibility:hidden;display:none;");setAttr(_config.container+"-infobar","class","sdn-infobar");setAttr(_config.container+"-share-menu","class","sdn-share-menu sdn-hide");setHTML(_config.container+"-infobar",'<p style="color:'+_config.tintColor+';"><a style="color:'+_config.tintColor+';" href="#" target="_blank">'+message+"</a></p>");_timeouts.infobar=setTimeout(function(){setHTML(_config.container+"-infobar","");setAttr(_config.container+"-infobar","class","sdn-infobar sdn-hide");setAttr(_config.container+"-share-menu","class","sdn-share-menu")},timeout)}};var updateObjects=function(){var _is=0;if(_config.infoPoints){var _cTime=Math.round(getCurrentTime());for(var key in _config.infoPoints){if(_cTime>=_config.infoPoints[key].start&&_cTime<=_config.infoPoints[key].end&&_states.admanager==0&&_states.sideBar==0){_stats.infopoint=1;setAttr(_config.container+"-title","style","visibility:hidden;display:none;");setAttr(_config.container+"-infobar","class","sdn-infobar");setAttr(_config.container+"-share-menu","class","sdn-share-menu sdn-hide");if(_config.infoPoints[key].callBack){setHTML(_config.container+"-infobar",'<p style="color:'+_config.tintColor+';">'+_config.infoPoints[key].text+"</p>");addEvent(getElement(_config.container+"-infobar"),"click",function(e){e.preventDefault();_config.infoPoints=false;_stats.infopoint=0;setHTML(_config.container+"-infobar","");setAttr(_config.container+"-infobar","class","sdn-infobar sdn-hide");setAttr(_config.container+"-share-menu","class","sdn-share-menu");unmute()})}else{setHTML(_config.container+"-infobar",'<p style="color:'+_config.tintColor+';"><a style="color:'+_config.tintColor+';" href="'+_config.infoPoints[key].link+'" target="_blank">'+_config.infoPoints[key].text+"</a></p>")}_is++}}if(_is==0){_stats.infopoint=0;setHTML(_config.container+"-infobar","");setAttr(_config.container+"-infobar","class","sdn-infobar sdn-hide");setAttr(_config.container+"-share-menu","class","sdn-share-menu")}}if(_config.displayObjects){var _cTime=Math.round(getCurrentTime());for(var key in _config.displayObjects){if(_cTime>=_config.displayObjects[key].start&&_cTime<=_config.displayObjects[key].end&&_states.admanager==0&&_states.sideBar==0){var boxWidth=getElement(_config.container+"-sdn-display").clientHeight/100*_config.displayObjects[key].size.width;var boxHeight=getElement(_config.container+"-sdn-display").clientHeight/100*_config.displayObjects[key].size.height;var top=getElement(_config.container+"-sdn-display").clientHeight/100*_config.displayObjects[key].position.top;var left=getElement(_config.container+"-sdn-display").clientWidth/100*_config.displayObjects[key].position.left;if(!getElement(_config.container+"_object_"+key)){setCreateElement(_config.container+"-sdn-display","div",_config.container+"_object_"+key);setAttr(_config.container+"_object_"+key,"class","sdn-objects")}setAttr(_config.container+"_object_"+key,"style","border-radius:"+_config.displayObjects[key].style.radius+";border:"+_config.displayObjects[key].style.border+";background:"+_config.displayObjects[key].style.background+";width:"+boxWidth+"px;height:"+boxHeight+"px;top:"+top+"px;left:"+left+"px;")}else{setAttr(_config.container+"_object_"+key,"style","display:none;visibility:hidden;")}}}if(_config.callToAction&&_config.features==true&&_config.disablecta!=true){var _cTime=Math.round(getCurrentTime());for(var key in _config.callToAction){if(_cTime>=_config.callToAction[key].start&&_config.callToAction[key].displayed==0&&_states.admanager==0&&_states.sideBar==0&&_stats.casting==0){_config.autoplay=false;pause();if(isIOS()==true){exitfullscreen()}if(_config.callToAction[key].closeButton!=""){setAttr(_config.container+"-sidebar-button","class","sdn-cta-close-button");setHTML(_config.container+"-sidebar-button",_config.callToAction[key].closeButton+' <i style="color:white;font-size:25px;line-height:20px;margin-top:4px;float:right;" class="sdnicbsun-close"></i>')}else{showCloseButton()}setSideBarHTML(decodeHTMLchars(_config.callToAction[key].html));setAttr("calltoaction-"+_config.callToAction[key].id,"style","background:"+_config.tintColor+";");showSideBar();updateControlbar("hidebar");_config.controls=false;_config.callToAction[key].displayed=1;_states.forms=1;addEvent(getElement("callToAction"+_config.callToAction[key].id+"-form"),"submit",function(e){e.preventDefault()});addEvent(getElement("calltoaction-"+_config.callToAction[key].id),"click",function(){if(getElement("callToAction"+_config.callToAction[key].id+"-form")){submitCallToActionForm(getElement("callToAction"+_config.callToAction[key].id+"-form"),_config.callToAction[key].id)}else{play2();hideSideBar()}})}}}};var switchQuality=function(s,autostart,initial){if(_stats.casting==1){return false}if(_mseState==0){if(initial!=true&&autostart!=true){document.getElementById(_config.container+"-source-container").removeAttribute("autoplay")}var Quality1080=false;var Quality720=false;var Quality480=false;var Quality360=false;var Quality240=false;var Quality144=false;var sourceContainer=document.getElementById(_config.container+"-source-container");sourceContainer.pause();sourceContainer.src="";while(sourceContainer.firstChild){sourceContainer.removeChild(sourceContainer.firstChild)}var initialQuality=s;var srcArray=JSON.stringify(_config.playlist);var srcObject=JSON.parse(srcArray);var insertCount=0;var directInsert=0;var QualityTry=0;for(var insertCount=0;insertCount==0;){switch(QualityTry){case 1:initialQuality="mediumlarge";break;case 2:initialQuality="hd720";break;case 3:initialQuality="hd1080";case 4:initialQuality="small";insertCount++}for(var key in srcObject){var jsonSRC=srcObject[key];if(_config.streamContent=="demand"&&_config.streamType=="video"){switch(jsonSRC.quality){case"small":Quality240=true;break;case"medium":Quality360=true;break;case"mediumlarge":Quality480=true;break;case"hd720":Quality720=true;break;case"hd1080":Quality1080=true;break}}QualityTry++;if(_config.streamType=="video"){if(jsonSRC.quality==initialQuality||insertCount==0){var playerSource=document.createElement("source");playerSource.src=jsonSRC.src;playerSource.type=jsonSRC.type;var sourceID;switch(jsonSRC.type){case"video/webm":sourceID=_config.container+"sdnPlayer_webm_src";if((canPlayType("video/webm")=="maybe"||canPlayType("video/webm")=="probably")&&isIOS()!=true&&checkMSEAvalabilty()!=true&&_states.streamBlockDirectInsert==0){if(jsonSRC.quality==initialQuality||QualityTry>1){sourceContainer.src=jsonSRC.src;directInsert++}}break;case"video/mp4":sourceID=_config.container+"sdnPlayer_mp4_src";if((canPlayType("video/mp4")=="maybe"||canPlayType("video/mp4")=="probably")&&isIOS()!=true&&checkMSEAvalabilty()!=true&&_states.streamBlockDirectInsert==0){if(jsonSRC.quality==initialQuality||QualityTry>1){sourceContainer.src=jsonSRC.src;directInsert++}}break;case"video/ogv":sourceID=_config.container+"sdnPlayer_ogv_src";break;case"application/vnd.apple.mpegURL":if(_config.disableDVR==true){jsonSRC.src=jsonSRC.src.replace("?DVR","")}sourceID=_config.container+"sdnPlayer_hls_src";_castSRC=jsonSRC.src;if((canPlayType("application/vnd.apple.mpegURL")=="maybe"||canPlayType("application/vnd.apple.mpegURL")=="probably")&&_states.streamBlockDirectInsert==0){sourceContainer.src=jsonSRC.src;insertCount++;directInsert++;_states.disabledqualitymenu=1}break;case"application/x-mpegurl":if(_config.disableDVR==true){jsonSRC.src=jsonSRC.src.replace("?DVR","")}sourceID=_config.container+"sdnPlayer_android_hls_src";if((canPlayType("application/x-mpegurl")=="maybe"||canPlayType("application/x-mpegurl")=="probably")&&_states.streamBlockDirectInsert==0){sourceContainer.src=jsonSRC.src;insertCount++;directInsert++;_states.disabledqualitymenu=1}if(!_hlsURI){_hlsURI=jsonSRC.src}break;case"application/dash+xml":if(_config.disableDVR==true){jsonSRC.src=jsonSRC.src.replace("?DVR","")}sourceID=_config.container+"sdnPlayer_mpd_src";if(jsonSRC.format){if(jsonSRC.format=="webm/vp8"){_dashvp8URI=jsonSRC.src;_webmvp8Availability=1}else{_dashURI=jsonSRC.src}}else{_dashURI=jsonSRC.src}break}var element=getElement(sourceID);if(typeof(element)!="undefined"&&element!=null){}else{if(_config.streamContent=="live"&&checkMSEAvalabilty()!=true){sourceContainer.appendChild(playerSource)}else{playerSource.setAttribute("id",sourceID);sourceContainer.appendChild(playerSource)}insertCount++}}}else{document.getElementById(_config.container+"-source-container").removeAttribute("src");var playerSource=document.createElement("source");playerSource.src=jsonSRC.src;playerSource.type=jsonSRC.type;var sourceID;switch(jsonSRC.type){case"audio/mp3":QualityTry++;sourceID=_config.container+"sdnPlayer_mp3_src";break;case"audio/aac":QualityTry++;sourceID=_config.container+"sdnPlayer_aac_src";break;case"audio/ogg":QualityTry++;sourceID=_config.container+"sdnPlayer_ogg_src";break}var element=getElement(sourceID);if(typeof(element)!="undefined"&&element!=null){}else{playerSource.setAttribute("id",sourceID);playerSource.setAttribute("preload","none");sourceContainer.appendChild(playerSource);insertCount++}}}}if(_hlsURI){if(_hlsURI.toLowerCase().indexOf("?dvr")>-1){_states.isDVR=true}}if(directInsert==0){document.getElementById(_config.container+"-source-container").removeAttribute("src")}if(checkMSEAvalabilty()==true&&_config.streamType=="video"){sourceContainer.src="";while(sourceContainer.firstChild){sourceContainer.removeChild(sourceContainer.firstChild)}attachMSE(initial,autostart,false)}else{if(checkwebmAvalabilty()==true&&_webmvp8Availability==1&&_config.streamType=="video"){sourceContainer.src="";while(sourceContainer.firstChild){sourceContainer.removeChild(sourceContainer.firstChild)}_config.mseLib="dash";_config.usewebm=true;initDASH();attachMSE(initial,autostart,false)}else{var controlsQualityContainer=getElement(_config.container+"-qos-menu");if(_config.streamContent=="demand"&&_config.streamType=="video"){var cid=_config.container+"-qs-quality-settings";setHTML(cid,"");setAttr(cid,"class","sdn-quality-settings");setHTML(cid,"<span>"+locales[_chosenLocale].quality+"</span>");var pid=_config.container+"-qs-quality-settings";var cid=_config.container+"-qs-auto-menu";setCreateElement(pid,"ul",cid);setAttr(cid,"class","sdn-ul-menu");if(_states.disabledqualitymenu==0){if(Quality1080==true){var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-hd1080";setCreateElement(pid,"li",cid);if(initialQuality=="hd1080"){setHTML(cid,'<span style="background:'+_config.tintColor+';" id="'+_config.container+'-qs-hd1080" class="current">1080p</span>')}else{setHTML(cid,"<span>1080p</span>")}var _qoshd1080=getElement(_config.container+"-qs-hd1080");addEvent(_qoshd1080,"click",function(){switchQuality("hd1080",true,false);setTimeout(function(){updateControlbar("hideqos")},1500)})}if(Quality720==true){var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-hd720";setCreateElement(pid,"li",cid);if(initialQuality=="hd720"){setHTML(cid,'<span style="background:'+_config.tintColor+';" id="'+_config.container+'-qs-hd720" class="current">720p</span>')}else{setHTML(cid,"<span>720p</span>")}var _qoshd720=getElement(_config.container+"-qs-hd720");addEvent(_qoshd720,"click",function(){switchQuality("hd720",true,false);setTimeout(function(){updateControlbar("hideqos")},1500)})}if(Quality480==true){var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-mediumlarge";setCreateElement(pid,"li",cid);if(initialQuality=="mediumlarge"){setHTML(cid,'<span style="background:'+_config.tintColor+';" id="'+_config.container+'-qs-mediumlarge" class="current">480p</span>')}else{setHTML(cid,"<span>480p</a>")}var _qosml=getElement(_config.container+"-qs-mediumlarge");addEvent(_qosml,"click",function(){switchQuality("mediumlarge",true,false);setTimeout(function(){updateControlbar("hideqos")},1500)})}if(Quality360==true){var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-medium";setCreateElement(pid,"li",cid);if(initialQuality=="medium"){setHTML(cid,'<span style="background:'+_config.tintColor+';" id="'+_config.container+'-qs-medium" class="current">360p</span>')}else{setHTML(cid,"<span>360p</span>")}var _qosm=getElement(_config.container+"-qs-medium");addEvent(_qosm,"click",function(){switchQuality("medium",true,false);setTimeout(function(){updateControlbar("hideqos")},1500)})}if(Quality240==true){var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-small";setCreateElement(pid,"li",cid);if(initialQuality=="small"){setHTML(cid,'<span style="background:'+_config.tintColor+';" id="'+_config.container+'-qs-small" class="current">240p</span>')}else{setHTML(cid,"<span>240p</span>")}var _qoss=getElement(_config.container+"-qs-small");addEvent(_qoss,"click",function(){switchQuality("small",true,false);setTimeout(function(){updateControlbar("hideqos")},1500)})}}else{setAttr(_config.container+"-qs-quality-settings","style","display:none;visibility:hidden;")}}function loadedMetadataHandler(){if(_mseState==0){if(sourceContainer.seekable.length){if(_states.readyEventTriggered==0){callBridge(_config.container,"ready",true);_states.readyEventTriggered=1;if(_config.streamType=="audio"&&_config.controls==true){}}if(sourceContainer.seekable.end(0)>_stats.lastPauseTime){if(_config.streamType=="video"){progressiveMenuHandler();updateProgressiveAudioMenu()}removeEvent(sourceContainer,"loadedmetadata",loadedMetadataHandler);removeEvent(sourceContainer,"loadeddata",loadedMetadataHandler);if(_stats.lastPauseTime>1){seek(_stats.lastPauseTime)}if(autostart==true){setTimeout(function(){var playPromise=sourceContainer.play();if(playPromise!==undefined){playPromise.then(function(){updateControlbar("play")},function(){updateControlbar("pause");setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;")})}},250)}}}else{setTimeout(loadedMetadataHandler,100)}}}addEvent(sourceContainer,"loadedmetadata",loadedMetadataHandler);addEvent(sourceContainer,"loadeddata",loadedMetadataHandler);if(autostart!=true){getElement(_config.container+"-source-container").removeAttribute("autoplay")}if(_config.mutedautoplay){if(_config.mutedautoplay==true&&_config.autoplay==true&&initial==true){getElement(_config.container+"-source-container").autoplay=true;if(isMobilePlatform()==true||isIOS()==true){getElement(_config.container+"-source-container").setAttribute("muted",true);_states.oldvolume=0;getElement(_config.container+"-source-container").muted=1;getElement(_config.container+"-source-container").volume=0;setAttr(_config.container+"-volume-button","class","sdn-volume-mute sdnicbsun-mute")}}}if(_config.streamType=="audio"){sourceContainer.crossOrigin="anonymous"}sourceContainer.load();if(autostart==true&&initial!=true){play2();callBridge(_config.container,"qualitySwitch","0")}}}}else{if(autostart==true&&initial!=true){play2()}}};var sdnPlayerControlEvents_init=function(){addEvent(getElement(_config.container+"-pause-button"),"click",play2);var playButton=getElement(_config.container+"-play-button");addEvent(playButton,"click",pause);var playButtonOverlay=getElement(_config.container+"-play-button-overlay");addEvent(playButtonOverlay,"click",togglePlaying);addEvent(getElement(_config.container+"-play-minus10-overlay"),"click",minus10);addEvent(getElement(_config.container+"-play-plus10-overlay"),"click",plus10);if(_config.streamType!="audio"){var controlsULfsenterContainer=getElement(_config.container+"-enter-button");addEvent(controlsULfsenterContainer,"click",fullscreen);var controlsULfexitContainer=getElement(_config.container+"-exit-button");addEvent(controlsULfexitContainer,"click",exitfullscreen)}var controlsVolumeButtonContainer=getElement(_config.container+"-volume-button");var controlsVolumeSliderContainer=getElement(_config.container+"-volume-display");addEvent(controlsVolumeButtonContainer,"click",toggleVolume);if(isIOS()!=true){addEvent(controlsVolumeButtonContainer,"mouseover",function(){clearTimeout(_timeouts.vslider);updateControlbar("showVolumeSlider")});addEvent(controlsVolumeButtonContainer,"mouseout",function(){_timeouts.vslider=setTimeout(function(){updateControlbar("hideVolumeSlider")},200)});addEvent(controlsVolumeSliderContainer,"mouseover",function(){clearTimeout(_timeouts.vslider);updateControlbar("showVolumeSlider")});addEvent(controlsVolumeSliderContainer,"mouseout",function(){_timeouts.vslider=setTimeout(function(){updateControlbar("hideVolumeSlider")},200)})}rangeVolumeSlider(_config.container+"-volume-controls-marker",function(value){});var _qosButton=getElement(_config.container+"-qos-button");if(typeof _qosButton!=="undefined"){addEvent(_qosButton,"mouseup",function(e){toggleQualityMenu()})}var thumbnailTimeout=0;if(_config.flash==false){var sdnPlayerSeekCanvasMediaElement=getElement(_config.container+"-source-container");var controlsSeekContainer=getElement(_config.container+"-seek-bar");var controlsSeekSeekContainer=getElement(_config.container+"-scrubber-loaded");addEvent(controlsSeekContainer,"touchstart",function(e){updateControlbar("expandseekbar");var mouseSeekPosition=pointerEventToXY(controlsSeekContainer,e);var perCentSeekPosition=Math.round(mouseSeekPosition.x*100/controlsSeekContainer.clientWidth);clearTimeout(thumbnailTimeout);updateThumbnails(mouseSeekPosition.x,perCentSeekPosition,"show",controlsSeekContainer.clientWidth)});addEvent(controlsSeekContainer,"mouseover",function(e){var mouseSeekPosition=pointerEventToXY(controlsSeekContainer,e);var perCentSeekPosition=Math.round(mouseSeekPosition.x*100/controlsSeekContainer.clientWidth);clearTimeout(thumbnailTimeout);updateThumbnails(mouseSeekPosition.x,perCentSeekPosition,"show",controlsSeekContainer.clientWidth);updateControlbar("expandseekbar")});addEvent(controlsSeekContainer,"mousemove",function(e){var mouseSeekPosition=pointerEventToXY(controlsSeekContainer,e);var perCentSeekPosition=mouseSeekPosition.x*100/controlsSeekContainer.clientWidth;clearTimeout(thumbnailTimeout);updateThumbnails(mouseSeekPosition.x,perCentSeekPosition,"show",controlsSeekContainer.clientWidth)});addEvent(controlsSeekContainer,"mouseout",function(e){if(!_states.seekbardown){thumbnailTimeout=setTimeout(function(){updateThumbnails(0,0,"hide",controlsSeekContainer.clientWidth)},250)}updateControlbar("trimseekbar")});addEvent(controlsSeekContainer,"click",function(e){var mouseSeekPosition=getMousePos(controlsSeekContainer,e);var perCentSeekPosition=mouseSeekPosition.x*100/controlsSeekContainer.clientWidth;var v=Math.round(getDuration()*perCentSeekPosition/100);if(v<5){v=0.1}var playerMediaElement=getElement(_config.container+"-source-container");if(typeof(playerMediaElement)!="undefined"&&playerMediaElement!=null){seek(Math.round(v))}else{callBridge(_config.container,"seekError","0")}})}};this.pause=function(){pause()};var pause=function(){callBridge(_config.container,"pauseRequest",true);if(_stats.casting==0){var playerMediaElement=getElement(_config.container+"-source-container");if(_config.flash==false){if(_states.admanager==1&&_adManager){_adManager.pause();updateControlbar("pause")}else{var pausePromise=playerMediaElement.pause();if(pausePromise!==undefined){pausePromise.then(function(){updateControlbar("pause")},function(){})}}}else{var playerContainer=getElement(_config.container+"-fallback");if(typeof(playerContainer.pause)!="undefined"&&playerContainer.pause!=null){playerContainer.pause()}}}else{_Caster.pause()}};this.play2=function(){play2()};var play2=function(){updateControlbar("play");callBridge(_config.container,"playRequest",true);var playerMediaElement=getElement(_config.container+"-source-container");if(_stats.casting==0){setAttr(_config.container+"-play-buffer-overlay","style","visibility:visible;display:block;");_states.bufferingIcon=1;setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");var _plStale=0;if(_config.useVast==true&&_states.firststart==0){_plStale=1;destroyMedia();playerMediaElement.load();requestAd("pre",_config.adslots);_states.firststart++}if(_states.firststart==0&&_mseState==1&&_config.useVast!=true){if(_config.mseLib=="hls"){loadMSE(_stats.lastPauseTime);_states.firststart++}else{function onError(error){if(_states.adstalling==0){if(error.category==6){createError("drmerror","")}}}_msePlayer.load(_dashURI).then(function(){play2()},onError)}_states.firststart++}if(_states.admanager==1&&_adManager){_adManager.resume();updateControlbar("play")}else{if(_plStale==0){var playPromise=playerMediaElement.play();if(playPromise!==undefined){playPromise.then(function(){updateControlbar("play");if(_config.streamContent=="live"&&_mseState==1&&_config.lowLatency==true){}else{if(_config.streamContent=="live"&&_mseState==1&&getCurrentTime()>10&&_states.isDVR!=true){playerMediaElement.currentTime=getDuration()-8}}},function(c){updateControlbar("pause");callBridge(_config.container,"stateChange","Autoplay not possible");setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-button-overlay","style","visibility:visible;display:block;")})}}}}else{_Caster.play()}};this.stop2=function(){stop2()};var stop2=function(){if(_stats.casting==0){pause()}else{_Caster.pause()}};this.mute=function(){mute()};var mute=function(){setVolume(0);getElement(_config.container+"-source-container").muted=true;eventCollector("mute")};this.unmute=function(){unmute()};var unmute=function(){setVolume(1);getElement(_config.container+"-source-container").muted=false;setAttr(_config.container+"-sdn-unmute-button","style","display:none;visibility:hidden;")};var togglePlaying=function(){callBridge(_config.container,"playToggleRequest",true);if(_states.admanager==0){if(_states.play==0){play2()}else{pause()}}};var minus10=function(){var _currentTime=Math.round(getCurrentTime());if(!isNaN(_currentTime)){seek(_currentTime-10)}};var plus10=function(){var _currentTime=Math.round(getCurrentTime());if(!isNaN(_currentTime)){seek(_currentTime+10)}};var resume=function(){var playerMediaElement=getElement(_config.container+"-source-container");if(_config.flash==false){playerMediaElement.pause()}else{var playerContainer=getElement(_config.container+"-fallback");playerContainer.stop2()}playerMediaElement.setAttribute("preload","auto");playerMediaElement.load();try{playerMediaElement.play()}catch(e){}};this.seek=function(v){seek(v)};var seek=function(v){if(!isNaN(v)){callBridge(_config.container,"seekRequest",Math.round(v));if(_stats.casting==0){if(_config.seekBar==true){callBridge(_config.container,"seeking",Math.round(v));var playerMediaElement=getElement(_config.container+"-source-container");if(typeof(playerMediaElement)!="undefined"&&playerMediaElement!=null){if(playerMediaElement.seekable.length){if(playerMediaElement.seekable.end(0)>Math.round(v)){playerMediaElement.currentTime=Math.round(v);callBridge(_config.container,"seeked",Math.round(v))}}}else{callBridge(_config.container,"seekError","0")}}}else{_Caster.seek(Math.round(v));callBridge(_config.container,"seeking",v)}}};var infoIconClickEvent=function(){if(_states.sticky==0){toggleSideBar()}else{disableSticky()}_config.controls=true;updateControlbar("showbar");updateControlbar("showseekbar")};var toggleSideBar=function(){if(_states.sideBar==0){updateControlbar("showsidebar");_states.sideBar=1}else{updateControlbar("hidesidebar");_states.forms=0;if(!_config.showSideBar){hideCloseButton()}else{showSideBarInfoIcon()}}};var toggleQualityMenu=function(){if(_states.qualitymenu==0){updateControlbar("showqos");hideSideBar()}else{updateControlbar("hideqos")}};var toggleChapterMenu=function(){if(_states.chaptermenu==0){updateControlbar("showchapters")}else{updateControlbar("hidechapters")}};var toggleVolume=function(){if(_states.oldvolume!=0){mute()}else{unmute()}updateControlbar("hideVolumeSlider")};var hideCloseButton=function(){setAttr(_config.container+"-sidebar-button","class","sdn-button-right sdnicbsun-info sdn-hide")};var showCloseButton=function(){setAttr(_config.container+"-sidebar-button","class","sdn-button-right sdnicbsun-close");setAttr(_config.container+"-sidebar-button","style","color:white;")};this.showSideBarInfoIcon=function(){showSideBarInfoIcon()};var showSideBarInfoIcon=function(){setAttr(_config.container+"-sidebar-button","class","sdn-button-right sdnicbsun-info");setAttr(_config.container+"-sidebar-button","style","color:"+_config.tintColor+";")};this.setSideBarHTML=function(html){setSideBarHTML(html)};var setSideBarHTML=function(html){if(_states.blockSideBarForError==0){setHTML(_config.container+"-sidebar",'<div class="sdn-sidebar-content">'+html+"</div>")}};this.showSideBar=function(){showSideBar()};var showSideBar=function(){updateControlbar("showsidebar")};this.hideSideBar=function(){if(_states.blockSideBarForError==0){hideSideBar()}};var hideSideBar=function(){updateControlbar("hidesidebar")};this.setVolume=function(v){setVolume(v)};var setVolume=function(v){var p=100;_states.oldvolume=v;if(v<0){v=0}if(v>1){v=1}if(v<1){p=v*100/1}if(v>0){getElement(_config.container+"-source-container").muted=false;getElement(_config.container+"-source-container").removeAttribute("muted")}if(_stats.casting==0){if(_states.admanager==1&&_adManager){_adManager.setVolume(v);_states.oldvolume=v}else{var playerMediaElement=getElement(_config.container+"-source-container");if(_config.flash==false&&typeof(playerMediaElement.volume)!="undefined"){playerMediaElement.volume=v;_states.oldvolume=v}else{var playerContainer=getElement(_config.container+"-fallback");if(typeof(playerContainer.setVolume)!="undefined"&&playerContainer!=null){playerContainer.setVolume(v);_states.oldvolume=v}}perCentSeekPosition=p}}else{_Caster.setVolume(v)}switch(true){case p==0:setAttr(_config.container+"-volume-button","class","sdn-volume-mute sdnicbsun-mute");setAttr(_config.container+"-volume-button","tooltip",locales[_chosenLocale].tips.volume);break;case (p>0&&p<=20):setAttr(_config.container+"-volume-button","class","sdn-volume-1wave sdnicbsun-volume2wave");setAttr(_config.container+"-volume-button","tooltip",locales[_chosenLocale].tips.mutevolume);break;case (p>20&&p<=80):setAttr(_config.container+"-volume-button","class","sdn-volume-2wave sdnicbsun-volume3wave");setAttr(_config.container+"-volume-button","tooltip",locales[_chosenLocale].tips.mutevolume);break;default:setAttr(_config.container+"-volume-button","class","sdn-volume-button sdnicbsun-volume3wave");setAttr(_config.container+"-volume-button","tooltip",locales[_chosenLocale].tips.mutevolume);break}updateVolumeSlider(v);if(v==0){callBridge(_config.container,"muted")}else{callBridge(_config.container,"unmuted")}};this.getVolume=function(){return getVolume()};var getVolume=function(){if(_config.flash==false){if(_states.admanager==1&&_adManager){return _adManager.getVolume()}else{var playerMediaElement=getElement(_config.container+"-source-container");return playerMediaElement.volume}}else{var playerContainer=getElement(_config.container+"-fallback");return playerContainer.getVolume()}};this.getCurrentTime=function(){return getCurrentTime()};var getCurrentTime=function(){if(_stats.casting==0){if(_config.flash==false){var playerMediaElement=getElement(_config.container+"-source-container");if(playerMediaElement){return playerMediaElement.currentTime}else{return 0}}else{var playerContainer=getElement(_config.container+"-fallback");if(typeof playerContainer==="function"){return playerContainer.getCurrentTime()}else{return 0}}}else{return _stats.lastPauseTime}};this.getDuration=function(){return getDuration()};var getDuration=function(){if(_stats.casting==0){var playerMediaElement=getElement(_config.container+"-source-container");if(playerMediaElement){var _dur=playerMediaElement.duration;if(!isNaN(_dur)){return playerMediaElement.duration}else{return _config.vlength}}else{return _config.vlength}}else{if(_Caster){return _config.vlength}}};var isFullScreen=function(){var fullscreenElement=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;var fullscreenEnabled=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;if(!fullscreenElement){return false}else{return true}};var toggleFullscreen=function(){if(isFullScreen()!=true){fullscreen()}else{exitfullscreen()}};this.fullscreen=function(){fullscreen()};var fullscreen=function(){var videoPlayerDisplayElement;if(isIOS()==true){videoPlayerDisplayElement=getElement(_config.container+"-source-container")}else{videoPlayerDisplayElement=getElement(_config.container)}_states.fullscreen=1;var PlayerDisplayElement=getElement(_config.container+"-sdn-display");var PlayerDisplayElementAd=getElement(_config.container+"-display-ad");var playerMediaElement=getElement(_config.container+"-source-container");var ControlsFull=getElement(_config.container+"-player-controls");PlayerDisplayElement.setAttribute("style","background:"+_config.bgcolor+";");updateControlbar("fullscreen");if(typeof(videoPlayerDisplayElement)!="undefined"&&videoPlayerDisplayElement!=null){videoPlayerDisplayElement.setAttribute("class","js3q-fullscreen")}function launchFullScreen(element){if(element.requestFullScreen){element.requestFullScreen()}else{if(element.mozRequestFullScreen){element.mozRequestFullScreen()}else{if(element.webkitEnterFullscreen){element.webkitEnterFullscreen()}else{if(element.webkitRequestFullScreen){element.webkitRequestFullScreen()}else{if(element.msRequestFullscreen){element.msRequestFullscreen()}}}}}}launchFullScreen(videoPlayerDisplayElement)};this.exitfullscreen=function(){exitfullscreen()};var exitfullscreen=function(){_states.fullscreen=0;var videoPlayerDisplayElement;if(isIOS()==true){videoPlayerDisplayElement=getElement(_config.container+"-source-container")}else{videoPlayerDisplayElement=getElement(_config.container)}var PlayerDisplayElement=_config.container+"-sdn-display";var PlayerDisplayElementAd=_config.container+"-display-ad";updateControlbar("exitfullscreen");if(typeof(videoPlayerDisplayElement)!="undefined"&&videoPlayerDisplayElement!=null){var oldFullScreenAtt=videoPlayerDisplayElement.getAttribute("class");if(oldFullScreenAtt=="js3q-fullscreen"){videoPlayerDisplayElement.setAttribute("class","js3q-player")}}function cancelFullscreen(){if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}else{if(getElement(_config.container+"-source-container")){if(getElement(_config.container+"-source-container").webkitExitFullScreen){getElement(_config.container+"-source-container").webkitExitFullScreen()}}}}}}}updateControlbar("exitfullscreen")}cancelFullscreen();setAttr(PlayerDisplayElement,"style","height:100%;width:100%;background:"+_config.bgcolor+";");if(_states.admanager==0){setAttr(PlayerDisplayElementAd,"style","visibility:hidden;display:none;")}else{setAttr(PlayerDisplayElementAd,"style","visibility:visible;display:block;height:100%;width:100%;")}if(_config.layout){if(_config.layout=="responsive"){correctAspectRatio()}}};var backToLive=function(){seek(0)};var updateTime=function(start,end){if(_config.streamContent=="live"&&_states.adstalling==0&&_states.livestreamIsOnline==true){if(getDuration()>60&&!isNaN(getDuration())&&_mseState==1&&_states.isDVR==true){setAttr(_config.container+"-seek-bar","class","sdn-time-seekbar");setAttr(_config.container+"-scrubberbar","class","sdn-time-scrubber");setAttr(_config.container+"-scrubber-loaded","class","sdn-time-loaded");_config.seekBar=true;var diff=getDuration()-getCurrentTime();if(diff>60&&!isNaN(diff)){setHTML(_config.container+"-timeleft-span","-"+toHHMMSS(diff)+' <span style="float:left;margin-right:5px;color:'+_config.tintColor+';" tooltip-position="left" tooltip="'+locales[_chosenLocale].tips.backtolive+'">'+locales[_chosenLocale].backtolive+"</span>")}else{setHTML(_config.container+"-timeleft-span",'<span style="float:left;margin-right:5px;color:'+_config.tintColor+';">&#x25cf;</span> Live')}}else{if(getCurrentTime()>0){setHTML(_config.container+"-timeleft-span",'<span style="float:left;margin-right:5px;color:'+_config.tintColor+';">&#x25cf;</span> Live');setAttr(_config.container+"-seek-bar","class","sdn-time-seekbar-live");setAttr(_config.container+"-scrubberbar","class","sdn-time-scrubber-live");setAttr(_config.container+"-scrubber-loaded","class","sdn-time-loaded-live")}else{setHTML(_config.container+"-timeleft-span",toHHMMSS(0));setAttr(_config.container+"-seek-bar","class","sdn-time-seekbar-live");setAttr(_config.container+"-scrubberbar","class","sdn-time-scrubber-live");setAttr(_config.container+"-scrubber-loaded","class","sdn-time-loaded-live")}}}else{if(_states.adstalling==0&&_config.streamContent=="live"){_config.seekBar=true;setAttr(_config.container+"-seek-bar","class","sdn-time-seekbar");setAttr(_config.container+"-scrubberbar","class","sdn-time-scrubber");setAttr(_config.container+"-scrubber-loaded","class","sdn-time-loaded");if(isMobilePlatform()==true||isIOS()==true){setHTML(_config.container+"-timeleft-span",toHHMMSS(getCurrentTime()))}else{setHTML(_config.container+"-timeleft-span",toHHMMSS(getCurrentTime())+"/"+toHHMMSS(getDuration()))}}else{if(_states.adstalling==0){if(isMobilePlatform()==true||isIOS()==true){setHTML(_config.container+"-timeleft-span",toHHMMSS(start))}else{setHTML(_config.container+"-timeleft-span",toHHMMSS(start)+"/"+toHHMMSS(end))}}}}};var updateControlbar=function(event,data){if(getElement(_config.container)){var volumeSliderHeight=20;var seekBarHeight=5;var volumeThumbHeight=17;var controlbarHeight=50;var playerWidth=getElement(_config.container).clientWidth;var playerHeight=getElement(_config.container).clientHeight;switch(event){case"showTitle":if(_config.showTitle==true&&_stats.infopoint==0&&_config.controls==true){setAttr(_config.container+"-title","style","visibility:visible;display:block;")}if(_config.sharing==true){setAttr(_config.container+"-share-menu","style","height:"+controlbarHeight+"px;")}break;case"showbar":setAttr(_config.container+"-timeleft-display","style","visibility:visible;display:block;");if(_config.channelcredits==true){setAttr(_config.container+"-channel-label","style","visibility:visible;display:block;")}if(_states.controlbar==0){_states.controlbar=1;callBridge(_config.container,"controlbarChange",true)}if(_config.controls==true){setAttr(_config.container+"-player-controls","style","");setAttr(_config.container+"-gradiant","style","display:block;");setAttr(_config.container+"-gradiant-top","style","display:block;");if(isIOS()==true){if(getIOSVersion()>=10&&_config.amp!=true&&_states.menuVisibility==0&&_states.bufferingIcon==0){setAttr(_config.container+"-play-button-overlay","style","visibility:visible;display:block;")}}else{if(_states.sideBar==0&&_states.bufferingIcon==0){setAttr(_config.container+"-play-button-overlay","style","visibility:visible;display:block;")}}if(_states.menuVisibility==1){setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;")}if(_config.showseekbuttons){if(isMobilePlatform()!=true&&_config.showseekbuttons==true){setAttr(_config.container+"-play-minus10-overlay","style","visibility:visible;display:block;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:visible;display:block;")}}setAttr(_config.container+"-share-menu","style","height:"+controlbarHeight+"px;")}else{setAttr(_config.container+"-player-controls","style","height:1px;");setAttr(_config.container+"-gradiant","style","display:none;");setAttr(_config.container+"-gradiant-top","style","display:none;");if(_config.sharing==true){setAttr(_config.container+"-share-menu","style","display:none;visibility:hidden;")}setAttr(_config.container+"-seek-bar","style","display:none;visibility:hidden;")}if(_config.showTitle==true&&_stats.infopoint==0&&_config.controls==true){setAttr(_config.container+"-title","style","visibility:visible;display:block;")}setAttr(_config.container+"-paid-button","class","sdn-paid-button");break;case"hideplayoverlay":setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");break;case"hidebar":setAttr(_config.container+"-channel-label","style","visibility:hidden;display:none;");callBridge(_config.container,"controlbarChange",false);_states.controlbar=0;setAttr(_config.container+"-player-controls","style","height:1px;padding-bottom:0px;opacity:0;");setAttr(_config.container+"-gradiant","style","display:none;");setAttr(_config.container+"-gradiant-top","style","display:none;");setAttr(_config.container+"-title","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-paid-button","class","sdn-paid-button sdn-hide");break;case"showgradiant":if(_config.controls==true){setAttr(_config.container+"-gradiant","style","display:block;");setAttr(_config.container+"-gradiant-top","style","display:block;")}break;case"expandseekbar":if(_states.admanager==0&&_states.firststart!=0){setAttr(_config.container+"-scrubber-loaded-pointer","style","background:"+_config.tintColor+";opacity:1;")}if(isMobilePlatform()==true&&_states.admanager==0){setAttr(_config.container+"-seek-bar","class","sdn-time-seekbar-hover")}break;case"trimseekbar":setAttr(_config.container+"-scrubber-loaded-pointer","style","opacity:0;background:"+_config.tintColor+";");break;case"showseekbar":setAttr(_config.container+"-seek-bar","class","sdn-time-seekbar");setAttr(_config.container+"-seek-bar","style","min-height: "+seekBarHeight+"px;height:"+seekBarHeight+"px;");setAttr(_config.container+"-scrubber-loaded","style","display:block;visibility:visible;min-height: "+seekBarHeight+"px;height:"+seekBarHeight+"px;");break;case"hideseekbar":setAttr(_config.container+"-seek-bar","class","sdn-time-seekbar-live");setAttr(_config.container+"-scrubber-loaded","style","display:none;visibility:hidden;");break;case"play":_mseBuffering=0;setAttr(_config.container+"-pause-button","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-button","style","visibility:visible;display:block;");setAttr(_config.container+"-play-button","class","sdn-button sdnicbsun-pause");setAttr(_config.container+"-pause-button","class","sdn-button sdnicbsun-play");setAttr(_config.container+"-play-button-overlay-span","class","sdnicbsun-pause");if(_config.skin=="s04"){setAttr(_config.container+"-play-button-overlay-span","class","none-shadow");setHTML(_config.container+"-play-button-overlay-span","")}break;case"pause":if(_mseBuffering==0){if(_config.controls==true){}else{setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;")}setAttr(_config.container+"-pause-button","style","visibility:visible;display:block;");setAttr(_config.container+"-play-button","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-button-overlay-span","class","sdnicbsun-play");if(_config.skin=="s04"){setAttr(_config.container+"-play-button-overlay-span","class","none-shadow");if(_config.paidstyle==true){setHTML(_config.container+"-play-button-overlay-span",'<img src="https://playout.3qsdn.com/bundles/qmsdnplayout/player/theme/s04/BTN_play_komplett.png" style="height:80px;">')}else{setHTML(_config.container+"-play-button-overlay-span",'<img src="https://playout.3qsdn.com/bundles/qmsdnplayout/player/theme/s04/BTN_play.png" style="height:80px;">')}}}break;case"fullscreen":setAttr(_config.container+"-enter-button","style","visibility:hidden;display:none;");setAttr(_config.container+"-exit-button","style","visibility:visible;display:block;");break;case"exitfullscreen":setAttr(_config.container+"-enter-button","style","visibility:visible;display:block;");setAttr(_config.container+"-exit-button","style","visibility:hidden;display:none;");break;case"timechange":if(_states.seekpointerstalling==0){getElement(_config.container+"-scrubber-loaded").style.width=data}if(_states.admanager==1){setAttr(_config.container+"-scrubber-loaded-pointer","style","background:#fc0;opacity:0;");getElement(_config.container+"-scrubber-loaded").style.background="#fc0"}else{getElement(_config.container+"-scrubber-loaded").style.background=_config.tintColor}break;case"showqos":if((isMobilePlatform()==true||isIOS())==true&&playerHeight<=400){setAttr(_config.container+"-qos-menu","style","visibility:visible;display:flex;max-height:"+(playerHeight-(controlbarHeight)-15)+"px;bottom:"+(controlbarHeight+10)+"px;");getElement(_config.container+"-qs-auto-menu").style.maxHeight=(playerHeight-(controlbarHeight)-30)+"px;";getElement(_config.container+"-qs-audio-settings").style.maxHeight=(playerHeight-(controlbarHeight)-30)+"px;";if(getElement(_config.container+"-qs-cc-settings")){getElement(_config.container+"-qs-cc-settings").style.maxHeight=(playerHeight-(controlbarHeight)-30)+"px;"}}else{setAttr(_config.container+"-qos-menu","style","visibility:visible;display:flex")}setAttr(_config.container+"-chapter-menu","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");hideElement(_config.container+"-sdn-unmute-button");_states.menuVisibility=1;_states.qualitymenu=1;break;case"hideqos":setAttr(_config.container+"-qos-menu","style","visibility:hidden;display:none;");setAttr(_config.container+"-chapter-menu","style","visibility:hidden;display:none;");_states.qualitymenu=0;_states.menuVisibility=0;break;case"showsidebar":setAttr(_config.container+"-sidebar","style","visibility:visible;display:block;");setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-help-button","style","background:"+_config.tintColor+";");_states.sideBar=1;break;case"hidesidebar":setAttr(_config.container+"-sidebar","style","visibility:hidden;display:none;");setAttr(_config.container+"-sidebar-button","style","color:#FFFFFF;");_states.sideBar=0;break;case"showchapters":if(isMobilePlatform()==true||isIOS()==true){setAttr(_config.container+"-chapter-menu","style","visibility:visible;display:block;max-height:"+(playerHeight-(controlbarHeight)-25)+"px;bottom:"+(controlbarHeight+10)+"px;")}else{setAttr(_config.container+"-chapter-menu","style","visibility:visible;display:block;")}setAttr(_config.container+"-qos-menu","style","visibility:hidden;display:none;");_states.chaptermenu=1;_states.menuVisibility=1;break;case"hidechapters":setAttr(_config.container+"-qos-menu","style","visibility:hidden;display:none;");setAttr(_config.container+"-chapter-menu","style","visibility:hidden;display:none;");_states.chaptermenu=0;_states.menuVisibility=0;break;case"volumechange":setAttr(_config.container+"-sdn-unmute-button","style","display:none;visibility:hidden;");break;case"showrewind":if(_config.controls==true){setAttr(_config.container+"-play-button-overlay","style","visibility:visible;display:block;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-pause-button","class","sdn-button sdnicbsun-rewind")}break;case"hiderewind":setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");break;case"showVolumeSlider":setAttr(_config.container+"-volume-display","style","height:"+volumeSliderHeight+"px;width:52px;margin-left:10px;margin-right:5px;");setAttr(_config.container+"-volume-controls-marker","style","visibility:visible;display:block;padding-top:"+(volumeThumbHeight/2)+"px;");break;case"hideVolumeSlider":setAttr(_config.container+"-volume-display","style","height:"+volumeSliderHeight+"px;width:0px;");setAttr(_config.container+"-volume-controls-marker","style","visibility:hidden;display:none;padding-top:"+(volumeThumbHeight/2)+"px;");break;default:if(_config.controls==true){setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;")}if(_config.controls==true){setAttr(_config.container+"-gradiant","style","display:block;");setAttr(_config.container+"-gradiant-top","style","display:block;")}setAttr(_config.container+"-pause-button","style","visibility:visible;display:block;");setAttr(_config.container+"-play-button","style","visibility:hidden;display:none;");setAttr(_config.container+"-volume-button","style","visibility:hidden;display:none;");if(_config.streamType!="audio"){setAttr(_config.container+"-qos-button","style","visibility:visible;display:block")}setAttr(_config.container+"-chapter-button","style","visibility:visible;display:block");setAttr(_config.container+"-seek-bar","style","min-height:"+seekBarHeight+"px;height:"+seekBarHeight+"px;");setAttr(_config.container+"-scrubber-loaded","style","min-height:"+seekBarHeight+"px;height:"+seekBarHeight+"px;");setAttr(_config.container+"-volume-display","style","width:0px;height:"+volumeSliderHeight+"px;");setAttr(_config.container+"-volume-controls-thumb","style","top:-"+(volumeThumbHeight/2)+"px;");setAttr(_config.container+"-volume-controls-marker","style","visibility:hidden;display:none;padding-top:"+(volumeThumbHeight/2)+"px;");if(_config.controls!=true){setAttr(_config.container+"-player-controls","style","height:1px;");setAttr(_config.container+"-player-controls","style","display:none;visibility:hidden;");setAttr(_config.container+"-gradiant","style","display:none;");setAttr(_config.container+"-gradiant-top","style","display:none;");if(_config.sharing==true){setAttr(_config.container+"-share-menu","style","display:none;visibility:hidden;")}setAttr(_config.container+"-seek-bar","style","display:none;")}break}if(_states.admanager==1){setAttr(_config.container+"-qos-button","style","visibility:hidden;display:none");setAttr(_config.container+"-chapter-button","style","visibility:hidden;display:none");setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;")}else{if(_config.streamType!="audio"){setAttr(_config.container+"-qos-button","style","visibility:visible;display:block")}setAttr(_config.container+"-chapter-button","style","visibility:visible;display:block")}if(_config.streamType=="audio"){setAttr(_config.container+"-enter-button","style","visibility:hidden;display:none;");setAttr(_config.container+"-exit-button","style","visibility:hidden;display:none;")}if(_config.errorBox==true){setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-player-controls","style","visibility:hidden;display:none;")}if(playerWidth&&playerWidth!=0&&playerWidth<300&&_config.streamContent!="live"&&_config.streamType!="audio"){setAttr(_config.container+"-timeleft-display","style","visibility:hidden;display:none;");setAttr(_config.container+"-title","style","visibility:hidden;display:none;")}}};var getIOSVersion=function(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||false};var isIOS=function(){var iOS=false,p=navigator.platform;if(p==="iPad"||p==="iPhone"||p==="iPod"){iOS=true}return iOS};var isIPhone=function(){return(navigator.userAgent.match(/(iPod|iPhone)/))};var isIpad=function(){var iOS=false,p=navigator.platform;if(p==="iPad"){iOS=true}return iOS};var isIE11=function(){return !!navigator.userAgent.match(/Trident.*rv[ :]*11\./)};var isCastDevice=function(){return navigator.userAgent.toLowerCase().match(/(apple tv|aftt|crkey|smarttv|hbbtv|roku|presto|inettv)/)};var isMobilePlatform=function(){return(navigator.userAgent.match(/(iPod|iPhone|iPad)/)||navigator.userAgent.toLowerCase().indexOf("android")>-1)};var isAndroid=function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1};var canPlayType=function(platform){var playerMediaElement=getElement(_config.container+"-source-container");if(typeof(playerMediaElement)!="undefined"&&playerMediaElement!=null){return playerMediaElement.canPlayType(platform)}else{var playerMediaElement=getElement(_config.container+"-source-container");return playerMediaElement.canPlayType(platform)}};this.sdnPlayerAudioBridge=function(playerId,event,data){sdnPlayerAudioBridge(playerId,event,data)};var sdnPlayerAudioBridge=function(playerId,event,data){var playBufferingOverlay=_config.container+"-play-buffer-overlay";var eventName="true";var eventData="true";switch(event){case"loadstart":eventName="ready";if(_states.readyEventTriggered==0){callBridge(_config.container,"ready",true);_states.readyEventTriggered=1}break;case"play":eventData=true;eventName="playing";sdnPlaybackTimer("start");setAttr(playBufferingOverlay,"style","visibility:hidden;display:none;");_states.bufferingIcon=0;updateControlbar("play");_states.play=1;break;case"pause":sdnPlaybackTimer("stop");eventName="paused";updateControlbar("pause");_states.play=0;break;case"complete":if(_states.admanager==0){_states.play=0;sdnPlaybackTimer("stop");_stats.trackingPlaybackTime=0;_stats.trackingView1=false;_stats.trackingView25=false;_stats.trackingView50=false;_stats.trackingView75=false;_stats.trackingStart=0;_stats.trackingViewComplete=false;_stats.lastPauseTime=0;_states.readyEventTriggered=0}break;case"volumechange":eventName="volumeChange";eventData=playerMediaElement.volume;break;case"waiting":if(_config.errorBox==false&&_states.firststart!=0){setAttr(playBufferingOverlay,"style","visibility:visible;display:block;");_states.bufferingIcon=1}break}if(eventName!="null"){callBridge(_config.container,eventName,eventData)}};var initAudioVisualising=function(){try{var context=new AudioContext();var source=context.createMediaElementSource(getElement(_config.container+"-source-container"));var analyser=context.createAnalyser();var canvas=document.getElementById(_config.container+"-sdn-audio-canvas");canvas.width=getElement(_config.container+"-sdn-display").clientWidth;canvas.height=getElement(_config.container+"-sdn-display").clientHeight;var ctx=canvas.getContext("2d");source.connect(analyser);analyser.connect(context.destination);analyser.fftSize=256;var bufferLength=analyser.frequencyBinCount;var dataArray=new Uint8Array(bufferLength);var WIDTH=canvas.width;var HEIGHT=canvas.height;var displayRatio=1;if(canvas.width<=769){displayRatio=2}var barWidth=(WIDTH/bufferLength)*2.5;var barHeight;var x=0;var bgColor=hextoRGB(_config.tintColor,0.4);var backgroundImage=new Image();function renderFrame(){requestAnimationFrame(renderFrame);x=0;analyser.getByteFrequencyData(dataArray);ctx.fillStyle="#000";var hRatio=canvas.width/backgroundImage.width;var vRatio=canvas.height/backgroundImage.height;var ratio=Math.max(hRatio,vRatio);var centerShift_x=(canvas.width-backgroundImage.width*ratio)/2;var centerShift_y=(canvas.height-backgroundImage.height*ratio)/2;ctx.clearRect(0,0,canvas.width,canvas.height);if(_config.poster!=false){try{ctx.drawImage(backgroundImage,0,0,canvas.width,canvas.height)}catch(e){console.dir(e)}}else{ctx.fillRect(0,0,WIDTH,HEIGHT)}for(var i=0;i<bufferLength;i++){barHeight=dataArray[i];var r=barHeight+(25*(i/bufferLength));var g=255*(i/bufferLength);var b=255;ctx.fillStyle=bgColor;ctx.fillRect(x,HEIGHT-barHeight/displayRatio,barWidth,barHeight);x+=barWidth+1}}if(_config.poster!=false){backgroundImage.crossOrigin="anonymous";backgroundImage.src=_config.poster;backgroundImage.onload=function(){renderFrame()}}else{renderFrame()}}catch(e){}};var sdnPlayerEvents_init=function(){for(key in media_events){addEvent(getElement(_config.container+"-source-container"),media_events[key],capturesdnEvents)}};var capturesdnEvents=function(event){if(event!==null){if(typeof(event.srcElement)!=="undefined"&&event.srcElement!=="null"){var playerMediaElement=event.srcElement}else{var playerMediaElement=getElement(_config.container+"-source-container")}var playBufferingOverlay=_config.container+"-play-buffer-overlay";var timeLeftDisplay=_config.container+"-timeleft-span";var eventName="null";var eventData="true";var timeinp=null;switch(event.type){case"loadeddata":if(_mseState==0){progressiveMenuHandler()}break;case"timeupdate":if(_config.streamlimit==true){if(_stats.trackingPlaybackTime>_config.streamlimittime){_states.play=0;sdnPlaybackTimer("stop");_stats.trackingPlaybackTime=0;pause();destroy();_states.firststart=0;_mseState=0;loadPlayer()}}if(_config.end){if(_config.end>0){if(_stats.trackingPlaybackTime>_config.end){_states.play=0;sdnPlaybackTimer("stop");_stats.trackingPlaybackTime=0;pause();destroy();_states.firststart=0;_mseState=0;capturesdnEvents({type:"ended"})}}}_states.error=0;if(typeof(playerMediaElement)!="undefined"&&playerMediaElement!=null){eventData=Math.round(playerMediaElement.currentTime);eventName="timeChange";sdnTracking("view",playerMediaElement.currentTime,playerMediaElement.duration);if(_config.streamContent=="demand"){if(_states.admanager==0&&playerMediaElement.currentTime!=0&&playerMediaElement.duration!=0){if(playerMediaElement.currentTime+1>=10&&playerMediaElement.currentTime<=playerMediaElement.duration){_stats.lastPauseTime=playerMediaElement.currentTime+1}}_stats.duration=playerMediaElement.duration;if(!isNaN(_stats.duration)&&_config.streamContent=="demand"){updateTime(playerMediaElement.currentTime,playerMediaElement.duration)}timeinp=Math.round(playerMediaElement.currentTime)*100/Math.round(playerMediaElement.duration);if(_states.admanager==0&&_stats.casting==0){updateControlbar("timechange",timeinp+"%")}if(_config.useVast==true){adHandler()}updateObjects()}else{updateTime();timeinp=Math.round(playerMediaElement.currentTime)*100/Math.round(playerMediaElement.duration);if(_states.admanager==0&&_stats.casting==0){updateControlbar("timechange",timeinp+"%")}}setAttr(playBufferingOverlay,"style","visibility:hidden;display:none;");_states.bufferingIcon=0;if(_states.play==1){updateControlbar("play")}}else{updateTime()}if(hasAudio()==true){setAttr(_config.container+"-volume-button","style","display:block;visiblity:visible;")}else{setAttr(_config.container+"-volume-button","style","display:none;")}break;case"loadstart":eventName="loading";_states.error=0;updateTime();if(typeof(playerMediaElement)!="undefined"&&playerMediaElement!=null){if(_config.streamContent=="demand"){if(!isNaN(_config.vlength)){_stats.duration=_config.vlength}updateTime(0,_stats.duration);_stats.duration=playerMediaElement.duration;if(!isNaN(_stats.duration)&&_config.streamContent=="demand"&&_states.admanager==0){updateTime(playerMediaElement.currentTime,_stats.duration)}}}else{if(_config.streamContent=="demand"&&_states.admanager==0){if(!isNaN(_config.vlength)){_stats.duration=_config.vlength}updateTime(0,_stats.duration)}}break;case"play":eventName="playing";_states.scrolltoplay++;eventCollector(eventName);if(_config.useVast==true){setVolume(_states.oldvolume)}if(_states.admanager==0){sdnPlaybackTimer("start");sdnTracking("start",0,0);_states.play=1;controlVR("start")}if(_config.useVast==true&&_states.firststart==0){if(isMobilePlatform()==true){pause()}requestAd("pre",_config.adslots);_states.firststart++}if(_config.useVast==false&&(_config.autoplay!=true||isMobilePlatform()==true)&&_mseState==1&&_states.firststart==0){_msePlayer.startLoad(_stats.lastPauseTime)}if(_mseState==0){_states.firststart++}if(_states.lowLatencyReset==0&&_config.streamContent=="live"&&_mseState==1&&_config.lowLatency==true){console.log("low latency called");playerMediaElement.currentTime=getDuration()-2;_states.lowLatencyReset=1}break;case"pause":eventName="paused";eventCollector(eventName);if(_states.admanager==0){updateControlbar("pause")}sdnPlaybackTimer("stop");_states.play=0;_states.lowLatencyReset=0;break;case"volumechange":eventName="volumeChange";eventData=playerMediaElement.volume;break;case"durationchange":eventName="durationChange";var tmpDur=getDuration();if(!isNaN(tmpDur)&&tmpDur!=0){eventData=Math.round(tmpDur)}if(typeof(timeLeftDisplay)!="undefined"&&timeLeftDisplay!=null){if(playerMediaElement.currentTime>2&&_config.streamContent=="demand"&&!isNaN(playerMediaElement.duration)){updateTime(playerMediaElement.currentTime,playerMediaElement.duration)}else{if(_config.streamContent=="demand"&&_states.admanager==0){updateTime(playerMediaElement.currentTime,_config.vlength)}}}break;case"progress":eventName="progress";break;case"ended":eventName="complete";eventCollector(eventName);if(_states.admanager==0){controlVR("destroy");_states.play=0;sdnPlaybackTimer("stop");sdnTracking("complete",playerMediaElement.currentTime,playerMediaElement.duration);_stats.trackingPlaybackTime=0;_stats.trackingView1=false;_stats.trackingView25=false;_stats.trackingView50=false;_stats.trackingView75=false;_stats.trackingStart=0;_stats.trackingViewComplete=false;if(_config.useVast==true){requestAd("post",_config.adslots);_states.admanager=1;updateControlbar("play");initAdHandler();_stats.lastPauseTime=0}else{if(_config.loop==true){_stats.lastPauseTime=0;switchQuality("medium",true,false)}else{_stats.lastPauseTime=0;if(_config.useVast!=true){}updateControlbar("showrewind");updateControlbar("showgradiant");setAttr(playBufferingOverlay,"style","visibility:hidden;display:none;");_states.bufferingIcon=0}}}break;case"mediaChanged":eventName="mediaChanged";break;case"waiting":if(_states.admanager==0&&_states.adstalling==0){setAttr(playBufferingOverlay,"style","visibility:visible;display:block;");_states.bufferingIcon=1;setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;")}break;case"error":if(event.target){if(event.target.error){if(event.target.error.code){if(event.target.error.code==3&&_mseState==1&&_states.adstalling==0&&_config.streamContent!="live"){_msePlayer.destroy();_mseState=0;_states.firststart=0;switchQuality("medium",true,true);errorCollector("mediaErrorBlockDirectSRCAndRecover",{fatal:true,type:"mediaError"})}}}}break;case"webkitplaybacktargetavailabilitychanged":checkforAirplay();removeEvent(getElement(_config.container+"-source-container"),"webkitplaybacktargetavailabilitychanged",capturesdnEvents);break;case"canplay":audioTrackMenu();break}if(eventName!="null"){if(_states.admanager==0){callBridge(_config.container,eventName,eventData)}}}};var mseUserAgentBlacklist=function(){var isMac=navigator.platform.toUpperCase().indexOf("MAC")>=0;var isSafari=navigator.userAgent.toUpperCase().indexOf("SAFARI")>=0;if((isMac==true&&isSafari==true&&typeof window.chrome=="undefined")||navigator.userAgent.toLowerCase().indexOf("spotify")>=0){return false}else{return true}};var collectBrowserCapablities=function(){return{mse:_mseState?true:false,Promise:window.Promise?true:false,Uint8Array:window.Uint8Array?true:false,MediaSource:window.MediaSource?true:false,h264:window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42c00d"'),webm:window.MediaSource.isTypeSupported('video/webm; codecs="vp8"'),Platform:encodeURIComponent(navigator.platform.toLowerCase()),UserAgent:encodeURIComponent(navigator.userAgent.toLowerCase()),stream:_config.stream,session:_config.streamsession,file:_config.file,streamcontent:_config.streamContent,streamtype:_config.streamType}};var eventCollector=function(event){if(_states.adstalling==0){var time=getCurrentTime();if(event=="complete"||time>_config.vlength){time=_config.vlength}var uri=("https://"+_config.env+"/watchtime?event=track&message="+event+"&file="+_config.file+"&stream="+_config.stream+"&time="+Math.round(time)).toLowerCase();var _cRequest;if(window.XMLHttpRequest){_cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET",uri,true);_cRequest.timeout=10000;_cRequest.withCredentials=true;_cRequest.send(null)}else{if(event=="adstart"){var time=_stats.lastPauseTime;var uri=("https://"+_config.env+"/watchtime?event=track&message="+event+"&file="+_config.file+"&stream="+_config.stream+"&time="+Math.round(time)).toLowerCase();var _cRequest;if(window.XMLHttpRequest){_cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET",uri,true);_cRequest.timeout=10000;_cRequest.withCredentials=true;_cRequest.send(null)}}};var errorCollector=function(event,data){var _fatal=false;function serialize(obj){return"&"+Object.keys(obj).reduce(function(a,k){a.push(k+"="+encodeURIComponent(obj[k]));return a},[]).join("&")}if(data.fatal){_fatal=true}var errorType=data.type;if(data.fatal==true){if(data.details){var errorMessage=data.details}else{var errorMessage=event}var browserCapabilities=collectBrowserCapablities();var uri=("https://"+_config.env+"/watchtime?event=error"+serialize(browserCapabilities)+"&type="+errorType+"&message="+errorMessage+"&fatal="+_fatal).toLowerCase();var _cRequest;if(window.XMLHttpRequest){_cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET",uri,true);_cRequest.timeout=10000;_cRequest.withCredentials=true;_cRequest.send(null)}};var checkmediaSourceAvalabilty=function(){var sourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer;return true&&!!window.MediaSource&&!!(!sourceBuffer||(sourceBuffer.prototype&&typeof sourceBuffer.prototype.appendBuffer==="function"&&typeof sourceBuffer.prototype.remove==="function"))};var checkwebmAvalabilty=function(){return true&&!!window.MediaSource&&!!window.MediaSource.isTypeSupported('video/webm; codecs="vp8"')};var checkMSEAvalabilty=function(){var sourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer;return true&&!!window.MediaSource&&!!window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')&&!!(!sourceBuffer||(sourceBuffer.prototype&&typeof sourceBuffer.prototype.appendBuffer==="function"&&typeof sourceBuffer.prototype.remove==="function"))&&!!mseUserAgentBlacklist()&&!!_config.useMSE};var hextoRGB=function(hex,opacity){var h=hex.replace("#","");h=h.match(new RegExp("(.{"+h.length/3+"})","g"));for(var i=0;i<h.length;i++){h[i]=parseInt(h[i].length==1?h[i]+h[i]:h[i],16)}if(typeof opacity!="undefined"){h.push(opacity)}return"rgba("+h.join(",")+")"};var loadMSE=function(t){_msePlayer.attachMedia(_mseVideo);if(t>0){_msePlayer.startLoad(t)}else{_msePlayer.startLoad()}_stats.mseUsed=1};var attachMSEMedia=function(){_msePlayer.attachMedia(_mseVideo);_mseVideo.play();_stats.mseUsed=1};var attachMSE=function(initial,autostart,prefetch){callBridge(_config.container,"attachMSE","initital: "+initial+" autostart: "+autostart+" prefretch: "+prefetch);if(isCastDevice()==true){_config.maxBufferSize=20000000;callBridge(_config.container,"bufferSizeChange",_config.maxBufferSize)}if(_config.mseLib=="hls"){if(_config.streamContent=="live"){if(_hlsURI){if(_hlsURI.toLowerCase().indexOf("low")>-1){_config.maxStarvationDelay=4;_config.liveSyncDurationCount=2;_config.lowLatency=true}}}var sdnMSEInterval=setInterval(function(){if(typeof sdnMSE!="undefined"&&_config.errorBox!=true){_mseState=1;_stats.mseUsed=1;clearInterval(sdnMSEInterval);_mseVideo=getElement(_config.container+"-source-container");if(initial==true){var maxBufferLength=30;if(_config.useVast==true){}_msePlayer=new sdnMSE({debug:_config.debug,autoStartLoad:false,maxBufferLength:maxBufferLength,maxBufferSize:_config.maxBufferSize,enableWebVTT:false,startFragPrefetch:false,manifestLoadingTimeOut:5000,manifestLoadingMaxRetry:30,manifestLoadingRetryDelay:500,manifestLoadingMaxRetryTimeout:64000,fragLoadingTimeOut:20000,fragLoadingMaxRetry:10,fragLoadingRetryDelay:500,fragLoadingMaxRetryTimeout:64000,liveSyncDurationCount:_config.liveSyncDurationCount,maxStarvationDelay:_config.maxStarvationDelay,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrBandWidthUpFactor:0.95,abrMaxWithRealBitrate:true});_msePlayer.loadSource(_hlsURI);_msePlayer.on(sdnMSE.Events.MANIFEST_PARSED,function(){if(_states.readyEventTriggered==0){callBridge(_config.container,"ready",true);_states.readyEventTriggered=1}var _levelLength=_msePlayer.levels.length;for(var key=_levelLength-1;key!==-1;key--){if(_msePlayer.levels[key].height){if(_msePlayer.levels[key].height==_config.initialQuality&&_config.streamContent!="live"){if(_config.preferAutoSwitch!=true){}break}}}if(_msePlayer.audioTracks.length>1){for(var key in _msePlayer.audioTracks){if((_chosenLocale.substring(0,2)==_msePlayer.audioTracks[key].lang)&&typeof(_msePlayer.audioTracks[key].lang)!="undefined"){_msePlayer.audioTrack=key;_states.lastAudioIndex=key;_states.audioIndexChanged=1;updateAudioMenu();callBridge(_config.container,"audioChange",_stats.audiotracks)}}}else{audioTrackMenu()}if(_config.autoplay==true&&autostart==true&&_config.useVast!=true&&_states.firststart==0){loadMSE(_stats.lastPauseTime);if(isMobilePlatform()!=true){setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-source-container","autoplay",true);var playPromise=_mseVideo.play();if(playPromise!==undefined){playPromise.then(function(){updateControlbar("play")},function(){updateControlbar("pause")})}}else{if(_config.mutedautoplay){if(_config.mutedautoplay==true){getElement(_config.container+"-source-container").autoplay=true;if(isMobilePlatform()==true){getElement(_config.container+"-source-container").setAttribute("muted",true);getElement(_config.container+"-source-container").muted=1;getElement(_config.container+"-source-container").volume=0;_states.oldvolume=0;setAttr(_config.container+"-volume-button","class","sdn-volume-mute sdnicbsun-mute")}}}}_states.firststart++}if(_config.useVast==true&&_states.firststart==0&&_config.autoplay==true&&autostart==true){loadMSE(_stats.lastPauseTime);if(_config.mutedautoplay&&isMobilePlatform()==true){if(_config.mutedautoplay==true){getElement(_config.container+"-source-container").autoplay=true;if(isMobilePlatform()==true){getElement(_config.container+"-source-container").setAttribute("muted",true);getElement(_config.container+"-source-container").muted=1;getElement(_config.container+"-source-container").volume=0;setAttr(_config.container+"-volume-button","class","sdn-volume-mute sdnicbsun-mute");_states.oldvolume=0}}}setAttr(_config.container+"-play-button-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-minus10-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-plus10-overlay","style","visibility:hidden;display:none;");var playPromise=_mseVideo.play();if(playPromise!==undefined){playPromise.then(function(){pause();requestAd("pre",_config.adslots);_states.firststart++},function(){updateControlbar("pause")})}}initMSEQualityMenu()});_msePlayer.on(sdnMSE.Events.AUDIO_TRACKS_UPDATED,function(event,data){updateAudioMenu()});_msePlayer.on(sdnMSE.Events.AUDIO_TRACK_SWITCHING,function(event,data){updateAudioMenu()});_msePlayer.on(sdnMSE.Events.FRAG_BUFFERED,function(event,data){_stats.bandwidth=Math.round(8*data.stats.total/(data.stats.tbuffered-data.stats.trequest));_stats.delta=data.frag.deltaPTS});_msePlayer.on(sdnMSE.Events.FRAG_CHANGED,function(event,data){_stats.currentFragNumber=data.frag.sn;_stats.lastLevel=_msePlayer.currentLevel;if(_config.streamContent=="live"){if(_stats.fragments[data.frag.sn]){_stats.currentFragTimestamp=_stats.fragments[data.frag.sn];_stats.currentFragStarted=getCurrentTime()}}});_msePlayer.on(sdnMSE.Events.LEVEL_LOADED,function(event,data){_stats.avgfragDuration=data.details.averagetargetduration;if(_config.streamContent=="live"&&_states.isDVR==true){if(data.details.live!=true){_states.livestreamIsOnline=false;console.warn("Livestream offline");if(_states.isDVR==true&&_states.dvrSwitched!=1){console.warn("Livestream ended, switching back.")}}else{_states.livestreamIsOnline=true}_stats.lastFragmentLength=data.details.endSN}if(data.details.programDateTime&&_config.streamContent=="live"){_stats.liveDelayMesEnabled=true;var startDT=0;for(var frag in data.details.fragments){startDT+=data.details.fragments[frag].duration;if(!_stats.fragments[data.details.fragments[frag].sn]){_stats.fragments[data.details.fragments[frag].sn]=Math.round(new Date(data.details.programDateTime).getTime()+(startDT*1000))}}}});_msePlayer.on(sdnMSE.Events.ERROR,function(event,data){errorCollector(event,data);if(data.fatal==true){callBridge(_config.container,"errorEvent","");switch(data.type){case"networkError":if(data.details===sdnMSE.ErrorDetails.MANIFEST_LOAD_ERROR||data.details===sdnMSE.ErrorDetails.MANIFEST_LOAD_TIMEOUT||data.details===sdnMSE.ErrorDetails.MANIFEST_PARSING_ERROR){if(_config.streamContent=="live"){displayInfobar(locales[_chosenLocale].streamnotavailable,11000)}errorCollector("loadManifestSourceCalled",{fatal:true,type:"networkError"});setTimeout(function(){_msePlayer.loadSource(_hlsURI)},2000)}else{_msePlayer.startLoad(_stats.lastPauseTime)}_states.error=1;errorCollector("mediaNetworkRecoveryCalled",{fatal:true,type:"networkError"});break;case"mediaError":if(_mseState!=0&&_states.adstalling==0){if(_stats.mediaErrorRecoverys>0){_stats.mediaErrorRecoverys=0}_msePlayer.destroy();_mseState=0;switchQuality("medium",true,false);_stats.mediaErrorRecoverys++;errorCollector("mediaRecoveryCalled",{fatal:true,type:"mediaError"})}_states.error=1;break;default:_msePlayer.destroy();_mseState=0;switchQuality("medium",true,false);console.error("switchQuality called");break}}else{if(data.details=="bufferStalledError"){checkSourceForStall()}}});_msePlayer.on(sdnMSE.Events.LEVEL_SWITCH,function(event,data){updateQualityLevelMenu()})}else{_msePlayer=new sdnMSE({debug:_config.debug,enableWebVTT:false,startFragPrefetch:prefetch,autoStartLoad:false,manifestLoadingTimeOut:5000,manifestLoadingMaxRetry:30,manifestLoadingRetryDelay:500,manifestLoadingMaxRetryTimeout:64000,fragLoadingTimeOut:20000,fragLoadingMaxRetry:10,fragLoadingRetryDelay:500,fragLoadingMaxRetryTimeout:64000,liveSyncDurationCount:_config.liveSyncDurationCount,maxStarvationDelay:_config.maxStarvationDelay,maxBufferSize:_config.maxBufferSize,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrBandWidthUpFactor:0.95,abrMaxWithRealBitrate:true});if(prefetch!=true){_msePlayer.attachMedia(_mseVideo);callBridge(_config.container,"attachMSE",true)}_msePlayer.loadSource(_hlsURI);_msePlayer.on(sdnMSE.Events.MANIFEST_PARSED,function(){if(_states.readyEventTriggered==0){callBridge(_config.container,"ready",true);_states.readyEventTriggered=1}if(_msePlayer.audioTracks.length>1&&_states.audioIndexChanged==1){for(var key in _msePlayer.audioTracks){if(key==_states.lastAudioIndex){_msePlayer.audioTrack=_states.lastAudioIndex;updateAudioMenu();callBridge(_config.container,"audioChange",_stats.audiotracks)}}}else{audioTrackMenu()}if(_config.streamContent!="live"){}if(_stats.lastPauseTime>0){_msePlayer.startLoad(_stats.lastPauseTime)}else{_msePlayer.startLoad()}if(autostart==true){var playPromise=_mseVideo.play();if(playPromise!==undefined){playPromise.then(function(){updateControlbar("play")},function(c){updateControlbar("pause");callBridge(_config.container,"stateChange","Autoplay not possible");setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;");setAttr(_config.container+"-play-button-overlay","style","visibility:visible;display:block;")})}setAttr(_config.container+"-source-container","autoplay",true);initMSEQualityMenu()}});_msePlayer.on(sdnMSE.Events.FRAG_BUFFERED,function(event,data){_stats.bandwidth=Math.round(8*data.stats.total/(data.stats.tbuffered-data.stats.trequest));_stats.delta=data.frag.deltaPTS});_msePlayer.on(sdnMSE.Events.FRAG_CHANGED,function(event,data){_stats.currentFragNumber=data.frag.sn;_stats.lastLevel=_msePlayer.currentLevel;if(_config.streamContent=="live"){if(_stats.fragments[data.frag.sn]){_stats.currentFragTimestamp=_stats.fragments[data.frag.sn];_stats.currentFragStarted=getCurrentTime()}}});_msePlayer.on(sdnMSE.Events.LEVEL_LOADED,function(event,data){_stats.avgfragDuration=data.details.averagetargetduration;if(_config.streamContent=="live"&&_states.isDVR==true){if(data.details.live!=true){_states.livestreamIsOnline=false;console.warn("Livestream offline");if(_states.isDVR==true&&_states.dvrSwitched!=1){console.warn("Livestream ended, switching back.")}}else{_states.livestreamIsOnline=true}_stats.lastFragmentLength=data.details.endSN}if(data.details.programDateTime&&_config.streamContent=="live"){_stats.liveDelayMesEnabled=true;var startDT=0;for(var frag in data.details.fragments){startDT+=data.details.fragments[frag].duration;if(!_stats.fragments[data.details.fragments[frag].sn]){_stats.fragments[data.details.fragments[frag].sn]=Math.round(new Date(data.details.programDateTime).getTime()+(startDT*1000))}}}});_msePlayer.on(sdnMSE.Events.ERROR,function(event,data){errorCollector(event,data);if(data.fatal==true){callBridge(_config.container,"errorEvent","");switch(data.type){case"networkError":if(data.details===sdnMSE.ErrorDetails.MANIFEST_LOAD_ERROR||data.details===sdnMSE.ErrorDetails.MANIFEST_LOAD_TIMEOUT||data.details===sdnMSE.ErrorDetails.MANIFEST_PARSING_ERROR){if(_config.streamContent=="live"){displayInfobar(locales[_chosenLocale].streamnotavailable,11000)}errorCollector("loadManifestSourceCalled",{fatal:true,type:"networkError"});setTimeout(function(){_msePlayer.loadSource(_hlsURI)},2000)}else{_msePlayer.startLoad(_stats.lastPauseTime)}_states.error=1;errorCollector("mediaNetworkRecoveryCalled",{fatal:true,type:"networkError"});break;case"mediaError":if(_mseState!=0&&_states.adstalling==0){if(_stats.mediaErrorRecoverys>0){_stats.mediaErrorRecoverys=0}_msePlayer.destroy();_mseState=0;switchQuality("medium",true,false);_stats.mediaErrorRecoverys++;_stats.mediaErrorRecoverys++;errorCollector("mediaRecoveryCalled",{fatal:true,type:"mediaError"})}_states.error=1;break;default:_msePlayer.destroy();_mseState=0;switchQuality("medium",true,false);break}}else{if(data.details=="bufferStalledError"){checkSourceForStall()}}});_msePlayer.on(sdnMSE.Events.AUDIO_TRACKS_UPDATED,function(event,data){updateAudioMenu()});_msePlayer.on(sdnMSE.Events.AUDIO_TRACK_SWITCHING,function(event,data){updateAudioMenu()});_msePlayer.on(sdnMSE.Events.LEVEL_SWITCH,function(){updateQualityLevelMenu()})}}},10)}else{document.getElementById(_config.container+"-source-container").removeAttribute("autoplay");if(_config.usewebm==true){_dashURI=_dashvp8URI}var sdnMSEInterval=setInterval(function(){if(typeof shaka!="undefined"&&_config.errorBox!=true){clearInterval(sdnMSEInterval);_mseVideo=getElement(_config.container+"-source-container");if(initial==true){function onError(error){console.dir(error);if(_states.adstalling==0){if(error.category==6){createError("drmerror","")}}}shaka.polyfill.installAll();_msePlayer=new shaka.Player(_mseVideo);_msePlayer.configure({preferredAudioLanguage:_chosenLocale.substring(0,2)});if(_config.autoplay==true&&autostart==true&&_config.useVast!=true){_msePlayer.load(_dashURI).then(function(){_mseVideo.play()})}if(_config.useVast==true&&_states.firststart==0&&isMobilePlatform()!=true&&_config.autoplay==true){requestAd("pre",_config.adslots);_states.firststart++}if(_states.readyEventTriggered==0){callBridge(_config.container,"ready",true);_states.readyEventTriggered=1}_msePlayer.addEventListener("trackschanged",initDashAudioMenu);_msePlayer.addEventListener("error",onError)}else{function onError(error){console.dir(error);if(_states.adstalling==0){if(error.category==6){createError("drmerror","")}}}shaka.polyfill.installAll();_msePlayer=new shaka.Player(_mseVideo);_msePlayer.configure({preferredAudioLanguage:_chosenLocale.substring(0,2)});_msePlayer.load(_dashURI,_stats.lastPauseTime).then(function(){if(_states.readyEventTriggered==0){callBridge(_config.container,"ready",true);_states.readyEventTriggered=1}if(autostart==true){_mseVideo.play()}});_msePlayer.addEventListener("trackschanged",initDashAudioMenu);_msePlayer.addEventListener("error",onError)}_mseState=1}},10)}};var detachMSE=function(){_msePlayer.destroy();_msePlayer.detachMedia();_msePlayer=null};var updateQualityLevelMenu=function(){var cid=_config.container+"-qs-auto";if(_msePlayer.autoLevelCapping==-1){setHTML(cid,'<span style="background:'+_config.tintColor+';" id="'+_config.container+'-qs-auto" class="current">'+locales[_chosenLocale].auto+"</span>")}else{setHTML(cid,"<span>"+locales[_chosenLocale].auto+"</span>")}for(var key in _msePlayer.levels){if(_msePlayer.autoLevelCapping==key){switch(_msePlayer.levels[key].height){case 2160:setHTML(_config.container+"-qs-"+key,'<span style="background:'+_config.tintColor+';" class="current">'+_msePlayer.levels[key].height+'p <sup style="color:white;">4k</sup></span>');break;case 1440:setHTML(_config.container+"-qs-"+key,'<span style="background:'+_config.tintColor+';" class="current">'+_msePlayer.levels[key].height+'p <sup style="color:white;">2k</sup></span>');break;default:setHTML(_config.container+"-qs-"+key,'<span style="background:'+_config.tintColor+';" class="current">'+_msePlayer.levels[key].height+"p</span>");break}}else{switch(_msePlayer.levels[key].height){case 2160:setHTML(_config.container+"-qs-"+key,"<span>"+_msePlayer.levels[key].height+'p <sup style="color:'+_config.tintColor+';">4k</sup></span>');break;case 1440:setHTML(_config.container+"-qs-"+key,"<span>"+_msePlayer.levels[key].height+'p <sup style="color:'+_config.tintColor+';">2k</sup></span>');break;default:setHTML(_config.container+"-qs-"+key,"<span>"+_msePlayer.levels[key].height+"p</span>");break}}}};var initMSEQualityMenu=function(){var cid=_config.container+"-qs-quality-settings";setHTML(cid,"");setAttr(cid,"class","sdn-quality-settings");setHTML(cid,"<span>"+locales[_chosenLocale].quality+"</span>");var pid=_config.container+"-qs-quality-settings";var cid=_config.container+"-qs-auto-menu";setCreateElement(pid,"ul",cid);setAttr(cid,"class","sdn-ul-menu");var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-auto";setCreateElement(pid,"li",cid);if(_msePlayer.autoLevelCapping==-1){setHTML(cid,'<span style="background:'+_config.tintColor+';" class="current">'+locales[_chosenLocale].auto+"</span>")}else{setHTML(cid,"<span>"+locales[_chosenLocale].auto+"</span>")}addEvent(getElement(_config.container+"-qs-auto"),"click",function(){_msePlayer.nextLevel=-1;_msePlayer.autoLevelCapping=-1;updateQualityLevelMenu();setTimeout(function(){updateControlbar("hideqos")},1500)});function bind_switchEvent(t){var td=document.getElementById(_config.container+"-qs-"+t);if(typeof window.addEventListener==="function"){td.addEventListener("click",function(){_msePlayer.autoLevelCapping=t;_msePlayer.nextLevel=t;updateQualityLevelMenu();updateControlbar("play");setTimeout(function(){updateControlbar("hideqos")},1500)})}}var _lastVariant=0;var _levelLength=_msePlayer.levels.length;for(var key=_levelLength-1;key!==-1;key--){if(_lastVariant!=_msePlayer.levels[key].height){var pid=_config.container+"-qs-auto-menu";var cid=_config.container+"-qs-"+key;setCreateElement(pid,"li",cid);switch(_msePlayer.levels[key].height){case 2160:setHTML(cid,"<span>"+_msePlayer.levels[key].height+'p <sup style="color:'+_config.tintColor+';">4k</sup></span>');break;case 1440:setHTML(cid,"<span>"+_msePlayer.levels[key].height+'p <sup style="color:'+_config.tintColor+';">2k</sup></span>');break;default:setHTML(cid,"<span>"+_msePlayer.levels[key].height+"p</span>");break}bind_switchEvent(key);_lastVariant=_msePlayer.levels[key].height}}};var hasAudio=function(){return getElement(_config.container+"-source-container").mozHasAudio||Boolean(getElement(_config.container+"-source-container").webkitAudioDecodedByteCount)||Boolean(getElement(_config.container+"-source-container").audioTracks&&getElement(_config.container+"-source-container").audioTracks.length)||_stats.casting==1};var audioTrackMenu=function(){var cid=_config.container+"-qs-audio-settings";setAttr(cid,"class","sdn-audio-settings");setAttr(cid,"style","display:none;");setHTML(cid,"<span>"+locales[_chosenLocale].audiotracks+"</span>");var pid=_config.container+"-qs-audio-settings";var cid=_config.container+"-qs-audio-menu";setCreateElement(pid,"ul",cid);setAttr(cid,"class","sdn-ul-menu");function bind_switchEvent(t){var td=document.getElementById(_config.container+"-qs-audio-"+t);if(typeof window.addEventListener==="function"){td.addEventListener("click",function(){setAudioTrack(t);setTimeout(function(){updateControlbar("hideqos")},1500)})}}var tracks=0;for(var i in _stats.audiotracks){tracks++;if(!getElement(_config.container+"-qs-audio-"+i)){var pid=_config.container+"-qs-audio-menu";var cid=_config.container+"-qs-audio-"+i;setCreateElement(pid,"li",cid);if(_stats.audiotracks[i].active==true){if(_stats.audiotracks[i].name){}setHTML(cid,'<span style="background:'+_config.tintColor+';" class="current">'+getLanguageName(_stats.audiotracks[i].name?_stats.audiotracks[i].name:_stats.audiotracks[i].lang)+"</span>")}else{setHTML(cid,"<span>"+getLanguageName(_stats.audiotracks[i].name?_stats.audiotracks[i].name:_stats.audiotracks[i].lang)+"</span>")}bind_switchEvent(i)}else{if(getElement(_config.container+"-qs-audio-"+i)){if(_stats.audiotracks[i].active==true){setHTML(cid,'<span style="background:'+_config.tintColor+';" class="current">'+getLanguageName(_stats.audiotracks[i].name?_stats.audiotracks[i].name:_stats.audiotracks[i].lang)+"</span>")}else{setHTML(cid,"<span>"+getLanguageName(_stats.audiotracks[i].name?_stats.audiotracks[i].name:_stats.audiotracks[i].lang)+"</span>")}}}}if(tracks<=1){var cid=_config.container+"-qs-audio-settings";setAttr(cid,"style","display:none;visibility:hidden;")}else{var cid=_config.container+"-qs-audio-settings";setAttr(cid,"style","display:block;visibility:visible;")}callBridge(_config.container,"audioChange",_stats.audiotracks)};var initDashAudioMenu=function(){updateDashAudioMenu();audioTrackMenu()};var updateAudioMenu=function(){for(var key in _msePlayer.audioTracks){if(_msePlayer.audioTrack==key&&_msePlayer.audioTracks[key].lang){_stats.audiotracks[key]={lang:_msePlayer.audioTracks[key].lang,active:true,name:_msePlayer.audioTracks[key].name}}else{if(_msePlayer.audioTracks[key].lang){_stats.audiotracks[key]={lang:_msePlayer.audioTracks[key].lang,active:false,name:_msePlayer.audioTracks[key].name}}}}audioTrackMenu()};var updateDashAudioMenu=function(){var _lang=_msePlayer.getAudioLanguages();var _variants=_msePlayer.getVariantTracks();for(var key in _lang){_stats.audiotracks[_lang[key]]={lang:_lang[key],active:false,name:null};for(var vkey in _variants){if(_variants[vkey].active==true&&_variants[vkey].language==_stats.audiotracks[_lang[key]].lang){_stats.audiotracks[_lang[key]]={lang:_lang[key],active:true,name:null}}}}audioTrackMenu()};var updateAudioIndexAfterFullscreen=function(){if(getElement(_config.container+"-source-container").audioTracks){for(var i=0;i<getElement(_config.container+"-source-container").audioTracks.length;i++){if(getElement(_config.container+"-source-container").audioTracks[i].enabled==true){_states.lastAudioIndex=i;_stats.audiotracks[i]={lang:getElement(_config.container+"-source-container").audioTracks[i].language,active:true,name:null}}else{_stats.audiotracks[i]={lang:getElement(_config.container+"-source-container").audioTracks[i].language,active:false,name:null}}}audioTrackMenu()}};var updateProgressiveAudioWithIndexMenuList=function(){if(getElement(_config.container+"-source-container").audioTracks){for(var i=0;i<getElement(_config.container+"-source-container").audioTracks.length;i++){if(_states.lastAudioIndex==i){_stats.audiotracks[i]={lang:getElement(_config.container+"-source-container").audioTracks[i].language,active:true,name:null}}else{_stats.audiotracks[i]={lang:getElement(_config.container+"-source-container").audioTracks[i].language,active:false,name:null}}}audioTrackMenu()}};var updateProgressiveAudioMenu=function(){if(getElement(_config.container+"-source-container").audioTracks){for(var i=0;i<getElement(_config.container+"-source-container").audioTracks.length;i++){if(getElement(_config.container+"-source-container").audioTracks[i].enabled==true){_states.lastAudioIndex=i;_stats.audiotracks[i]={lang:getElement(_config.container+"-source-container").audioTracks[i].language,active:true,name:null}}else{_stats.audiotracks[i]={lang:getElement(_config.container+"-source-container").audioTracks[i].language,active:false,name:null}}}if(_states.audioIndexChanged==1){if(getElement(_config.container+"-source-container").audioTracks[_states.lastAudioIndex]){setAudioTrack(_states.lastAudioIndex)}}audioTrackMenu()}};var progressiveMenuHandler=function(){removeEvent(getElement(_config.container+"-source-container").audioTracks,"addtrack",updateProgressiveAudioMenu);removeEvent(getElement(_config.container+"-source-container").audioTracks,"onchange",updateProgressiveAudioMenu);removeEvent(getElement(_config.container+"-source-container").textTracks,"addtrack",textTrackChangeEvent);addEvent(getElement(_config.container+"-source-container").audioTracks,"addtrack",updateProgressiveAudioMenu);addEvent(getElement(_config.container+"-source-container").audioTracks,"onchange",updateProgressiveAudioMenu);addEvent(getElement(_config.container+"-source-container").textTracks,"addtrack",textTrackChangeEvent)};var textTrackChangeEvent=function(track){track.mode="disabled";for(var i=0;i<getElement(_config.container+"-source-container").textTracks.length;i++){getElement(_config.container+"-source-container").textTracks[i].mode="disabled";getElement(_config.container+"-source-container").textTracks[i].addEventListener("cuechange",function(){var textTrack=this;textTrack.mode="disabled"});getElement(_config.container+"-source-container").textTracks[i].addEventListener("load",function(){var textTrack=this;textTrack.mode="disabled"})}};var toHHMMSS=function(time){var sec_num=parseInt(time,10);var hours=Math.floor(sec_num/3600);var minutes=Math.floor((sec_num-(hours*3600))/60);var seconds=sec_num-(hours*3600)-(minutes*60);if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}if(hours>0){var time=hours+":"+minutes+":"+seconds}else{var time=minutes+":"+seconds}return time};var toSS=function(time){var sec_num=parseInt(time,10);var hours=Math.floor(sec_num/3600);var minutes=Math.floor((sec_num-(hours*3600))/60);var seconds=sec_num-(hours*3600)-(minutes*60);if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}var time=hours+minutes+seconds;return time};var rangeVolumeSlider=function(id,onDrag){var range=document.getElementById(id),dragger=range.children[0],draggerWidth=5,down=false,rangeWidth,rangeLeft;dragger.style.width=draggerWidth+"px";dragger.style.left=-draggerWidth+"px";dragger.style.marginLeft=(draggerWidth/2)+"px";if(_config.muted!=true){updateVolumeSlider(1)}range.addEventListener("mousedown",function(e){rangeWidth=this.offsetWidth;rangeLeft=this.offsetLeft;down=true;updateDragger(e);return false});range.addEventListener("mousemove",function(e){updateDragger(e)});range.addEventListener("touchstart",function(e){rangeWidth=this.offsetWidth;rangeLeft=this.offsetLeft;down=true;updateDragger(e);return false});range.addEventListener("touchmove",function(e){updateDragger(e)});document.addEventListener("mouseup",function(){down=false});document.addEventListener("touchend",function(){down=false});function updateDragger(e){var parent=getElement(id);var mousevolPosition=pointerEventToXY(parent,e);if(mousevolPosition.x<=51&&mousevolPosition.x>=0){var v=mousevolPosition.x/51;var p=v*100;if(down){setVolume(v);updateVolumeSlider(v)}}playerMouseOverEvent()}};var updateVolumeSlider=function(v){var pix=((v*100/1)*51/100)-5;getElement(_config.container+"-volume-controls-thumb").style.left=pix+"px"};var rangeSeekSlider=function(onDrag){var _lastSeekPosition=0;var parent=getElement(_config.container+"-scrubber-loaded");var children=getElement(_config.container+"-scrubber-loaded-pointer");var sdnSeekbarCanvas=getElement(_config.container+"-seek-bar");var sdnPlayerCanvas=getElement(_config.container);var range=sdnSeekbarCanvas,dragger=children,draggerWidth=20,rangeWidth,rangeLeft;dragger.style.width=draggerWidth+"px";dragger.style.left=-draggerWidth+"px";dragger.style.marginLeft=(draggerWidth/2)+"px";dragger.addEventListener("mousedown",function(e){rangeWidth=this.offsetWidth;rangeLeft=this.offsetLeft;_states.seekbardown=true;updateDragger(e);return false});document.addEventListener("mousemove",function(e){updateDragger(e)});range.addEventListener("touchstart",function(e){rangeWidth=this.offsetWidth;rangeLeft=this.offsetLeft;_states.seekbardown=true;updateDragger(e);return false});document.addEventListener("touchmove",function(e){updateDragger(e)});document.addEventListener("mouseup",function(){if(_states.seekbardown){_states.seekbardown=false;closeDragger()}});range.addEventListener("mouseup",function(){_states.seekbardown=false;closeDragger()});range.addEventListener("touchend",function(){_states.seekbardown=false;closeDragger()});function closeDragger(){var mouseSeekPosition=_lastSeekPosition;var perCentSeekPosition=mouseSeekPosition.x*100/sdnSeekbarCanvas.clientWidth;var v=Math.round(_stats.duration*perCentSeekPosition/100);if(v<5){v=0.1}var playerMediaElement=getElement(_config.container+"-source-container");if(typeof(playerMediaElement)!="undefined"&&playerMediaElement!=null){callBridge(_config.container,"seekRequest",Math.round(v));seek(Math.round(v))}else{callBridge(_config.container,"seekError","0")}if(isMobilePlatform()!=true){}updateThumbnails(0,0,"hide",sdnSeekbarCanvas.clientWidth)}function updateDragger(e){var mouseSeekPosition=pointerEventToXY(sdnSeekbarCanvas,e);_lastSeekPosition=mouseSeekPosition;var perCentSeekPosition=Math.round(mouseSeekPosition.x*100/sdnSeekbarCanvas.clientWidth);if(_states.seekbardown){parent.style.width=perCentSeekPosition+"%";_states.seekpointerstalling=1;updateThumbnails(mouseSeekPosition.x,perCentSeekPosition,"show",sdnSeekbarCanvas.clientWidth);playerMouseOverEvent()}else{_states.seekpointerstalling=0}}};var draggableElement=function(id,onDrag){var range=document.getElementById(id),down=false,_offsetX=0,_offsetY=0;range.addEventListener("mousedown",function(e){_offsetX=this.offsetLeft;_offsetY=this.offsetTop;down=true;return false});range.addEventListener("mousemove",function(e){updateDragger(e)});range.addEventListener("touchstart",function(e){_offsetX=this.offsetLeft;_offsetY=this.offsetTop;down=true;updateDragger(e);return false});range.addEventListener("touchmove",function(e){updateDragger(e)});document.addEventListener("mouseup",function(){down=false});document.addEventListener("touchend",function(){down=false});var _documentHeight=document.documentElement.clientHeight;var _documentWidth=document.documentElement.clientWidth;var scale=25;if(isMobilePlatform()==true){scale=60}var calculatedWidth=Math.round(_documentWidth/100*scale);var calulatedHeight=Math.round(calculatedWidth/1.78);function updateDragger(e){if(down&&!elementInViewport2(getElement(_config.container))){_sticky.x=e.clientX-range.clientWidth/2;_sticky.y=e.clientY-range.clientHeight/2;setAttr(_config.container,"style","width:"+calculatedWidth+"px !important;height:"+calulatedHeight+"px !important;left:"+_sticky.x+"px;top:"+_sticky.y+"px;")}}};this.callBridge=function(container,eventName,eventData){callBridge(container,eventName,eventData)};var callBridge=function(container,eventName,eventData){var javaScriptBridge=_config.javaScriptBridgeFunction;if(typeof window[javaScriptBridge]=="function"){eval(_config.javaScriptBridgeFunction)(_config.container,eventName,eventData)}if(_config.debug==true){console.log("3qjs: "+eventName+": "+eventData)}if(_config.amp==true){pushPostMessage(eventName,eventData)}};var pushPostMessage=function(event,value){try{window.parent.postMessage({data:event,value:value},"*")}catch(e){}};var callGA=function(category,action,label,value){if(_config.ga==true){var javaScriptBridge=_config.gacallback;if(typeof window[javaScriptBridge]=="function"){eval(ga)("send","event",category,action,label,value,0)}}};var updateEmbedState=function(state){_currentPlayerstate=state;switch(state){case"player":loadPlayer();break;case"board":loadWall();break;case"countdown":loadWall();break;default:loadPlayer();break}};var updateLivestreamStatus=function(){var _liveStreamRequest;var _uri="https://"+_config.env+"/streamstatus?id="+_config.stream;if(window.XMLHttpRequest){_liveStreamRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){_liveStreamRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_liveStreamRequest.open("GET",_uri,true);_liveStreamRequest.timeout=5000;_liveStreamRequest.onreadystatechange=function(){if(_liveStreamRequest.readyState==4&&_liveStreamRequest.status==200){var data=JSON.parse(_liveStreamRequest.responseText);if(_config.features==true){if(_hlsURI){if(data[0].IsOnline!=true&&_states.isDVR!=true){setAttr(_config.container+"-play-buffer-overlay","style","visibility:hidden;display:none;");_states.bufferingIcon=0}}if(data[0].Metadata.playout!=_currentPlayerstate){_config.channelboardtitleline1=data[0].Metadata.boardtitleline1;_config.channelboardtitleline2=data[0].Metadata.boardtitleline2;_config.channelboardposter=data[0].Metadata.boardposter;_config.countdown=data[0].Metadata.countdown;_config.currentplayout=data[0].Metadata.playout;_config.autoplay=true;updateEmbedState(data[0].Metadata.playout)}}setTimeout(function(){updateLivestreamStatus()},5000)}else{if(_liveStreamRequest.readyState==4){setTimeout(function(){updateLivestreamStatus()},5000)}}};_liveStreamRequest.send(null)};var checkSourceForStall=function(){if(_stats.lastPauseTimeOnError==_stats.lastPauseTime&&_config.streamContent=="live"&&_states.play==1){_stats.stallErrors++;if(_stats.stallErrors>50){_msePlayer.destroy();_mseState=0;switchQuality("medium",true,false);_stats.stallErrors=0}else{_stats.lastPauseTimeOnError=_stats.lastPauseTime;setTimeout(function(){checkSourceForStall()},2000)}}};this.destroy=function(){destroy()};var destroyMedia=function(){var sourceContainer=document.getElementById(_config.container+"-source-container");if(typeof(sourceContainer)!="undefined"&&sourceContainer!=null&&sourceContainer.pause==="function"){sourceContainer.pause();sourceContainer.src="";while(sourceContainer.firstChild){sourceContainer.removeChild(sourceContainer.firstChild)}}};var destroy=function(){sdnPlaybackTimer("stop");removeEvent(getElement(_config.container),"mousemove",playerMouseOverEvent);for(key in media_events){removeEvent(getElement(_config.container+"-source-container"),media_events[key],capturesdnEvents)}var sourceContainer=document.getElementById(_config.container+"-source-container");if(_mseState==1){_msePlayer.destroy()}if(typeof(sourceContainer)!="undefined"&&sourceContainer!=null&&sourceContainer.pause==="function"){sourceContainer.pause();sourceContainer.src="";while(sourceContainer.firstChild){sourceContainer.removeChild(sourceContainer.firstChild)}sourceContainer.load();var _container=document.getElementById(_config.container);if(_container.childNodes&&_container.childNodes.length>0){while(_container.firstChild){_container.removeChild(_container.firstChild)}}recreateNode(_container,true)}updateControlbar("pause");_mseState=0;_states.firststart=0};destroyMedia=function(){var sourceContainer=document.getElementById(_config.container+"-source-container");if(_mseState==1){_msePlayer.destroy()}if(typeof(sourceContainer)!="undefined"&&sourceContainer!=null&&sourceContainer.pause==="function"){sourceContainer.pause();sourceContainer.src="";while(sourceContainer.firstChild){sourceContainer.removeChild(sourceContainer.firstChild)}sourceContainer.load();var _container=document.getElementById(_config.container);if(_container.childNodes&&_container.childNodes.length>0){while(_container.firstChild){_container.removeChild(_container.firstChild)}}recreateNode(_container,true)}_mseState=0};var correctAspectRatio=function(){var _defaultAspectRatio=1.777777778;if(_config.aspect){_defaultAspectRatio=_config.aspect}if(getElement(_config.container)&&_states.sticky==0&&_config.layout=="responsive"){var _calculatedHeight=Math.round(getElement(_config.container).clientWidth/_defaultAspectRatio);if(_calculatedHeight<=100){_calculatedHeight=150}setAttr(_config.container,"style","width:100%;height:"+_calculatedHeight+"px;");if(document.getElementById(_config.container).getAttribute("style")&&_states.fullscreen==0){_data.savedplayerstyle=document.getElementById(_config.container).getAttribute("style")}if(_states.adstalling==1){if(_adManager){if(isFullScreen()==true){_adManager.resize(getElement(_config.container).clientWidth,getElement(_config.container).clientHeight,google.ima.ViewMode.FULLSCREEN)}else{_adManager.resize(getElement(_config.container).clientWidth,getElement(_config.container).clientHeight,google.ima.ViewMode.NORMAL)}}}}};var setLocalStore=function(c_name,value){var exdate=new Date();exdate.setDate(exdate.getDate()+365);var c_value=escape(value)+((365==null)?"":"; expires="+exdate.toUTCString());try{document.cookie=c_name+"="+c_value}catch(e){}};var getLocalStore=function(c_name){var i,x,y,cookie=document.cookie.split(";");for(i=0;i<cookie.length;i++){x=cookie[i].substr(0,cookie[i].indexOf("="));y=cookie[i].substr(cookie[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y)}}return null};this.getStreamType=function(){return _config.streamContent};this.getVideoInfo=function(){return{Title:_config.mtitle,Description:_config.mdescription,Length:_config.vlength}};var striveP2P=function(){var playerContainer=getElement(_config.container);var src="https://cdn.strivetech.io/client/web/strive-loader.v1.min.js?manifest="+_config.strive_token;var script=document.createElement("script");script.type="text/javascript";script.async=true;script.defer=true;script.src=src;playerContainer.appendChild(script)}};return sdnConstructor})();
var sdnPlaylists=(function(){var b=this;var a=function(){var f=1;var q;var i;var o={playlistBar:false,javaScriptBridge:true,javaScriptBridgeFunction:"sdnPlaylistBridge",container:"sdnPlayer",debug:false,iframe:true,fallback:"",flash:false,muted:true,showExternalPlayerLinks:false,playlist:"",request:false,label:"",vastid:0,autoplay:false};this.setConfig=function(s){o=s};var r=function(){var t=c(o.container);var u="https://playout.3qsdn.com/player/css/player.css";var s=document.createElement("link");s.type="text/css";s.rel="stylesheet";s.media="all";s.href=u;t.appendChild(s)};var p=function(){var t="playout.3qsdn.com/player/css/player.css";var s=document.getElementsByTagName("link");for(var u=0;u<s.length;u++){if(s[u].href.substr(-t.length)==t){return true}}};var m=function(t,u){var s=c(t);if(typeof(s)!="undefined"&&s!=null){s.innerHTML=u}};var d=function(t,u,v){var s=c(t);if(typeof(s)!="undefined"&&s!=null){s.setAttribute(u,v)}};var l=function(v,u,w){var s=c(v);if(typeof(s)!="undefined"&&s!=null){var t=s.appendChild(document.createElement(u));t.setAttribute("id",w)}};var c=function(t){var s=document.getElementById(t);if(typeof(s)!="undefined"&&s!=null){return s}};var h=function(u,t,s){if(u.attachEvent){u["e"+t+s]=s;u[t+s]=function(){u["e"+t+s](window.event)};u.attachEvent("on"+t,u[t+s])}else{u.addEventListener(t,s,false)}};var n=function(u,t,s){if(u.detachEvent){u.detachEvent("on"+t,u[t+s]);u[t+s]=null}else{u.removeEventListener(t,s,false)}};var k=function(u){var w=parseInt(u,10);var s=Math.floor(w/3600);var t=Math.floor((w-(s*3600))/60);var v=w-(s*3600)-(t*60);if(t<10){t="0"+t}if(v<10){v="0"+v}if(s>0){var u=s+":"+t+":"+v}else{var u=t+":"+v}return u};this.loadsdnSRC=function(v){if(p()!=true){r()}q=v;i=JSON.parse(q);if(o.playlistBar!=true){var u=o.container;var x=o.container+"_playlist";l(u,"div",x);d(x,"style","width:100%;height:100%;");d(x,"class","sdn-display")}else{var u=o.container;var x=o.container+"_wrapper";l(u,"div",x);d(x,"style","width:100%;height:100%;");var u=o.container+"_wrapper";var x=o.container+"_playlist_wrapper";l(u,"div",x);d(x,"style","float:left;width:70%;height:100%;");var u=o.container+"_playlist_wrapper";var x=o.container+"_playlist";l(u,"div",x);d(x,"style","width:100%;height:100%;");var u=o.container+"_wrapper";var x=o.container+"_list";l(u,"div",x);d(x,"style","width:auto;height:100%;overflow-y:scroll;");d(x,"class","sdn-playlist-list");var u=o.container+"_list";var x=o.container+"_list_info";l(u,"div",x);m(x,o.label);d(x,"class","sdn-playlist-info");var u=o.container+"_list";var x=o.container+"_list_wrapper";l(u,"div",x);d(x,"style","width:100%;height:100%;");d(x,"class","sdn-playlist-ul-wrapper");var u=o.container+"_list_wrapper";var x=o.container+"_list_items";l(u,"ul",x);d(x,"class","sdn-playlist-ul")}g(f);if(o.playlistBar==true){if(document.getElementById(o.container+"_list")&&document.getElementById(o.container)){var w=document.getElementById(o.container+"_list").clientWidth;if(w>300){w=300}var t=document.getElementById(o.container).clientWidth-w;d(o.container+"_playlist_wrapper","style","float:left;min-width:320px;width:"+t+"px;height:100%;");d(o.container+"_list","style","width:auto;height:100%;overflow-y:scroll;")}else{d(o.container+"_playlist_wrapper","style","width:100%;height:100%;")}}};this.switchToFile=function(s){e(s)};var e=function(u){for(var t in i){var s=i[t];if(u==s.sdnPlayoutId){f=t}}if(o.playlistBar==true){j()}g(f)};var j=function(){function s(x,y){var z=document.getElementById(x);if(z){if(typeof window.addEventListener==="function"){z.addEventListener("click",function(){g(y)})}}}var w={};m(o.container+"_list_items","");for(var v in i){var t=i[v];var u=o.container+"_list_items";w[v]=o.container+"_list_items_item_"+v;l(u,"li",w[v]);if(i[f].sdnPlayoutId===t.sdnPlayoutId){m(w[v],'<div class="sdn-playlist-thumbnail"><img src="'+t.thumb+'"></div><div class="sdn-playlist-description"><strong>'+t.title+"</strong></div>");s(w[v],v)}else{m(w[v],'<div class="sdn-playlist-thumbnail"><img src="'+t.thumb+'"></div><div class="sdn-playlist-description">'+t.title+"</div>");s(w[v],v)}}};var g=function(B){f=B;var z=document.getElementById(o.container+"_playlist");if(z&&typeof z.destroy==="function"){z.destroy()}if(o.playlistBar==true){j()}m(o.container+"_playlist_wrapper","");l(o.container+"_playlist_wrapper","div",o.container+"_playlist");d(o.container+"_playlist","style","width:100%;height:100%;");var x=document.getElementById(o.container);var H="playout.3qsdn.com";var D="0";var A="0";var F=true;if(B==1){F=o.autoplay}var y="0";var u=i[B].sdnPlayoutId;var E="100%25";var w="100%25";var t=o.container+"_playlist";var G=o.vastid;var v="https";var s=v+"://"+H+"/"+u+"?timestamp="+y+"&key="+D+"&js=true&autoplay="+F+"&container="+t+"&width="+E+"&height="+w+"&protocol="+v+"&token="+A+"&vastid="+G+"&jscallback=sdnPlaylistBridge";var C=document.createElement("script");C.type="text/javascript";C.async=true;C.src=s;x.appendChild(C)};this.initSDNPlaylist=function(){this.loadsdnSRC(JSON.stringify(o.playlist))};this.playNext=function(){var t=document.getElementById(o.container+"_playlist");if(t&&typeof t.destroy==="function"){t.destroy()}f++;var u=JSON.stringify(o.playlist);var s=JSON.parse(u);g(f);if(o.playlistBar==true){j()}};this.playPrev=function(){f--;g(f);if(o.playlistBar==true){j()}}};return a})();
var sdnPayment=(function(){var _instance=this;var sdnConstructor=function(){var _refreshToken="";var _userToken="0";var _HasPayed=0;var _config={sdnPlayoutId:"0bb8b66f-4196-11e4-a75b-002590c750be",sdnPaymentCompanyId:"f9nra6lFhH6pSFmxziTI",sdnPaymentProductId:"HGs0I6A2335542336141",sdnAuthRedirectURI:"",sdnPreviewTime:1,sdnToken:0,sdnUserToken:"",sdnTimeStamp:0,javaScriptBridge:true,javaScriptBridgeFunction:"sdnPlayerBridge",container:"sdnPlayer",debug:false};this.setConfig=function(c){_config=c};setHTML=function(element,value){var tempElement=_instance.getElement(element);if(typeof(tempElement)!="undefined"&&tempElement!=null){tempElement.innerHTML=value}};setAttr=function(element,type,value){var tempElement=_instance.getElement(element);if(typeof(tempElement)!="undefined"&&tempElement!=null){tempElement.setAttribute(type,value)}};setCreateElement=function(parent,type,id){var tempElement=_instance.getElement(parent);if(typeof(tempElement)!="undefined"&&tempElement!=null){var childElement=tempElement.appendChild(document.createElement(type));childElement.setAttribute("id",id)}};getElement=function(id){var tempElement=document.getElementById(id);if(typeof(tempElement)!="undefined"&&tempElement!=null){return tempElement}};loadPaymentModule=function(){if(typeof plenigo===typeof undefined){var src="https://static.plenigo.com/static_resources/javascript/"+_config.sdnPaymentCompanyId+"/plenigo_sdk.min.js";var script=document.createElement("script");script.type="text/javascript";script.async=true;script.src=src;script.id=_config.container+"-plenigojs";var playerContainer=document.getElementById(_config.container+"-sdn-payment-wrapper");playerContainer.appendChild(script);_instance.setAttr(_config.container+"-plenigojs","data-disable-metered","true");_instance.setAttr(_config.container+"-plenigojs","data-payment-check",_config.container+".checkPayment()");_instance.setAttr(_config.container+"-plenigojs","data-oauth2-access-code",_config.container+".userAuth()");var productArray="";for(_ProductKey in _config.sdnPaymentProductId){productArray+=_config.sdnPaymentProductId[_ProductKey].Id+","}_instance.setAttr(_config.container+"-plenigojs","data-product-id",productArray);setTimeout(function(){var ea=0;for(ea=0;ea==0;){if(typeof(plenigo)!="undefined"&&plenigo!=null){ea++;plenigo.start()}}},1000)}else{var productArray="";for(_ProductKey in _config.sdnPaymentProductId){productArray+=_config.sdnPaymentProductId[_ProductKey].Id+","}plenigo.configuration.options["product-id"]=productArray;plenigo.configuration.options["payment-check"]=_config.container+".checkPayment()";plenigo.configuration.options["oauth2-access-code"]=_config.container+".userAuth()";if(plenigo.initialized){plenigo.Login.isLoggedIn()}}_instance.setAttr(_config.container+"-play-buffer-overlay","style","display:none;")};this.loadPlayer=function(payed,userToken){_instance.loadPayer(payed,userToken)};loadPlayer=function(ads,userToken){_instance.setAttr(_config.container+"_sdn_player_wrapper","style","display:block;overflow:hidden;width:100%;height:100%;background:#000000;");_instance.setAttr(_config.container+"-sdn-payment-wrapper","style","display:none;");_instance.setHTML(_config.container+"_sdn_player_container","");var sdnRegioHost="playout.3qsdn.com";var sdnKey="0";var sdnToken="0";var sdnPaymentHash=_config.sdnToken;var sdnTimeStamp="0";var sdnPlayoutId=_config.sdnPlayoutId;var sdnPlayerWidth="100%25";var sdnPlayerHeight="100%25";var sdnPlayerContainer=_config.container+"_sdn_player_container";var sdnProtocol=(("https:"==document.location.protocol)?"https":"http");if(ads==true&&_config.sdnPreviewTime>0){var _seekBar=false;var _preview=true}else{var _seekBar=true;var _preview=false}var src=sdnProtocol+"://"+sdnRegioHost+"/"+sdnPlayoutId+"?timestamp="+sdnTimeStamp+"&key="+sdnKey+"&js=true&autoplay=true&container="+sdnPlayerContainer+"&width="+sdnPlayerWidth+"&height="+sdnPlayerHeight+"&protocol="+sdnProtocol+"&token="+sdnToken+"&jscallback="+_config.javaScriptBridgeFunction+"&paymentToken="+sdnPaymentHash+"&vast="+ads+"&seekBar="+_seekBar+"&userToken="+_userToken+"&preview="+_preview;var script=document.createElement("script");script.type="text/javascript";script.src=src;var playerContainer=document.getElementById(_config.container+"_sdn_player_wrapper");playerContainer.appendChild(script)};this.resumePaywall=function(){_instance.loadPaywall()};resumePaywall=function(){_instance.setAttr(_config.container+"_sdn_player_wrapper","style","display:none;");_instance.setHTML(_config.container+"_sdn_player_wrapper","");_instance.setAttr(_config.container+"-sdn-payment-wrapper","style","display:block;overflow:hidden;width:100%;height:100%;");var cid=_config.container+"_sdn_player_container";var pid=_config.container+"_sdn_player_wrapper";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"style","display:block;overflow:hidden;width:100%;height:100%;")};checkout=function(){plenigo.checkout()};this.userAuth=function(refreshToken){if(_config.sdnAuthRedirectURI!=""&&(_config.sdnUserToken=="0"||_config.sdnUserToken=="u0")){if(window.XMLHttpRequest){var _cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){var _cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET","https://playout.3qsdn.com/plenigo/auth?id="+_config.sdnPaymentCompanyId+"&token="+refreshToken+"&redirectURI="+encodeURIComponent(_config.sdnAuthRedirectURI),true);_cRequest.onreadystatechange=function(){if(_cRequest.readyState==4&&_cRequest.status==200){var srcText=_cRequest.responseText;var srcObject=JSON.parse(srcText);_userToken=srcObject.id;_refreshToken=srcObject.refreshToken;eval(_config.javaScriptBridgeFunction)(_config.container,"userAuth",_refreshToken);plenigo.Paywall.isAccessAllowed(function(result){if(result==true){_instance.loadPlayer(false,_refreshToken)}else{}})}};_cRequest.send(null)}else{eval(_config.javaScriptBridgeFunction)(_config.container,"userAuth",_refreshToken);plenigo.Paywall.isAccessAllowed(function(result){if(result==true){_instance.loadPlayer(false,_refreshToken)}else{}})}};this.checkAccess=function(r){plenigo.Paywall.isAccessAllowed(function(result){if(result==true){_instance.loadPlayer(false,r);eval(_config.javaScriptBridgeFunction)(_config.container,"userAuth",_refreshToken)}else{eval(_config.javaScriptBridgeFunction)(_config.container,"userAuth",_refreshToken)}})};this.checkPayment=function(r){if(_config.sdnAuthRedirectURI!=""){if(window.XMLHttpRequest){var _cRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){var _cRequest=new ActiveXObject("Microsoft.XMLHTTP")}}_cRequest.open("GET","https://playout.3qsdn.com/plenigo/check?id="+_config.sdnPaymentCompanyId,true);_cRequest.onreadystatechange=(function(){if(_cRequest.readyState==4&&_cRequest.status==200){var srcText=_cRequest.responseText;var srcObject=JSON.parse(srcText);_userToken=srcObject.id;plenigo.Paywall.isAccessAllowed(function(result){if(result==true){_instance.loadPlayer(false,r)}else{if(_config.sdnPreviewTime>0){var preTime=_config.sdnPreviewTime;var _val=setInterval(function(){var _player=document.getElementById(_config.container+"_sdn_player_container");if(_player&&typeof _player.getCurrentTime==="function"){var _currentTime=_player.getCurrentTime();if(_currentTime>=(preTime-3)){_instance.resumePaywall();clearInterval(_val)}}},1000);_instance.loadPlayer(true,0)}else{_instance.resumePaywall()}}})}});_cRequest.send(null)}else{plenigo.Paywall.isAccessAllowed(function(result){if(result==true){_instance.loadPlayer(false,r)}else{if(_config.sdnPreviewTime>0){var preTime=_config.sdnPreviewTime;var _val=setInterval(function(){var _player=document.getElementById(_config.container+"_sdn_player_container");var _currentTime=_player.getCurrentTime();if(_currentTime>=(preTime-3)){_instance.resumePaywall();clearInterval(_val)}},1000);_instance.loadPlayer(true,0)}else{_instance.resumePaywall()}}})}};loadPayWall=function(s){var sdnPlayer=document.getElementById(_config.container+"_sdn_player_wrapper");if(sdnPlayer&&typeof sdnPlayer.destroy==="function"){sdnPlayer.destroy()}var cid=_config.container+"_sdn_player_wrapper";var pid=_config.container;_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"style","display:none;overflow:hidden;width:100%;height:100%;background:#000000;");var cid=_config.container+"_sdn_player_container";var pid=_config.container+"_sdn_player_wrapper";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"style","display:block;overflow:hidden;width:100%;height:100%;");var pid=_config.container;var cid=_config.container+"-sdn-payment-wrapper";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment");_instance.setAttr(cid,"style","display:none;overflow:hidden;width:100%;height:100%;");var pid=_config.container;var cid=_config.container+"-play-buffer-overlay";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-buffering");_instance.setAttr(_config.container+"-play-buffer-overlay","style","display:none;");for(var i=1;i<13;i++){var pid=_config.container+"-play-buffer-overlay";var cid="-play-buffer-bar"+i;_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","bar"+i)}if(_config.sdnPreviewTime==0){var pid=_config.container+"-sdn-payment-wrapper";var cid=_config.container+"-sdn-payment-info";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-info");var pid=_config.container+"-sdn-payment-info";var cid=_config.container+"-sdn-payment-left";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-left");var pid=_config.container+"-sdn-payment-left";var cid=_config.container+"-sdn-payment-thumbnail";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-image-container");_instance.setHTML(cid,'<img style="width:100%;" src="'+_config.poster+'"/><div class="sdn-payment-time-info">'+_config.length+"</div>");var pid=_config.container+"-sdn-payment-left";var cid=_config.container+"-sdn-payment-statistic";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-statistic");var pid=_config.container+"-sdn-payment-info";var cid=_config.container+"-sdn-payment-right";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-right");var pid=_config.container+"-sdn-payment-right";var cid=_config.container+"-sdn-payment-title";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-header");_instance.setHTML(cid,_config.title);var pid=_config.container+"-sdn-payment-right";var cid=_config.container+"-sdn-payment-description";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-description");_instance.setHTML(cid,_config.description);var pid=_config.container+"-sdn-payment-right";var cid=_config.container+"-sdn-payment-options";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-options");var checkOutHTML="";for(_ProductKey in _config.sdnPaymentProductId){var priceAddText="";if(_config.sdnPaymentProductId[_ProductKey].Price!=""){priceAddText="für "+_config.sdnPaymentProductId[_ProductKey].Price}checkOutHTML+='<a href="javascript:'+_config.sdnPaymentProductId[_ProductKey].Snippet+'" class="sdn-payment-btn">'+_config.sdnPaymentProductId[_ProductKey].Label+" "+priceAddText+"</a>"}_instance.setHTML(cid,checkOutHTML)}else{var pid=_config.container+"-sdn-payment-wrapper";var cid=_config.container+"-sdn-payment-info";_instance.setCreateElement(pid,"div",cid);_instance.setAttr(cid,"class","sdn-payment-preview-box");if(_config.poster!=""){_instance.setAttr(cid,"style",'background: url("'+_config.poster+'") no-repeat 100% 100%;background-size:cover;-moz-background-size: cover;-webkit-background-size: cover;')}var checkOutHTML='<h2>Sie möchten weiterschauen?</h2><p style="font-size:11px;">';var ii=0;for(_ProductKey in _config.sdnPaymentProductId){var priceAddText="";if(_config.sdnPaymentProductId[_ProductKey].Price!=""){priceAddText="für "+_config.sdnPaymentProductId[_ProductKey].Price}checkOutHTML+='<a href="javascript:'+_config.sdnPaymentProductId[_ProductKey].Snippet+'" class="sdn-payment-preview-btn">'+_config.sdnPaymentProductId[_ProductKey].Label+"</a>"}_instance.setHTML(cid,checkOutHTML)}if(_config.sdnUserToken!="0"&&_config.sdnUserToken!="u0"){_userToken=_config.sdnUserToken}_instance.loadPaymentModule()};this.playMovie=function(){_instance.loadPayWall()};this.initPaymentApp=function(){_instance.loadPayWall()}};return sdnConstructor})();
var sdnComment=(function(){var b=this;var a=function(){var e;var q=function(){var y=navigator.userAgent.toLowerCase();return(y.indexOf("msie")!=-1)?parseInt(y.split("msie")[1]):false};var t=function(){var z="playout.3qsdn.com/player/css/player.css";var y=document.getElementsByTagName("link");for(var A=0;A<y.length;A++){if(y[A].href.substr(-z.length)==z){return true}}};var w=function(){var z=l(i.container);var A="https://playout.3qsdn.com/player/css/player.css";var y=document.createElement("link");y.type="text/css";y.rel="stylesheet";y.media="all";y.href=A;z.appendChild(y)};var c=function(){var y=navigator.languages?navigator.languages[0]:(navigator.language||navigator.userLanguage);if(y){return y}return null};var n=function(){switch(c()){case"de-DE":e="de-DE";break;case"de":e="de-DE";break;case"de-CH":e="de-DE";break;case"de-AT":e="de-DE";break;case"en":e="en";break;case"en-US":e="en";break;case"en-GB":e="en";break;default:e="en";break}};var k={"de-DE":{comments:"Kommentare",name:"Name",write:"Schreiben Sie einen Kommentar",submit:"Absenden",confirm:"Vielen Dank für Ihren Kommentar"},en:{comments:"Comments",name:"Name",write:"Write a Comment",submit:"Submit",confirm:"Thank you. Your comments have been submitted and will be reviewed by the moderator."}};var p=false;var h="";var o=0;var i={sdnPlayoutId:"0bb8b66f-4196-11e4-a75b-002590c750be",sdnToken:0,sdnTimeStamp:0,javaScriptBridge:true,javaScriptBridgeFunction:"sdnPlaylistBridge",container:"sdnPlayer",debug:false,features:true,access:true};this.setConfig=function(z){i=z;n();var y="";if(i.firstname!=""||i.surname!=""){y=i.firstname+" "+i.surname}if(q()==true){h=k[e].name+'<br/><input id="'+i.container+'_form_Name" value="'+y+'" autocomplete="off" type="text"/><br>'+k[e].write+'<br/><textarea id="'+i.container+'_form_Comment" autocomplete="off" style="width:100%;height:60px;margin-right:10px;padding:5px 12px;"></textarea><input id="'+i.container+'-post" style="visibility: visible;" class="submit" type="submit" value="'+k[e].submit+'"/>'}else{h='<input id="'+i.container+'_form_Name" value="'+y+'" autocomplete="off" placeholder="'+k[e].name+'" type="text"/><textarea id="'+i.container+'_form_Comment" autocomplete="off" placeholder="'+k[e].write+'" style="width:100%;height:60px;margin-right:10px;padding:5px 12px;"></textarea><input id="'+i.container+'-post" style="visibility: visible;" class="submit" type="submit" value="'+k[e].submit+'"/>'}};var v=function(z,A){var y=l(z);if(typeof(y)!="undefined"&&y!=null){y.innerHTML=A}};var x=function(z,A,B){var y=l(z);if(typeof(y)!="undefined"&&y!=null){y.setAttribute(A,B)}};var j=function(B,A,C){var y=l(B);if(typeof(y)!="undefined"&&y!=null){var z=y.appendChild(document.createElement(A));z.setAttribute("id",C)}};var l=function(z){var y=document.getElementById(z);if(typeof(y)!="undefined"&&y!=null){return y}};var r=function(A,z,y){if(A.attachEvent){A["e"+z+y]=y;A[z+y]=function(){A["e"+z+y](window.event)};A.attachEvent("on"+z,A[z+y])}else{A.addEventListener(z,y,false)}};var u=function(A,z,y){if(A.detachEvent){A.detachEvent("on"+z,A[z+y]);A[z+y]=null}else{A.removeEventListener(z,y,false)}};this.loadPlayer=function(y){loadPayer(y)};var f=function(B){x(i.container+"_sdn_player_wrapper","style","display:block;overflow:hidden;width:70%;height:100%;background:#000000;float:left;");x(i.container+"-sdn-comment-wrapper","style","display:block;width:30%;height:100%;");var F=document.getElementById(i.container+"_sdn_player_wrapper_container");if(F&&typeof F.destroy==="function"){console.log("player destroyed");F.destroy()}v(i.container+"_sdn_player_wrapper","");v(i.container+"_sdn_player_wrapper_container","");var J=i.container+"_sdn_player_wrapper_container";var H=i.container+"_sdn_player_wrapper";j(H,"div",J);x(J,"style","display:block;overflow:hidden;width:100%;height:100%;");var O="playout.3qsdn.com";var M=i.sdnKey;var I="0";var G=i.sdnToken;var E=i.sdnTimeStamp;var A=B;var N="100%25";var D="100%25";var z=i.container+"_sdn_player_wrapper_container";var C=(("https:"==document.location.protocol)?"https":"http");var y=C+"://"+O+"/"+A+"?timestamp="+E+"&key="+M+"&js=true&container="+z+"&width="+N+"&height="+D+"&protocol="+C+"&token="+I+"&jscallback="+i.javaScriptBridgeFunction+"&player=true&wmode=transparent&layout=default&autoplay=true&features="+i.features;var K=document.createElement("script");K.type="text/javascript";K.src=y;var L=document.getElementById(i.container+"_sdn_player_wrapper");L.appendChild(K)};this.initComments=function(){g()};this.postComment=function(){s()};var s=function(){var z=document.getElementById(i.container+"_form_Name").value;var y=document.getElementById(i.container+"_form_Comment").value;var A="https://playout.3qsdn.com/comments/"+i.sdnPlayoutId+"/insert";if(typeof p!=="undefined"&&p!=null&&p!=false){p=null}if(window.XMLHttpRequest){p=new XMLHttpRequest()}else{if(window.ActiveXObject){p=new ActiveXObject("Microsoft.XMLHTTP")}}p.open("POST",A,true);p.setRequestHeader("Content-type","application/x-www-form-urlencoded");p.onreadystatechange=function(){try{if(p.readyState!=4){v(i.container+"_sdn_comment_submit","<p>An error eccurred, please try again.</p>");setTimeout(function(){v(i.container+"_sdn_comment_submit",h);r(l(i.container+"-post"),"click",function(){s()})},5000)}if(p.readyState==4&&p.status==200||p.status==204){v(i.container+"_sdn_comment_submit","<p>"+k[e].confirm+"</p>");setTimeout(function(){v(i.container+"_sdn_comment_submit",h);r(l(i.container+"-post"),"click",function(){s()})},5000)}}catch(B){v(i.container+"_sdn_comment_submit","<p>"+k[e].confirm+"</p>");setTimeout(function(){v(i.container+"_sdn_comment_submit",h);r(l(i.container+"-post"),"click",function(){s()})},5000)}};setTimeout(function(){p.send("name="+z+"&comment="+y)},500)};var m=function(){var y="https://playout.3qsdn.com/comments/"+i.sdnPlayoutId+"/comments.json";if(typeof p!=="undefined"&&p!=null&&p!=false){p.abort();p=null}if(window.XMLHttpRequest){p=new XMLHttpRequest()}else{if(window.ActiveXObject){p=new ActiveXObject("Microsoft.XMLHTTP")}}p.open("GET",y,true);p.onreadystatechange=function(){if(p.readyState!=4){}if(p.readyState==4&&p.status==200){var z="";var E=p.responseText;var C=JSON.parse(E);for(var B in C){var A=C[B];if(typeof(A.Name)!="undefined"&&A.Name!=null){z+="<strong>"+A.Name+"</strong>: "+A.Comment+"<br><hr>"}}v(i.container+"_sdn_comment_comments",z);var D=l(i.container+"_sdn_comment_comments");if(typeof(D)!="undefined"&&D!=null){D.scrollTop=0}}};p.send(null)};var d=function(){function y(G){var H=document.getElementById(i.container+"_sdn_player_lang-list-ul-"+G);if(typeof window.addEventListener==="function"){H.addEventListener("click",function(){x(i.container+"_sdn_player_lang","style","visibility:hidden;display:none;");f(E[G].playout)})}}var C;var A;function D(){x(i.container+"_sdn_player_lang","style","visibility:visible;display:block;");C=setTimeout(function(){x(i.container+"_sdn_player_lang","style","visibility:hidden;display:none;");A=setTimeout(function(){x(i.container+"_sdn_player_lang","style","height:1px;padding-bottom:0px;opacity:0;")},250)},2500)}r(l(i.container),"mousemove",function(){clearTimeout(C);clearTimeout(A);D()});var z=i.container;var F=i.container+"_sdn_player_lang";j(z,"div",F);x(F,"class","sdn-lang-div");var z=i.container+"_sdn_player_lang";var F=i.container+"_sdn_player_lang-head";j(z,"div",F);v(F,'<h1><div id="test" class="sdn-button sdnicbsun-lang" style="float:left"></div> Choose Language</h1>');var z=i.container+"_sdn_player_lang";var F=i.container+"_sdn_player_lang-list";j(z,"div",F);var z=i.container+"_sdn_player_lang-list";var F=i.container+"_sdn_player_lang-list-ul";j(z,"ul",F);var E={0:{label:"English",playout:"e8353598-37a2-11e6-b427-0cc47a188158"},1:{label:"Deutsch",playout:"5a1253e2-9441-11e6-a407-0cc47a188158"},2:{label:"Français",playout:"b8d6da1d-942f-11e6-a407-0cc47a188158"},3:{label:"Español",playout:"c6b167eb-942f-11e6-a407-0cc47a188158"},4:{label:"Italiano",playout:"85039679-9441-11e6-a407-0cc47a188158"}};for(var B in E){var F=i.container+"_sdn_player_lang-list-ul";var F=i.container+"_sdn_player_lang-list-ul-"+B;j(z,"li",F);v(F,"<span>"+E[B].label+"</span>");y(B)}};var g=function(A){if(t()!=true){w()}var E=i.container+"_sdn_player_wrapper";var y=i.container;j(y,"div",E);x(E,"style","display:block;overflow:hidden;width:70%;height:100%;background:#000000;");var E=i.container+"_sdn_player_wrapper_container";var y=i.container+"_sdn_player_wrapper";j(y,"div",E);x(E,"style","display:block;overflow:hidden;width:100%;height:100%;");var y=i.container;var E=i.container+"_sdn_comment_wrapper";j(y,"div",E);x(E,"class","sdn-comment");x(E,"style","display:block;width:29%;height:100%;float:right;");var y=i.container+"_sdn_comment_wrapper";var E=i.container+"_sdn_comment_header";j(y,"div",E);x(E,"class","sdn-comment-header");x(E,"style","margin:0px;padding:0px;height:35px;");v(E,"<h1>"+k[e].comments+"</h1>");var C=document.getElementById(i.container);var D=C.clientHeight;var B=Math.round(D);var y=i.container+"_sdn_comment_wrapper";var E=i.container+"_sdn_comment_comments";j(y,"div",E);x(E,"class","sdn-comment-comments");var y=i.container+"_sdn_comment_wrapper";var E=i.container+"_sdn_comment_submit";j(y,"div",E);x(E,"class","sdn-comment-submit");x(E,"style","display:block;overflow:hidden;bottom:0px;");v(E,h);r(l(i.container+"-post"),"click",function(){s()});f(i.sdnPlayoutId);if(i.sdnPlayoutId=="e8353598-37a2-11e6-b427-0cc47a188158"){d()}function z(){var F=l(i.container+"_sdn_comment_submit").clientHeight;var G=l(i.container+"_sdn_comment_header").clientHeight;var H=F+G+10;var I=Math.round(D-H);x(i.container+"_sdn_comment_comments","style","display:block;overflow-y: scroll;height:"+I+"px;")}window.addEventListener("resize",z,false);setTimeout(function(){z()},1000);if(i.access==true){m();setInterval(function(){m()},10000)}}};return a})();
var sdnPresentation=(function(){var b=this;var a=function(){var h;var j=function(){var q=navigator.languages?navigator.languages[0]:(navigator.language||navigator.userLanguage);if(q){return q}return null};var o=function(){switch(j()){case"de-DE":e="de-DE";break;case"en":e="en";break;case"en-US":e="en";break;case"en-GB":e="en";break;default:e="de-DE";break}};var e="de-DE";var c={"de-DE":{comments:"Kommentare",name:"Name",write:"Schreiben Sie einen Kommentar",submit:"Absenden",confirm:"Vielen Dank für Ihren Kommentar"},en:{comments:"Comments",name:"Name",write:"Write a Comment",submit:"Submit",confirm:"Thank you. Your comments have been submitted and will be reviewed by the moderator."}};var f=false;var i;var n="";var l=0;var k={sdnPlayoutId:"0bb8b66f-4196-11e4-a75b-002590c750be",sdnToken:0,sdnTimeStamp:0,javaScriptBridge:true,javaScriptBridgeFunction:"sdnPlaylistBridge",container:"sdnPlayer",debug:false,features:true};this.setConfig=function(q){k=q};setHTML=function(r,s){var q=b.getElement(r);if(typeof(q)!="undefined"&&q!=null){q.innerHTML=s}};setAttr=function(r,s,t){var q=b.getElement(r);if(typeof(q)!="undefined"&&q!=null){q.setAttribute(s,t)}};setCreateElement=function(t,s,u){var q=b.getElement(t);if(typeof(q)!="undefined"&&q!=null){var r=q.appendChild(document.createElement(s));r.setAttribute("id",u)}};getElement=function(r){var q=document.getElementById(r);if(typeof(q)!="undefined"&&q!=null){return q}};addEvent=function(s,r,q){if(s.attachEvent){s["e"+r+q]=q;s[r+q]=function(){s["e"+r+q](window.event)};s.attachEvent("on"+r,s[r+q])}else{s.addEventListener(r,q,false)}};removeEvent=function(s,r,q){if(s.detachEvent){s.detachEvent("on"+r,s[r+q]);s[r+q]=null}else{s.removeEventListener(r,q,false)}};var p=function(){window.addEventListener("message",function(q){switch(q.data.data){case"timeChange":d(q.data.value);break}},false)};var d=function(s){var q=0;for(var r=0;r<k.slides.length;r++){if(k.slides[r][0]<=s){q=r}}if(!(i==k.slides[q][1])){setHTML(k.container+"_sdn_slides_box",'<img src="'+k.slides[q][1]+'" />');i=k.slides[q][1]}};var m=function(){function r(u,v){var w=document.getElementById(k.container+"_sdn_player_wrapper_slideBox_"+u);if(typeof window.addEventListener==="function"){w.addEventListener("click",function(){getElement(k.container+"_sdn_player_container").seek(v)})}}for(var s=0;s<k.slides.length;s++){var q=k.container+"_sdn_player_wrapper_slideBox";var t=k.container+"_sdn_player_wrapper_slideBox_"+k.slides[s][0];setCreateElement(q,"div",t);setHTML(t,'<img src="'+k.slides[s][1]+'" />');r(k.slides[s][0],k.slides[s][0])}};var g=function(){var t=getElement(k.container).clientHeight/3;var s=getElement(k.container).clientHeight-t;var r=getElement(k.container+"_sdn_player_wrapper_container").clientWidth/1.777777777777778;setAttr(k.container+"_sdn_player_container","style","height:"+s+"px;min-height:"+r+"px;max-height:"+r+"px;");var q=getElement(k.container).clientHeight-getElement(k.container+"_sdn_player_wrapper_container").clientHeight-10;setAttr(k.container+"_sdn_player_wrapper_slideBox","style","height:"+q+"px;")};this.loadPlayer=function(){p();var x=k.container;var z=k.container+"_sdn_player_wrapper";setCreateElement(x,"div",z);setAttr(z,"class","sdn-presentationPlayer");var x=k.container+"_sdn_player_wrapper";var z=k.container+"_sdn_player_wrapper_container";setCreateElement(x,"div",z);var x=k.container+"_sdn_player_wrapper_container";var z=k.container+"_sdn_player_container";setCreateElement(x,"div",z);var x=k.container+"_sdn_player_wrapper";var z=k.container+"_sdn_player_wrapper_slideBox";setCreateElement(x,"div",z);setAttr(z,"class","sdn-presentationSlideBox");g();m();var x=k.container;var z=k.container+"_sdn_slides";setCreateElement(x,"div",z);setAttr(z,"class","sdn-presentationSlides");var x=k.container+"_sdn_slides";var z=k.container+"_sdn_slides_box";setCreateElement(x,"div",z);setAttr(z,"class","box");var E="playout.3qsdn.com";var C="0";var y="0";var w=k.sdnToken;var v="0";var s=k.sdnPlayoutId;var D="100%25";var u="100%25";var r=k.container+"_sdn_player_container";var t=(("https:"==document.location.protocol)?"https":"http");var q=t+"://"+E+"/"+s+"?timestamp="+v+"&key="+C+"&js=true&container="+r+"&width="+D+"&height="+u+"&protocol="+t+"&token="+y+"&jscallback="+k.javaScriptBridgeFunction+"&player=true&wmode=transparent&autoplay=true&amp=true&controlbar=true";var A=document.createElement("script");A.type="text/javascript";A.src=q;var B=document.getElementById(k.container+"_sdn_player_wrapper");B.appendChild(A)}};return a})();
var sdnSlides=(function(){var b=this;var a=function(){addEvent=function(g,f,e){if(g.attachEvent){g["e"+f+e]=e;g[f+e]=function(){g["e"+f+e](window.event)};g.attachEvent("on"+f,g[f+e])}else{g.addEventListener(f,e,false)}};removeEvent=function(g,f,e){if(g.detachEvent){g.detachEvent("on"+f,g[f+e]);g[f+e]=null}else{g.removeEventListener(f,e,false)}};fullscreen=function(){b.setAttr(d.container+"-exit-button","style","visibility:visible;display:block;");b.setAttr(d.container+"-enter-button","style","visibility:hidden;display:none;");var g=b.getElement(d.container);var e=b.getElement(d.container+"-display");e.setAttribute("style","");if(typeof(g)!="undefined"&&g!=null){g.setAttribute("class","sdnPlayerFullscreen")}function f(h){if(h.requestFullScreen){h.requestFullScreen()}else{if(h.mozRequestFullScreen){h.mozRequestFullScreen()}else{if(h.webkitRequestFullScreen){h.webkitRequestFullScreen()}else{if(h.webkitEnterFullscreen){h.webkitEnterFullscreen()}else{if(h.msRequestFullscreen){h.msRequestFullscreen()}}}}}}if(b.isIOS!==true){f(g)}else{f(g)}};exitfullscreen=function(){b.setAttr(d.container+"-exit-button","style","visibility:hidden;display:none;");b.setAttr(d.container+"-enter-button","style","visibility:visible;display:block;");var g=b.getElement(d.container);if(typeof(g)!="undefined"&&g!=null){var f=g.getAttribute("class");if(f=="sdnPlayerFullscreen"){g.setAttribute("class","sdnPlayer")}}function e(){if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}}}}}}e();b.setAttr(PlayerDisplayElement,"style","height:100%;width:100%;")};var c=false;var d={sdnPlayoutId:"0bb8b66f-4196-11e4-a75b-002590c750be",sdnSlidesId:"",sdnToken:0,sdnTimeStamp:0,javaScriptBridge:true,javaScriptBridgeFunction:"sdnSlideBridge",container:"sdnPlayer",debug:false,title:""};this.initSlides=function(){b.initSlides()};this.setConfig=function(e){d=e};setHTML=function(f,g){var e=b.getElement(f);if(typeof(e)!="undefined"&&e!=null){e.innerHTML=g}};setAttr=function(f,g,h){var e=b.getElement(f);if(typeof(e)!="undefined"&&e!=null){e.setAttribute(g,h)}};setCreateElement=function(h,g,i){var e=b.getElement(h);if(typeof(e)!="undefined"&&e!=null){var f=e.appendChild(document.createElement(g));f.setAttribute("id",i)}};getElement=function(f){var e=document.getElementById(f);if(typeof(e)!="undefined"&&e!=null){return e}};this.loadPlayer=function(){b.loadPayer()};loadPlayer=function(){b.setHTML(d.container+"-sdn_player_wrapper","");var q="playout.3qsdn.com";var o="0";var l="0";var k=d.sdnToken;var j="0";var g=d.sdnPlayoutId;var p="100%25";var i="65%25";var f=d.container+"_sdn_player_wrapper";var h=(("https:"==document.location.protocol)?"https":"http");var e=h+"://"+q+"/"+g+"?timestamp="+j+"&key="+o+"&js=true&container="+f+"&width="+p+"&height="+i+"&protocol="+h+"&token="+l+"&jscallback="+d.javaScriptBridgeFunction+"&player=true";var m=document.createElement("script");m.type="text/javascript";m.src=e;var n=document.getElementById(d.container+"_sdn_player_wrapper");n.appendChild(m)};loadSlides=function(){if(window.XMLHttpRequest){var e=new XMLHttpRequest()}else{if(window.ActiveXObject){var e=new ActiveXObject("Microsoft.XMLHTTP")}}e.open("GET","https://playout.3qsdn.com/slides/"+d.sdnSlidesId,true);e.onreadystatechange=function(){if(e.readyState!=4){}if(e.readyState==4&&e.status==200){var f=e.responseText;var g=JSON.parse(f);b.setHTML(d.container+"-sdn-slide-slides",'<img style="width:100%;height:100%;margin:auto;display:block;text-align:center;object-fit: contain;" src="https://sdn-global-prog-cache.3qsdn.com/cache/img/playerlogos/'+g.URI+'" />')}};e.send(null)};initSlides=function(h){var k=d.container+"-display";var f=d.container;b.setCreateElement(f,"div",k);b.setAttr(k,"class","sdn-display");b.setAttr(k,"style","background:#000000;");var k=d.container+"-display-align";var f=d.container+"-display";b.setCreateElement(f,"div",k);b.setAttr(k,"class","sdn-display");b.setAttr(k,"style","background:#000000;");var k=d.container+"_sdn_player_wrapper_parent";var f=d.container+"-display-align";b.setCreateElement(f,"div",k);b.setAttr(k,"style","overflow:hidden;width:40%;height:100%;float:left;");var k=d.container+"_sdn_player_wrapper";var f=d.container+"_sdn_player_wrapper_parent";b.setCreateElement(f,"div",k);b.setAttr(k,"style","overflow:hidden;width:100%;height:65%;background:#000000;");var k=d.container+"_sdn_player_info";var f=d.container+"_sdn_player_wrapper_parent";b.setCreateElement(f,"div",k);b.setAttr(k,"style","vertical-align:top;border-radius: 0;padding:15px;");b.setHTML(k,'<p style="vertical-align:top;color:white;font-family: Arial, Helvetica, Sans-Serif;font-size: 15px;font-weight: normal;text-align:center;text-transform: none;">'+d.title+"</p>");var k=d.container+"_sdn_player_info_box";var f=d.container+"_sdn_player_info";b.setCreateElement(f,"div",k);b.setAttr(k,"style","width:100%;height:100%;padding:0px;margin:0px;text-align: center;");var f=d.container+"-display-align";var k=d.container+"-sdn-slide-slides";b.setCreateElement(f,"div",k);b.setAttr(k,"class","sdn-slide");b.setAttr(k,"style","margin:auto;padding:auto;text-align:center;width:60%;height:auto;overflow:hidden;");var f=d.container+"-display";var k=d.container+"-sdn-slide-chrome";b.setCreateElement(f,"div",k);b.setAttr(k,"class","sdn-player-controls");b.setAttr(k,"style","background:#000;height:25px;");var i=b.getElement(d.container+"-source-container");var f=d.container+"-sdn-slide-chrome";var k=d.container+"-enter-button";b.setCreateElement(f,"div",k);b.setAttr(k,"class","sdn-player-enter sdnicbsun-fullscreen");var f=d.container+"-sdn-slide-chrome";var k=d.container+"-exit-button";b.setCreateElement(f,"div",k);b.setAttr(k,"class","sdn-player-exit sdnicbsun-exitfullscreen");b.setAttr(k,"style","visibility:hidden;display:none;");b.loadPlayer();b.loadSlides();setInterval(function(){b.loadSlides()},3000);b.addEvent(document,"fullscreenchange",e);b.addEvent(document,"mozfullscreenchange",e);b.addEvent(document,"webkitfullscreenchange",e);function e(){console.log("fullscreenchange");var m=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;var l=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled;if(!m||!l){b.setAttr(d.container,"class","sdnPlayer");b.setAttr(d.container+"-exit-button","style","visibility:hidden;display:none;");b.setAttr(d.container+"-enter-button","style","visibility:visible;display:block;")}else{}}var j=b.getElement(d.container+"-enter-button");b.addEvent(j,"click",b.fullscreen);var g=b.getElement(d.container+"-exit-button");b.addEvent(g,"click",b.exitfullscreen)}};return a})();
var sdnPopover=(function(){var a=function(){var b=this;var i={sdnPlayoutId:"0bb8b66f-4196-11e4-a75b-002590c750be",sdnToken:0,sdnTimeStamp:0,javaScriptBridge:true,javaScriptBridgeFunction:"sdnPopoverBridge",container:"sdnPlayer",poster:"",debug:false};this.setConfig=function(j){i=j};var g=function(k,l){var j=e(k);if(typeof(j)!="undefined"&&j!=null){j.innerHTML=l}};var f=function(k,l,m){var j=e(k);if(typeof(j)!="undefined"&&j!=null){j.setAttribute(l,m)}};var d=function(m,l,n){var j=e(m);if(typeof(j)!="undefined"&&j!=null){var k=j.appendChild(document.createElement(l));k.setAttribute("id",n)}};var e=function(k){var j=document.getElementById(k);if(typeof(j)!="undefined"&&j!=null){return j}};this.loadPlayer=function(k,j){loadPayer(k,j)};var h=function(o,w){f(i.container+"_popover","style","display:block;overflow:hidden;width:100%;height:100%;background:#000000;position:absolute;");var x="playout.3qsdn.com";var u="0";var r="0";var q=i.sdnToken;var p="0";var l=i.sdnPlayoutId;var v="100%25";var n="100%25";var k=i.container+"_popover_player";var m=(("https:"==document.location.protocol)?"https":"http");var j=m+"://"+x+"/"+l+"?timestamp="+p+"&key="+u+"&js=true&autoplay=true&container="+k+"&width="+v+"&height="+n+"&protocol="+m+"&token="+r+"&jscallback="+i.javaScriptBridgeFunction;var s=document.createElement("script");s.type="text/javascript";s.src=j;var t=document.getElementById(i.container+"_popover_player");t.appendChild(s)};var c=function(){var k=i.container+"_popover";var j=i.container;d(j,"div",k);f(k,"style","display:none;overflow:hidden;width:100%;height:100%;background:#000000;position:absolute;");f(k,"class","sdn-popover");var k=i.container+"_popover_player";var j=i.container+"_popover";d(j,"div",k);f(k,"style","width:100%;height:100%;background:#000000;");f(k,"class","sdn-popover");var k=i.container+"-wrapper";var j=i.container;d(j,"div",k);f(k,"style","display:block;overflow:hidden;width:100%;height:100%;");f(k,"class","sdn-display");if(i.poster!=false){var j=i.container+"-wrapper";var k=i.container+"-img";d(j,"img",k);f(k,"src",i.poster);f(k,"style","width:100%;")}var j=i.container+"-wrapper";var k=i.container+"-play-overlay";d(j,"div",k);f(k,"class","sdn-play-overlay");f(k,"style","display:block;visibility:visible;font-size:90px;");var j=i.container+"-play-overlay";var k=i.container+"-play-overlay-span";d(j,"span",k);f(k,"class","sdnicbsun-play");f(k,"style","display:block;visibility:visible;font-size:90px;");e(i.container+"-play-overlay").onclick=function(){h()}};this.closePlayer=function(){var j=document.getElementById(i.container+"_popover_player");j.destroy();var k=i.container+"_popover";f(k,"style","display:none;overflow:hidden;width:100%;height:100%;background:#000000;position:absolute;");g("")};this.initPopoverPlayer=function(){c()}};return a})();
var sdnWMS=(function(){var b=this;var a=function(){var c={wmsuri:"",container:"sdnPlayer",debug:false};this.setConfig=function(d){c=d};setHTML=function(e,f){var d=b.getElement(e);if(typeof(d)!="undefined"&&d!=null){d.innerHTML=f}};setAttr=function(e,f,g){var d=b.getElement(e);if(typeof(d)!="undefined"&&d!=null){d.setAttribute(f,g)}};setCreateElement=function(g,f,h){var d=b.getElement(g);if(typeof(d)!="undefined"&&d!=null){var e=d.appendChild(document.createElement(f));e.setAttribute("id",h)}};getElement=function(e){var d=document.getElementById(e);if(typeof(d)!="undefined"&&d!=null){return d}};this.loadPlayer=function(){b.loadPlayer()};loadPlayer=function(){b.setHTML(c.container,'<object id="MediaPlayer" classid="CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95" codebase="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=6,4,5,715" standby="Loading Microsoft Windows Media Player components..." type="application/x-oleobject" width="100%" height="100%"><param name="autostart" value="1"><param name="src" value="'+c.wmsuri+'"><param name="FileName" value="'+c.wmsuri+'"><param name="AnimationatStart" value="1"><param name="TransparentatStart" value="0"><param name="AutoStart" value="1"><param name="ShowControls" value="1"><embed type="application/x-mplayer2" pluginspage="http://www.microsoft.com/isapi/redir.dll?prd=windows&sbp=mediaplayer&ar=Media&sba=Plugin&" src="'+c.wmsuri+'" showcontrols="1" width="100%" height="100%" filename="'+c.wmsuri+'" animationatstart="1" transparentatstart="0" autostart="1"></embed></object>')}};return a})();
var sdnFlashController=(function(){var a=function(y){var j={container:"sdnPlayer",flashvars:{},params:{},attrs:{},width:"100%",height:"100%",currentplayout:"player",features:true};var x="player";var v=0;var h;var d=0;this.setConfig=function(z){j=z;x=j.currentplayout};var w=function(A,B,C){var z=l(A);if(typeof(z)!="undefined"&&z!=null){z.setAttribute(B,C)}};var p=function(A,B){var z=l(A);if(typeof(z)!="undefined"&&z!=null){z.innerHTML=B}};var l=function(A){var z=document.getElementById(A);if(typeof(z)!="undefined"&&z!=null){return z}};var n=function(B,A,z){if(B){if(B.attachEvent){B["e"+A+z]=z;B[A+z]=function(){B["e"+A+z](window.event)};B.attachEvent("on"+A,B[A+z])}else{B.addEventListener(A,z,false)}}};var b=function(z,B){if(B){z.parentNode.replaceChild(z.cloneNode(true),z)}else{var A=z.cloneNode(false);while(z.hasChildNodes()){A.appendChild(z.firstChild)}z.parentNode.replaceChild(A,z)}};var k=function(C,B,D){var z=l(C);if(typeof(z)!="undefined"&&z!=null){var A=z.appendChild(document.createElement(B));A.setAttribute("id",D)}};getTimeRemaining=function(C){var B=Date.parse(C)-Date.parse(new Date());var D=Math.floor((B/1000)%60);var A=Math.floor((B/1000/60)%60);var z=Math.floor((B/(1000*60*60))%24);var E=Math.floor(B/(1000*60*60*24));return{total:B,days:E,hours:z,minutes:A,seconds:D}};initializeClock=function(G,A){var z=document.getElementById(G);var D=z.querySelector(".days");var C=z.querySelector(".hours");var B=z.querySelector(".minutes");var E=z.querySelector(".seconds");function F(){var H=getTimeRemaining(A);D.innerHTML=H.days;C.innerHTML=("0"+H.hours).slice(-2);B.innerHTML=("0"+H.minutes).slice(-2);E.innerHTML=("0"+H.seconds).slice(-2);if(H.total<=0){clearInterval(h)}}F();clearInterval(h);h=setInterval(F,1000)};this.destroy=function(){destroy()};destroy=function(){var z=document.getElementById(j.container+"-sdn-player");if(document.getElementById(j.container+"-sdn-player")){if(z.childNodes&&z.childNodes.length>0){while(z.firstChild){z.removeChild(z.firstChild)}}b(z,true)}};var u=function(){destroy();p(j.container,"");var D=j.container;w(D,"class","sdnPlayer");var D=j.container+"-sdn-display";k(j.container,"div",D);w(D,"class","sdn-display");w(D,"style","background:"+j.bgcolor+";");if(j.channelboardposter!=""){w(D,"style","background-image: url('"+j.channelboardposter+"');background-size:contain;background-repeat: no-repeat;background-position:center;")}else{if(j.poster!=false){w(D,"style","background-image: url('"+j.poster+"');background-size:contain;background-repeat: no-repeat;background-position:center;")}}var z=j.container+"-sdn-display";var D=j.container+"-header";k(z,"div",D);if(j.currentplayout=="board"){w(D,"class","sdn-wall-headline");if(j.channelboardtitleline1!=null&&j.channelboardtitleline2!=null){p(D,j.channelboardtitleline1+"<br> <div>"+j.channelboardtitleline2+"</div>")}else{p(D,"<br> <div></div>")}}else{w(D,"class","sdn-countdown");p(D,'<div><span class="days"></span><div class="smalltext">Days</div></div><div><span class="hours"></span><div class="smalltext">Hours</div></div><div><span class="minutes"></span><div class="smalltext">Minutes</div></div><div><span class="seconds"></span><div class="smalltext">Seconds</div></div>');var A=new Date(j.countdown*1000);initializeClock(D,A)}var z=j.container+"-sdn-display";var D=j.container+"-channel-label";k(z,"div",D);w(D,"class","sdn-channel-label");w(D,"style","display:none;");if(j.channelcredits==true){w(D,"style","display:block;");if(j.channellogo!=""){p(D,'<div class="sdn-channel-logo"><img src="'+j.channellogo+'"/></div><div>'+j.channelcreditline1+"<br><span>"+j.channelcreditline2+"</span></div>")}else{p(D,"<div>"+j.channelcreditline1+"<br><span>"+j.channelcreditline2+"</span></div>")}}if(j.sharing==true){var z=j.container+"-sdn-display";var D=j.container+"-share-menu";k(z,"div",D);w(D,"class","sdn-share-menu");var z=j.container+"-share-menu";var D=j.container+"-twitter-button";k(z,"div",D);w(D,"class","sdn-button-right sdnicbsun-twitter");var B=l(j.container+"-twitter-button");n(B,"click",function(){var E=window.open("https://twitter.com/intent/tweet?url="+window.location,"_blank");E.location});var z=j.container+"-share-menu";var D=j.container+"-facebook-button";k(z,"div",D);w(D,"class","sdn-button-right sdnicbsun-facebook");var C=l(j.container+"-facebook-button");n(C,"click",function(){var E=window.open("http://www.facebook.com/sharer/sharer.php?u=https://playout.3qsdn.com/"+j.id+"?location="+window.location,"_blank");E.location})}};var t=function(z){x=z;switch(z){case"player":f();break;case"board":u();break;case"countdown":u();break;default:f();break}};var c=function(){var z;var A="https://playout.3qsdn.com/streamstatus?id="+j.stream;if(window.XMLHttpRequest){z=new XMLHttpRequest()}else{if(window.ActiveXObject){z=new ActiveXObject("Microsoft.XMLHTTP")}}z.open("GET",A,true);z.onreadystatechange=function(){if(z.readyState==4&&z.status==200){var B=JSON.parse(z.responseText);if(B[0].Metadata.playout!=x){j.channelboardtitleline1=B[0].Metadata.boardtitleline1;j.channelboardtitleline2=B[0].Metadata.boardtitleline2;j.channelboardposter=B[0].Metadata.boardposter;j.countdown=B[0].Metadata.countdown;j.currentplayout=B[0].Metadata.playout;j.autoplay=true;t(B[0].Metadata.playout)}}};z.send(null)};var f=function(){destroy();var z=j.container;var A=j.container+"-sdn-player";k(z,"div",A);w(A,"class","sdn-display");swfobject.embedSWF("https://playout.3qsdn.com/bin/sdnPlayer.swf",A,j.width,j.height,"10.2",null,j.flashvars,j.params,j.attrs);if(j.layout){if(j.layout=="responsive"){g();window.addEventListener("resize",function(B){g()})}}};var s=function(){var B="player";if(j.skin){B=j.skin}var A=l(j.container);var C="https://playout.3qsdn.com/player/css/"+B+".css";var z=document.createElement("link");z.type="text/css";z.rel="stylesheet";z.media="all";z.href=C;A.appendChild(z);z.onload=function(){d=1}};var o=function(){var C="player";if(j.skin){C=j.skin}var A="playout.3qsdn.com/player/css/"+C+".css";var z=document.getElementsByTagName("link");for(var B=0;B<z.length;B++){if(z[B].href.substr(-A.length)==A){return true}}};this.init=function(){if(o()!=true){s()}else{d=1}w(j.container,"class","sdnPlayer");var z=j.container;var B=j.container+"-top-chrome";k(z,"div",B);w(B,"class","sdn-top-chrome");var z=j.container+"-top-chrome";var B=j.container+"-share-menu";k(z,"div",B);w(B,"class","sdn-share-menu");var z=j.container+"-share-menu";var B=j.container+"-sidebar-button";k(z,"div",B);w(B,"class","sdn-button-right sdnicbsun-info sdn-hide");var A=l(j.container+"-sidebar-button");n(A,"click",function(){i()});var z=j.container;var B=j.container+"-sidebar";k(z,"div",B);w(B,"style","visibility:hidden;display:none;");w(B,"class","sdn-sidebar");p(B,"");var z=j.container+"-sidebar";var B=j.container+"-sidebar-content";k(z,"div",B);w(B,"style","visibility:vsible;display:block;");if(x=="player"){f()}else{if(j.features==true){u()}else{f()}}if(j.features){if(j.features==true){setInterval(function(){c()},10000)}}};var g=function(){var A=l(j.container+"-sdn-player").clientWidth;var B=1.777777777777778;if(j.aspect){B=j.aspect}if(l(j.container)){var z=Math.round(l(j.container+"-sdn-player").clientWidth/B);if(z<=100){z=150}w(j.container+"-sdn-player","style","width:100%;height:"+z+"px;")}};this.play=function(){document.getElementById(j.container+"-sdn-player").play2()};this.play2=function(){document.getElementById(j.container+"-sdn-player").play2()};this.pause=function(){document.getElementById(j.container+"-sdn-player").pause()};this.setVolume=function(z){document.getElementById(j.container+"-sdn-player").setVolume(z)};this.getVolume=function(){return document.getElementById(j.container+"-sdn-player").getVolume()};this.seek=function(z){document.getElementById(j.container+"-sdn-player").seek(z)};this.getCurrentTime=function(){return document.getElementById(j.container+"-sdn-player").getCurrentTime()};this.getDuration=function(){return document.getElementById(j.container+"-sdn-player").getDuration()};this.getPlaybackTime=function(){return document.getElementById(j.container+"-sdn-player").getCurrentTime()};this.getFullPlaybackTime=function(){return document.getElementById(j.container+"-sdn-player").getCurrentTime()};var i=function(){if(v==0){e()}else{r()}};this.showSideBarInfoIcon=function(){q()};var q=function(){w(j.container+"-sidebar-button","class","sdn-button-right sdnicbsun-info")};this.setSideBarHTML=function(z){m(z)};var m=function(z){p(j.container+"-sidebar-content",'<div class="sdn-sidebar-content">'+z+"</div>")};this.showSideBar=function(){w(j.container+"-sidebar","style","visibility:visible;display:block;");v=1};var e=function(){w(j.container+"-sidebar","style","visibility:visible;display:block;");v=1};this.hideSideBar=function(){w(j.container+"-sidebar","style","visibility:hidden;display:none;");v=0};var r=function(){w(j.container+"-sidebar","style","visibility:hidden;display:none;");v=0}};return a})();